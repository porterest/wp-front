INFO:     Started server process [1]
INFO:     Waiting for application startup.
2025-01-28 21:14:31,475 - ChainService - INFO - Начало генерации цепочек.
2025-01-28 21:14:33,271 - services.BlockService - INFO - begin handle_interrupted_block
2025-01-28 21:14:33,282 - services.BlockService - INFO - status=<BlockStatus.INTERRUPTED: 'interrupted'> result_vector=None completed_at=None
2025-01-28 21:14:33,299 - services.BlockService - INFO - Block(id=UUID('0af960aa-0c82-4b76-93a2-fa9f59cc99f8'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 285649), updated_at=datetime.datetime(2025, 1, 28, 21, 1, 20, 198524), block_number=12763, chain_id=UUID('d7cb3131-f0a7-4f43-8d19-e9524449d418'), status=<BlockStatus.INTERRUPTED: 'interrupted'>, completed_at=None, result_vector=None, bets=[Bet(id=UUID('5f202fca-b5ca-46b2-a07a-808dfc11ff93'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 961507), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 961515), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.6779021166517905], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('a79717be-43bb-49ce-a386-1128b420fbee'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 38674), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 38682), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.3399718110201295, 1.7496309310526623], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('93d8331e-a2a9-45e2-810e-6c8861d91bd2'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 109552), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 109558), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.270713103365002], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('fc7ff5b5-5f2a-41e2-945f-bfa979fb4a5b'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 947316), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 947323), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.6315782099770608, 1.4722851186376893], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('284ab02f-8076-4363-b19e-7ac76825deb9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 17913), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 17921), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9799239575041447, 1.479972245449436], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('7ac84d29-bb14-43d2-a8cc-c055d06b12e0'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 96581), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 96590), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.454040141305775, 1.4670003194566568], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('44109cf0-ad53-4039-b6f9-b8ea99c826f9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 909824), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 909832), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.5178277470929984], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('8c12d2b8-4fc5-41be-82c2-8e60a95553b0'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 974283), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 974291), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.8026049638816186, 1.3645429906601412], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('bbe54388-89c5-4162-ba43-e07880db5764'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 52168), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 52176), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.1282141750527956, 1.3793009202471356], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('e68c8d7a-0ad0-4a63-a4dd-94934fe8565f'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 121724), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 121733), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.3448030669180087, 1.3351964971621344], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('209c8fc3-f45d-419b-b8e8-9d2cea0f87ea'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 935344), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 935352), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9541876765270167, 11.42547118015932], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('5dbe1cf4-1f1c-4716-92c5-520ccf81c1e9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 5641), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 5649), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.7653680784011776, 1.591103634579726], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('9a941d8b-7f96-4eda-991d-7cba44c6c0a4'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 83834), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 83842), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[0.8607913741879454, 3.5510874113889903], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('b1a8c2e5-140b-4897-bbe6-c6994ea902e2'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 921845), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 921851), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.2230031055590516, 1.414324702955792], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('744a16e0-ae30-49ac-86b0-a71f1cca76fc'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 992848), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 992856), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[0.5774923725488391, 1.716389711885524], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')), Bet(id=UUID('254f3ca6-ca39-49af-878c-0a4366ad13b3'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 70689), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 70698), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9541876765270167, 11.469563277612917], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))])
2025-01-28 21:14:33,299 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('5f202fca-b5ca-46b2-a07a-808dfc11ff93'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 961507), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 961515), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.6779021166517905], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:36,377 - services.BlockService - INFO - Bet(id=UUID('5f202fca-b5ca-46b2-a07a-808dfc11ff93'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 961507), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 961515), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.6779021166517905], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:36,377 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('a79717be-43bb-49ce-a386-1128b420fbee'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 38674), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 38682), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.3399718110201295, 1.7496309310526623], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:39,424 - services.BlockService - INFO - Bet(id=UUID('a79717be-43bb-49ce-a386-1128b420fbee'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 38674), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 38682), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.3399718110201295, 1.7496309310526623], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:39,424 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('93d8331e-a2a9-45e2-810e-6c8861d91bd2'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 109552), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 109558), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.270713103365002], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:42,602 - services.BlockService - INFO - Bet(id=UUID('93d8331e-a2a9-45e2-810e-6c8861d91bd2'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 109552), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 109558), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.270713103365002], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:42,602 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('fc7ff5b5-5f2a-41e2-945f-bfa979fb4a5b'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 947316), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 947323), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.6315782099770608, 1.4722851186376893], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:45,363 - services.BlockService - INFO - Bet(id=UUID('fc7ff5b5-5f2a-41e2-945f-bfa979fb4a5b'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 947316), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 947323), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.6315782099770608, 1.4722851186376893], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:45,363 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('284ab02f-8076-4363-b19e-7ac76825deb9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 17913), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 17921), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9799239575041447, 1.479972245449436], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:48,179 - services.BlockService - INFO - Bet(id=UUID('284ab02f-8076-4363-b19e-7ac76825deb9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 17913), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 17921), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9799239575041447, 1.479972245449436], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:48,179 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('7ac84d29-bb14-43d2-a8cc-c055d06b12e0'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 96581), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 96590), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.454040141305775, 1.4670003194566568], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:51,123 - services.BlockService - INFO - Bet(id=UUID('7ac84d29-bb14-43d2-a8cc-c055d06b12e0'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 96581), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 96590), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.454040141305775, 1.4670003194566568], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:51,123 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('44109cf0-ad53-4039-b6f9-b8ea99c826f9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 909824), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 909832), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.5178277470929984], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:54,018 - services.BlockService - INFO - Bet(id=UUID('44109cf0-ad53-4039-b6f9-b8ea99c826f9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 909824), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 909832), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.2893130645994022, 1.5178277470929984], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:54,019 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('8c12d2b8-4fc5-41be-82c2-8e60a95553b0'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 974283), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 974291), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.8026049638816186, 1.3645429906601412], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:56,976 - services.BlockService - INFO - Bet(id=UUID('8c12d2b8-4fc5-41be-82c2-8e60a95553b0'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 974283), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 974291), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.8026049638816186, 1.3645429906601412], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:56,977 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('bbe54388-89c5-4162-ba43-e07880db5764'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 52168), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 52176), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.1282141750527956, 1.3793009202471356], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:14:59,781 - services.BlockService - INFO - Bet(id=UUID('bbe54388-89c5-4162-ba43-e07880db5764'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 52168), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 52176), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.1282141750527956, 1.3793009202471356], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:14:59,782 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('e68c8d7a-0ad0-4a63-a4dd-94934fe8565f'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 121724), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 121733), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.3448030669180087, 1.3351964971621344], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:15:02,869 - services.BlockService - INFO - Bet(id=UUID('e68c8d7a-0ad0-4a63-a4dd-94934fe8565f'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 121724), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 121733), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.3448030669180087, 1.3351964971621344], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:15:02,869 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('209c8fc3-f45d-419b-b8e8-9d2cea0f87ea'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 935344), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 935352), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9541876765270167, 11.42547118015932], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:15:05,804 - services.BlockService - INFO - Bet(id=UUID('209c8fc3-f45d-419b-b8e8-9d2cea0f87ea'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 935344), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 935352), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9541876765270167, 11.42547118015932], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:15:05,804 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('5dbe1cf4-1f1c-4716-92c5-520ccf81c1e9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 5641), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 5649), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.7653680784011776, 1.591103634579726], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:15:08,862 - services.BlockService - INFO - Bet(id=UUID('5dbe1cf4-1f1c-4716-92c5-520ccf81c1e9'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 5641), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 5649), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.7653680784011776, 1.591103634579726], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:15:08,863 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('9a941d8b-7f96-4eda-991d-7cba44c6c0a4'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 83834), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 83842), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[0.8607913741879454, 3.5510874113889903], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:15:11,733 - services.BlockService - INFO - Bet(id=UUID('9a941d8b-7f96-4eda-991d-7cba44c6c0a4'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 83834), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 83842), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[0.8607913741879454, 3.5510874113889903], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:15:11,733 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('b1a8c2e5-140b-4897-bbe6-c6994ea902e2'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 921845), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 921851), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.2230031055590516, 1.414324702955792], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:15:14,894 - services.BlockService - INFO - Bet(id=UUID('b1a8c2e5-140b-4897-bbe6-c6994ea902e2'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 921845), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 921851), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[2.2230031055590516, 1.414324702955792], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:15:14,894 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('744a16e0-ae30-49ac-86b0-a71f1cca76fc'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 992848), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 992856), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[0.5774923725488391, 1.716389711885524], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:15:17,905 - services.BlockService - INFO - Bet(id=UUID('744a16e0-ae30-49ac-86b0-a71f1cca76fc'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 992848), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 18, 992856), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[0.5774923725488391, 1.716389711885524], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:15:17,905 - services.BlockService - INFO - нахуй эту ставку Bet(id=UUID('254f3ca6-ca39-49af-878c-0a4366ad13b3'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 70689), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 70698), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9541876765270167, 11.469563277612917], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611'))
2025-01-28 21:15:20,859 - services.BlockService - INFO - Bet(id=UUID('254f3ca6-ca39-49af-878c-0a4366ad13b3'), created_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 70689), updated_at=datetime.datetime(2025, 1, 28, 5, 36, 19, 70698), user=None, pair=Pair(id=UUID('b4ff7d35-1c3a-4a3d-87ae-61d1aa83bff2'), created_at=datetime.datetime(2024, 12, 26, 15, 44, 49), updated_at=datetime.datetime(2024, 12, 26, 15, 44, 52), name='TON/X', contract_address=None, last_ratio=None), amount=4.470971083487076e+306, block_number=12763, vector=[1.9541876765270167, 11.469563277612917], status=<BetStatus.PENDING: 'pending'>, user_id=UUID('db8df202-761f-4a30-97e8-e90b124b8611')) в жопе
2025-01-28 21:15:20,885 - services.BlockService - INFO - last completed block is ed663a2b-aa61-46ca-bc35-0e74f3f7370e (BlockStatus.COMPLETED)
2025-01-28 21:15:20,908 - apscheduler.scheduler - INFO - Scheduler started
2025-01-28 21:15:20,909 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:15:20,909 - services.ChainService - INFO - start transaction check
2025-01-28 21:15:20,909 - apscheduler.scheduler - INFO - Added job "DepositService.check_users_transactions" to job store "default"
2025-01-28 21:15:20,909 - ChainService - INFO - Сервис генерации блоков запущен.
2025-01-28 21:15:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:15:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:15:50.909567+03:00 (in 29.998645 seconds)
2025-01-28 21:15:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:15:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:15:50.909567+03:00 (in 29.998377 seconds)
2025-01-28 21:15:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:15:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:15:50.909567+03:00 (in 29.998229 seconds)
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
INFO:     172.18.0.6:55550 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:15:25,462 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:25,462 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55556 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55570 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:15:25,756 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:15:25,756 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55582 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:30,993 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:30,993 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42688 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42698 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:15:31,129 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:31,129 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42708 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:31,137 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:15:31,137 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42712 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:36,372 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
INFO:     172.18.0.6:42720 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:36,373 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:15:36,378 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:36,378 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42724 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:36,514 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:15:36,514 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42730 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:41,526 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:41,527 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38430 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:41,646 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:41,647 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38436 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:41,682 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:15:41,683 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38444 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:46,794 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:46,794 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54998 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:46,825 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:46,825 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55006 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:46,941 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:15:46,941 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55014 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:15:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:16:20.909567+03:00 (in 29.998826 seconds)
2025-01-28 21:15:50,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:16:20 MSK)" (scheduled at 2025-01-28 21:15:50.909567+03:00)
2025-01-28 21:15:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:15:50,938 - services.DepositService - INFO - wallet
2025-01-28 21:15:50,938 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:15:51,179 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:15:51,181 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:15:51,181 - services.DepositService - INFO - transactions
2025-01-28 21:15:51,181 - services.DepositService - INFO - []
2025-01-28 21:15:51,181 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:16:20 MSK)" executed successfully
2025-01-28 21:15:51,969 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:51,969 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55016 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:52,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:52,082 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55026 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:52,121 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:15:52,121 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55036 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:57,217 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:57,217 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43586 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:57,261 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:15:57,261 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43600 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:15:57,367 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:15:57,367 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:43608 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:02,419 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:16:02,419 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43610 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:02,499 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:16:02,499 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43618 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:02,571 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:16:02,571 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:43634 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59272 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:07,672 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:16:07,672 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59276 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:07,811 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:16:07,811 - routes.auth - INFO - Refresh token is expired
2025-01-28 21:16:13,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:16:13,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59292 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:13,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:16:13,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59294 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:13,195 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:16:13,195 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59302 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:18,200 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:16:18,200 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44184 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:18,349 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:16:18,350 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44186 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44202 - "OPTIONS /user/info HTTP/1.0" 200 OK
2025-01-28 21:16:18,684 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:16:18,684 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44212 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44226 - "GET /user/info HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:18,755 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
2025-01-28 21:16:18,756 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5Mjk4NTMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bCzc0K_2HCwKRICrnsoCpJfKzAynpgXf_-I2jJbwERs
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:16:18,833 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJek5qRTBOVEU1TnkwNVpqWTNMVFJpWkRNdFlqSTFOUzAwT1RJeU5qTXhOakUwTkRjaUxDSmxlSEFpT2pFM016YzVNams0T0RZc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmFWUmNhYm9DaGNnVTdfWTFCUU5ucEtIWUF1R1VReEZRSVNtN29BMS1ySmMiLCJleHAiOjE3Mzc5MzU3MzMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.vBbUWMsx10I5Miz60MXsjlszejA3c9TI6QDGh3phhBM
2025-01-28 21:16:18,833 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44242 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:16:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:16:50.908335+03:00 (in 29.997373 seconds)
2025-01-28 21:16:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:16:50 MSK)" (scheduled at 2025-01-28 21:16:20.909567+03:00)
2025-01-28 21:16:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:16:20,925 - services.DepositService - INFO - wallet
2025-01-28 21:16:20,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
INFO:     172.18.0.6:44256 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44268 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44280 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 21:16:21,116 - main - ERROR - <starlette.requests.Request object at 0x7fd1d6650320>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
2025-01-28 21:16:21,135 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:16:21,136 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:16:21,136 - services.DepositService - INFO - transactions
2025-01-28 21:16:21,136 - services.DepositService - INFO - []
2025-01-28 21:16:21,136 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:16:50 MSK)" executed successfully
INFO:     172.18.0.6:44282 - "GET /auth/payload HTTP/1.0" 200 OK
2025-01-28 21:16:21,271 - routes.auth.tonconnect - ERROR - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyNGQ4MWY1Zi0zMmE0LTQxN2QtYTE1ZC1kZDM1Njg1MTgzMjIiLCJleHAiOjE3MzgwODg3ODEsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.WqFnOf1VyhOm_ZWmKOj_Gelc1O0p3hlv-BUNPbAmGdU
INFO:     172.18.0.6:44292 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:23,633 - main - ERROR - <starlette.requests.Request object at 0x7fd1d092ee70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:44302 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:44314 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:24,100 - main - ERROR - <starlette.requests.Request object at 0x7fd1d09246b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:44318 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:44326 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44330 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:26,253 - main - ERROR - <starlette.requests.Request object at 0x7fd1d757a4b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:44338 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:51874 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51882 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 21:16:28,908 - main - ERROR - <starlette.requests.Request object at 0x7fd1d7579af0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51884 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:29,358 - main - ERROR - <starlette.requests.Request object at 0x7fd1d092ef60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51888 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:51890 - "OPTIONS /auth/verify_payload HTTP/1.0" 200 OK
2025-01-28 21:16:31,174 - domain.tonconnect.requests - DEBUG - workchain is 0
2025-01-28 21:16:31,174 - domain.tonconnect.requests - DEBUG - address bytes is e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2 b'\xe3\xbb\xa2\xdd)\xd6u}7\xfa4.R\x04\xaaM7\x89\xed\xfe\x00\xd1V\x8d">9{Un\xe1\xc2'
2025-01-28 21:16:31,177 - services.ton.tonconnect.TonProofService - DEBUG - {'request': {'address': '0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2', 'network': '-239', 'public_key': '687235ce9b3bb614ed53fbcda86be0d9181fa89a063e27a5511fee4f72b2a753', 'proof': {'timestamp': 1738088190, 'domain': {'length_bytes': 21, 'value': 'ab328c6h7.duckdns.org'}, 'signature': 'vpy277X4g0/hiA+DdB74u7pR4nyN3adTy1dgKCVTjUfvEKxc+ADStkuVlVPpxgtDn7yijM4pZLFvk03g70zeDA==', 'payload': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyNGQ4MWY1Zi0zMmE0LTQxN2QtYTE1ZC1kZDM1Njg1MTgzMjIiLCJleHAiOjE3MzgwODg3ODEsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.WqFnOf1VyhOm_ZWmKOj_Gelc1O0p3hlv-BUNPbAmGdU', 'state_init': 'te6cckECFgEAArEAAgE0ARUBFP8A9KQT9LzyyAsCAgEgAw4CAUgEBQLc0CDXScEgkVuPYyDXCx8gghBleHRuvSGCEHNpbnS9sJJfA+CCEGV4dG66jrSAINchAdB01yH6QDD6RPgo+kQwWL2RW+DtRNCBAUHXIfQFgwf0Dm+hMZEw4YBA1yFwf9s84DEg10mBAoC5kTDgcOIREAIBIAYNAgEgBwoCAW4ICQAZrc52omhAIOuQ64X/wAAZrx32omhAEOuQ64WPwAIBSAsMABezJftRNBx1yHXCx+AAEbJi+1E0NcKAIAAZvl8PaiaECAoOuQ+gLAEC8g8BHiDXCx+CEHNpZ2668uCKfxAB5o7w7aLt+yGDCNciAoMI1yMggCDXIdMf0x/TH+1E0NIA0x8g0x/T/9cKAAr5AUDM+RCaKJRfCtsx4fLAh98Cs1AHsPLQhFEluvLghVA2uvLghvgju/LQiCKS+ADeAaR/yMoAyx8BzxbJ7VQgkvgP3nDbPNgRA/btou37AvQEIW6SbCGOTAIh1zkwcJQhxwCzji0B1yggdh5DbCDXScAI8uCTINdKwALy4JMg1x0GxxLCAFIwsPLQiddM1zkwAaTobBKEB7vy4JPXSsAA8uCT7VXi0gABwACRW+Dr1ywIFCCRcJYB1ywIHBLiUhCx4w8g10oSExQAlgH6QAH6RPgo+kQwWLry4JHtRNCBAUHXGPQFBJ1/yMoAQASDB/RT8uCLjhQDgwf0W/LgjCLXCgAhbgGzsPLQkOLIUAPPFhL0AMntVAByMNcsCCSOLSHy4JLSAO1E0NIAURO68tCPVFAwkTGcAYEBQNch1woA8uCO4sjKAFjPFsntVJPywI3iABCTW9sx4ddM0ABRgAAAAD///4i0ORrnTZ3bCnap/ebUNfBsjA/UTQMfE9Koj/cnuVlTqaAxbhqL'}}, 'address_bytes': 'e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2', 'workchain': 0, 'init_state': {'code': <Cell 80[FF00F4A413F4BCF2C80B] -> 1 refs>, 'data': <Cell 322[800000003FFFFF88B4391AE74D9DDB0A76A9FDE6D435F06C8C0FD44D031F13D2A88FF727B95953A980] -> 0 refs>, 'split_depth': None, 'special': None, 'libraries': None}, 'data': '322[800000003FFFFF88B4391AE74D9DDB0A76A9FDE6D435F06C8C0FD44D031F13D2A88FF727B95953A980]', 'code': 'te6ccgECFAEAAoEAART/APSkE/S88sgLAQIBIAINAgFIAwQC3NAg10nBIJFbj2Mg1wsfIIIQZXh0br0hghBzaW50vbCSXwPgghBleHRuuo60gCDXIQHQdNch+kAw+kT4KPpEMFi9kVvg7UTQgQFB1yH0BYMH9A5voTGRMOGAQNchcH/bPOAxINdJgQKAuZEw4HDiEA8CASAFDAIBIAYJAgFuBwgAGa3OdqJoQCDrkOuF/8AAGa8d9qJoQBDrkOuFj8ACAUgKCwAXsyX7UTQcdch1wsfgABGyYvtRNDXCgCAAGb5fD2omhAgKDrkPoCwBAvIOAR4g1wsfghBzaWduuvLgin8PAeaO8O2i7fshgwjXIgKDCNcjIIAg1yHTH9Mf0x/tRNDSANMfINMf0//XCgAK+QFAzPkQmiiUXwrbMeHywIffArNQB7Dy0IRRJbry4IVQNrry4Ib4I7vy0IgikvgA3gGkf8jKAMsfAc8Wye1UIJL4D95w2zzYEAP27aLt+wL0BCFukmwhjkwCIdc5MHCUIccAs44tAdcoIHYeQ2wg10nACPLgkyDXSsAC8uCTINcdBscSwgBSMLDy0InXTNc5MAGk6GwShAe78uCT10rAAPLgk+1V4tIAAcAAkVvg69csCBQgkXCWAdcsCBwS4lIQseMPINdKERITAJYB+kAB+kT4KPpEMFi68uCR7UTQgQFB1xj0BQSdf8jKAEAEgwf0U/Lgi44UA4MH9Fvy4Iwi1woAIW4Bs7Dy0JDiyFADzxYS9ADJ7VQAcjDXLAgkji0h8uCS0gDtRNDSAFETuvLQj1RQMJExnAGBAUDXIdcKAPLgjuLIygBYzxbJ7VST8sCN4gAQk1vbMeHXTNA='}
2025-01-28 21:16:31,177 - services.ton.known_wallets - ERROR - Failed to parse wallet publicKey for unknown code: te6ccgECFAEAAoEAART/APSkE/S88sgLAQIBIAINAgFIAwQC3NAg10nBIJFbj2Mg1wsfIIIQZXh0br0hghBzaW50vbCSXwPgghBleHRuuo60gCDXIQHQdNch+kAw+kT4KPpEMFi9kVvg7UTQgQFB1yH0BYMH9A5voTGRMOGAQNchcH/bPOAxINdJgQKAuZEw4HDiEA8CASAFDAIBIAYJAgFuBwgAGa3OdqJoQCDrkOuF/8AAGa8d9qJoQBDrkOuFj8ACAUgKCwAXsyX7UTQcdch1wsfgABGyYvtRNDXCgCAAGb5fD2omhAgKDrkPoCwBAvIOAR4g1wsfghBzaWduuvLgin8PAeaO8O2i7fshgwjXIgKDCNcjIIAg1yHTH9Mf0x/tRNDSANMfINMf0//XCgAK+QFAzPkQmiiUXwrbMeHywIffArNQB7Dy0IRRJbry4IVQNrry4Ib4I7vy0IgikvgA3gGkf8jKAMsfAc8Wye1UIJL4D95w2zzYEAP27aLt+wL0BCFukmwhjkwCIdc5MHCUIccAs44tAdcoIHYeQ2wg10nACPLgkyDXSsAC8uCTINcdBscSwgBSMLDy0InXTNc5MAGk6GwShAe78uCT10rAAPLgk+1V4tIAAcAAkVvg69csCBQgkXCWAdcsCBwS4lIQseMPINdKERITAJYB+kAB+kT4KPpEMFi68uCR7UTQgQFB1xj0BQSdf8jKAEAEgwf0U/Lgi44UA4MH9Fvy4Iwi1woAIW4Bs7Dy0JDiyFADzxYS9ADJ7VQAcjDXLAgkji0h8uCS0gDtRNDSAFETuvLQj1RQMJExnAGBAUDXIdcKAPLgjuLIygBYzxbJ7VST8sCN4gAQk1vbMeHXTNA=
2025-01-28 21:16:31,177 - services.ton.tonconnect.TonProofService - ERROR - Wallet cannot be parsed from boc for 0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2, calling provider (API)
INFO:     172.18.0.6:51912 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51916 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:31,424 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/accounts/0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2/publickey "HTTP/1.1 200 OK"
2025-01-28 21:16:31,425 - services.ton.tonconnect.TonProofService - INFO - Provider call for address 0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2 is successful
2025-01-28 21:16:31,567 - main - ERROR - <starlette.requests.Request object at 0x7fd1d74f4c80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51918 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 21:16:34,479 - services.TokenService - ERROR - creating 2025-01-28 18:18:34.478958+00:00
INFO:     172.18.0.6:51900 - "POST /auth/verify_payload HTTP/1.0" 200 OK
INFO:     172.18.0.6:51930 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51938 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:16:37,480 - services.TokenService - ERROR - creating 2025-01-28 18:18:37.480114+00:00
INFO:     172.18.0.6:51954 - "POST /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:46110 - "GET /pair HTTP/1.0" 200 OK
2025-01-28 21:16:49,280 - routes.chain - INFO - res: block_id=UUID('d0df9dd3-20fe-47a6-bfb6-2035f7860e75') server_time=datetime.datetime(2025, 1, 28, 21, 16, 49, 280792) current_block=12763 remaining_time_in_block=1
INFO:     172.18.0.6:46114 - "GET /chain/time HTTP/1.0" 200 OK
2025-01-28 21:16:51,291 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:16:51,291 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:16:51,291 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:17:20.909567+03:00 (in 29.617762 seconds)
2025-01-28 21:16:51,292 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:16:50 MSK], next run at: 2025-01-28 21:16:50 MSK)" (scheduled at 2025-01-28 21:16:50.908335+03:00)
2025-01-28 21:16:51,293 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:17:20 MSK)" (scheduled at 2025-01-28 21:16:50.909567+03:00)
2025-01-28 21:16:51,293 - services.DepositService - INFO - check_users_transactions
INFO:     172.18.0.6:46116 - "GET /user/info HTTP/1.0" 200 OK
2025-01-28 21:16:51,597 - services.DepositService - INFO - wallet
2025-01-28 21:16:51,597 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:16:52,709 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:16:52,728 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:16:52,728 - services.DepositService - INFO - transactions
2025-01-28 21:16:52,728 - services.DepositService - INFO - []
2025-01-28 21:16:52,728 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:17:20 MSK)" executed successfully
2025-01-28 21:16:52,774 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:16:52,774 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:16:53,039 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:16:53,040 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:16:53,040 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:16:53,040 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:16:53,052 - services.BlockService - INFO - last completed block is d0df9dd3-20fe-47a6-bfb6-2035f7860e75 (BlockStatus.COMPLETED)
2025-01-28 21:16:55,698 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:16:55,699 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:16:50 MSK], next run at: 2025-01-28 21:16:50 MSK)" executed successfully
2025-01-28 21:16:55,713 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:16:55,713 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:17:20.909567+03:00 (in 25.195954 seconds)
2025-01-28 21:16:56,419 - routes.chain - INFO - res: block_id=UUID('3adb9e8e-c6e9-41a1-9ded-cfe3dc1e909d') server_time=datetime.datetime(2025, 1, 28, 21, 16, 56, 419566) current_block=12764 remaining_time_in_block=86
2025-01-28 21:17:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:17:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:17:50.909567+03:00 (in 29.998072 seconds)
2025-01-28 21:17:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:17:50 MSK)" (scheduled at 2025-01-28 21:17:20.909567+03:00)
2025-01-28 21:17:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:17:20,923 - services.DepositService - INFO - wallet
2025-01-28 21:17:20,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:17:21,162 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:17:21,163 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:17:21,163 - services.DepositService - INFO - transactions
2025-01-28 21:17:21,163 - services.DepositService - INFO - []
2025-01-28 21:17:21,163 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:17:50 MSK)" executed successfully
INFO:     172.18.0.6:59386 - "OPTIONS /user/info HTTP/1.0" 200 OK
INFO:     172.18.0.6:59394 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:59396 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:59412 - "OPTIONS /auth/payload HTTP/1.0" 200 OK
2025-01-28 21:17:39,849 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:39,850 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59418 - "GET /user/info HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:39,856 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:39,856 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59424 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:39,971 - routes.auth.tonconnect - ERROR - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzMDM5YjUxOS1kOWExLTRlYTItODMzYS1hMDFkYmMxYjFjN2YiLCJleHAiOjE3MzgwODg4NTksImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.snncfEpTf6acuBBEh1pJZXdfZ3ZlThY1-7WbksW8gVE
INFO:     172.18.0.6:59440 - "GET /auth/payload HTTP/1.0" 200 OK
INFO:     172.18.0.6:59446 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:17:40,131 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:17:40,132 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59452 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:40,136 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:40,137 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59454 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:40,313 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:17:40,313 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59456 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:45,021 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:45,021 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59466 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:45,181 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:17:45,181 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59480 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:45,493 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:45,494 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59484 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:45,682 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:17:45,682 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59486 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:50,349 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:50,349 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:57328 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57334 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:50,519 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:17:50,519 - routes.auth - INFO - Refresh token is expired
2025-01-28 21:17:50,858 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:50,859 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:57350 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:17:50,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:18:20.909567+03:00 (in 29.997450 seconds)
2025-01-28 21:17:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:18:20 MSK)" (scheduled at 2025-01-28 21:17:50.909567+03:00)
2025-01-28 21:17:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:17:50,940 - services.DepositService - INFO - wallet
2025-01-28 21:17:50,941 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:17:51,204 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:17:51,205 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:17:51,205 - services.DepositService - INFO - transactions
2025-01-28 21:17:51,205 - services.DepositService - INFO - []
2025-01-28 21:17:51,206 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:18:20 MSK)" executed successfully
2025-01-28 21:17:51,339 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:17:51,339 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:57364 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:55,708 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:55,709 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:57370 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:55,895 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:17:55,896 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:57380 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:56,513 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:17:56,514 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:57384 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:17:56,692 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:17:56,692 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34762 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34768 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:01,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:01,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:18:01,230 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:01,231 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34776 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:01,867 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:01,867 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34788 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:02,052 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:02,053 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34802 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:06,396 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:06,396 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34812 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:06,569 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:06,569 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34822 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:07,219 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:07,219 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52958 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:07,385 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:07,385 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52972 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:11,737 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
INFO:     172.18.0.6:52976 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:11,737 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52978 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:11,900 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:11,900 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52992 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:12,556 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:12,557 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:18:12,714 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:12,714 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52996 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:17,074 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
INFO:     172.18.0.6:47362 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:17,074 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:18:17,239 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:17,239 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47376 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:17,877 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:17,878 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47382 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:18,043 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:18,043 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47398 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:18:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:18:25.698356+03:00 (in 4.786809 seconds)
2025-01-28 21:18:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:18:50 MSK)" (scheduled at 2025-01-28 21:18:20.909567+03:00)
2025-01-28 21:18:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:18:20,936 - services.DepositService - INFO - wallet
2025-01-28 21:18:20,936 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:18:21,219 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:18:21,220 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:18:21,220 - services.DepositService - INFO - transactions
2025-01-28 21:18:21,220 - services.DepositService - INFO - []
2025-01-28 21:18:21,220 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:18:50 MSK)" executed successfully
2025-01-28 21:18:22,405 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:22,405 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47410 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:22,575 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:22,575 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47424 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:23,203 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:23,203 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47428 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:23,366 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:23,367 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47444 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:25,700 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:18:25,700 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:18:25,700 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:18:50.909567+03:00 (in 25.209091 seconds)
2025-01-28 21:18:25,700 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:18:25 MSK], next run at: 2025-01-28 21:18:25 MSK)" (scheduled at 2025-01-28 21:18:25.698356+03:00)
2025-01-28 21:18:26,428 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:18:26,428 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:18:26,448 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:18:26,448 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:18:26,448 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:18:26,448 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:18:26,460 - services.BlockService - INFO - last completed block is 3adb9e8e-c6e9-41a1-9ded-cfe3dc1e909d (BlockStatus.COMPLETED)
2025-01-28 21:18:27,170 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:18:27,170 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:18:25 MSK], next run at: 2025-01-28 21:18:25 MSK)" executed successfully
2025-01-28 21:18:27,171 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:18:27,171 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:18:50.909567+03:00 (in 23.738414 seconds)
2025-01-28 21:18:27,747 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
INFO:     172.18.0.6:42482 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:27,747 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:18:27,901 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:27,902 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42498 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:28,539 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:28,539 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42500 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:28,714 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:28,715 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42512 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:33,069 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:33,069 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42518 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:33,236 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:33,237 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42526 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:33,879 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:33,879 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42528 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:34,046 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:34,047 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42540 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:38,399 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:38,399 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35804 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:38,566 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:38,566 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35806 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:39,208 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:39,208 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35818 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:39,377 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:39,377 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35826 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:43,746 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:43,747 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35832 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:43,933 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:43,934 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35836 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:44,562 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:44,562 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35850 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:44,741 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:44,741 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35852 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53396 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:49,110 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:49,110 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53402 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:49,802 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:49,803 - routes.auth - INFO - Refresh token is expired
2025-01-28 21:18:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:18:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:19:20.909567+03:00 (in 29.998134 seconds)
2025-01-28 21:18:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:19:20 MSK)" (scheduled at 2025-01-28 21:18:50.909567+03:00)
2025-01-28 21:18:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:18:50,925 - services.DepositService - INFO - wallet
2025-01-28 21:18:50,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:18:51,137 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:18:51,139 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:18:51,139 - services.DepositService - INFO - transactions
2025-01-28 21:18:51,139 - services.DepositService - INFO - []
2025-01-28 21:18:51,139 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:19:20 MSK)" executed successfully
2025-01-28 21:18:54,956 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:54,957 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53416 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:54,988 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:18:54,988 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53420 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:18:55,100 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:18:55,100 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53428 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42502 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:00,128 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:00,128 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42514 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:00,267 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:00,267 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:19:00,274 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:00,274 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42530 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:05,402 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:05,402 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42532 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:05,436 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:05,436 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42536 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:05,557 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:05,558 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42538 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47594 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:10,578 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:10,578 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:19:10,723 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:10,723 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
INFO:     172.18.0.6:47606 - "GET /chain/time HTTP/1.0" 401 Unauthorized
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:19:10,869 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:10,870 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47618 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:11,051 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:11,051 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47634 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47638 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:19:16,133 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:16,133 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47646 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47648 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:47662 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:19:16,369 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:16,369 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47676 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:16,398 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:16,399 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47690 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:19:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:19:50.909567+03:00 (in 29.998362 seconds)
2025-01-28 21:19:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:19:50 MSK)" (scheduled at 2025-01-28 21:19:20.909567+03:00)
2025-01-28 21:19:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:19:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:19:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:19:21,156 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:19:21,158 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:19:21,158 - services.DepositService - INFO - transactions
2025-01-28 21:19:21,158 - services.DepositService - INFO - []
2025-01-28 21:19:21,159 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:19:50 MSK)" executed successfully
INFO:     172.18.0.6:58392 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:58400 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:19:21,639 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:21,639 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58404 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:21,723 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:21,724 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58408 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58418 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:19:21,922 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:21,922 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:58428 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35298 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:19:27,041 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:27,041 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35300 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35302 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:19:27,182 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:27,182 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35316 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35320 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:19:27,319 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:27,319 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35328 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35336 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:35342 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:19:32,617 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:32,618 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35356 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:32,774 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:32,774 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35362 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35370 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:19:32,913 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:32,913 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35386 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42660 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:42664 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:19:38,204 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:38,204 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42676 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:38,267 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:38,267 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42690 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42694 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:19:38,499 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:38,499 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42704 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42714 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:42722 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:19:44,190 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:44,190 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42732 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:44,222 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:44,222 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42746 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42762 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:19:44,479 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:44,479 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42766 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41010 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:41016 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:19:50,199 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:50,199 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41026 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:50,263 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:50,264 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41042 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41048 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:19:50,504 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:50,505 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:41062 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:19:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:19:57.170127+03:00 (in 6.258924 seconds)
2025-01-28 21:19:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:20:20 MSK)" (scheduled at 2025-01-28 21:19:50.909567+03:00)
2025-01-28 21:19:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:19:50,923 - services.DepositService - INFO - wallet
2025-01-28 21:19:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:19:51,234 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:19:51,235 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:19:51,235 - services.DepositService - INFO - transactions
2025-01-28 21:19:51,236 - services.DepositService - INFO - []
2025-01-28 21:19:51,236 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:20:20 MSK)" executed successfully
INFO:     172.18.0.6:41072 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:41076 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:19:56,193 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:56,194 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41084 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:56,233 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:19:56,234 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41098 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41102 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:19:56,483 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:19:56,483 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:41106 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:19:57,171 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:19:57,172 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:19:57,172 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:20:20.909567+03:00 (in 23.737173 seconds)
2025-01-28 21:19:57,172 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:19:57 MSK], next run at: 2025-01-28 21:19:57 MSK)" (scheduled at 2025-01-28 21:19:57.170127+03:00)
2025-01-28 21:19:57,866 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:19:57,866 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:19:57,890 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:19:57,890 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:19:57,890 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:19:57,890 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:19:57,900 - services.BlockService - INFO - last completed block is 1bc525c7-5aed-4523-99c4-662f54976837 (BlockStatus.COMPLETED)
2025-01-28 21:19:58,683 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:19:58,683 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:19:57 MSK], next run at: 2025-01-28 21:19:57 MSK)" executed successfully
2025-01-28 21:19:58,683 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:19:58,683 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:20:20.909567+03:00 (in 22.226187 seconds)
INFO:     172.18.0.6:40968 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:20:01,543 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:01,543 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40976 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40984 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:40986 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:01,754 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:01,754 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41000 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:20:01,912 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:01,912 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:41006 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52746 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:52748 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:20:07,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:07,081 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
INFO:     172.18.0.6:52750 - "GET /pair HTTP/1.0" 401 Unauthorized
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:20:07,204 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:07,204 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52766 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52782 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:07,376 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:07,376 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52794 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52804 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:20:12,479 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:12,479 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52808 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52812 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:52814 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:12,707 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
INFO:     172.18.0.6:52830 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:20:12,707 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52838 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:20:12,784 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:12,784 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50718 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:20:18,049 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:18,049 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50720 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50732 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:18,375 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:18,375 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50744 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:20:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:20:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:20:50.909567+03:00 (in 29.998810 seconds)
2025-01-28 21:20:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:20:50 MSK)" (scheduled at 2025-01-28 21:20:20.909567+03:00)
2025-01-28 21:20:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:20:20,922 - services.DepositService - INFO - wallet
2025-01-28 21:20:20,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:20:21,143 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:20:21,144 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:20:21,145 - services.DepositService - INFO - transactions
2025-01-28 21:20:21,145 - services.DepositService - INFO - []
2025-01-28 21:20:21,145 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:20:50 MSK)" executed successfully
INFO:     172.18.0.6:50760 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50772 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:50778 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:20:24,246 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:24,246 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:20:24,251 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:24,251 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50792 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50808 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:24,938 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:24,939 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50814 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40456 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:20:30,248 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:30,248 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40458 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40472 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:30,545 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:30,545 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40480 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40490 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:20:31,264 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:31,264 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40496 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40510 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:40522 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:20:31,620 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:31,620 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40530 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:20:36,261 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:36,261 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40536 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40544 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:36,583 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:36,584 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51094 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51098 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:20:37,226 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:37,227 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51102 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51118 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:37,558 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:37,558 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51126 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51134 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:20:42,268 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:42,268 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51138 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51154 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:42,587 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:42,587 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51166 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51174 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:20:43,272 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:43,272 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51176 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51178 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:43,603 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:43,603 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51194 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58954 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:20:48,251 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:48,251 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58956 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58960 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:58970 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:20:48,564 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:48,564 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:58982 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:20:49,250 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:49,250 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58990 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59000 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:49,578 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:49,579 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59016 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:20:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:20:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:21:20.909567+03:00 (in 29.998386 seconds)
2025-01-28 21:20:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:21:20 MSK)" (scheduled at 2025-01-28 21:20:50.909567+03:00)
2025-01-28 21:20:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:20:50,924 - services.DepositService - INFO - wallet
2025-01-28 21:20:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:20:51,143 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:20:51,144 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:20:51,144 - services.DepositService - INFO - transactions
2025-01-28 21:20:51,144 - services.DepositService - INFO - []
2025-01-28 21:20:51,144 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:21:20 MSK)" executed successfully
INFO:     172.18.0.6:59018 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:20:53,904 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:53,904 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59030 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59036 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:54,227 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:54,227 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59040 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59056 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:20:54,910 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:20:54,911 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59058 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59068 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:20:55,232 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:20:55,232 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59076 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53368 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:21:00,249 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:00,249 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53372 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53382 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:00,569 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:00,569 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53398 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53404 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:21:01,249 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:01,249 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53418 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53426 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:01,543 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:01,543 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53434 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53448 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:21:06,240 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:06,240 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53462 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53470 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:06,545 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:06,545 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53474 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53282 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:21:07,248 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:07,248 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53292 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53296 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:07,552 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:07,552 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53298 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53314 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:21:12,239 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:12,239 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53320 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53328 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:12,549 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:12,550 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53336 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53346 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53348 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:13,247 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:13,247 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53350 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:13,545 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:13,545 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53358 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38590 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:21:18,623 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:18,624 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38596 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38608 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:18,932 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:18,933 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38618 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:21:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:21:28.682780+03:00 (in 7.771375 seconds)
2025-01-28 21:21:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:21:50 MSK)" (scheduled at 2025-01-28 21:21:20.909567+03:00)
2025-01-28 21:21:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:21:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:21:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:21:21,158 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:21:21,160 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:21:21,160 - services.DepositService - INFO - transactions
2025-01-28 21:21:21,160 - services.DepositService - INFO - []
2025-01-28 21:21:21,160 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:21:50 MSK)" executed successfully
INFO:     172.18.0.6:38626 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:38640 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:21:25,353 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
INFO:     172.18.0.6:38648 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:25,354 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:21:25,359 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:25,359 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38652 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38662 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:25,798 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:25,798 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38668 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:28,683 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:21:28,684 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:21:28,684 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:21:50.909567+03:00 (in 22.225186 seconds)
2025-01-28 21:21:28,684 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:21:28 MSK], next run at: 2025-01-28 21:21:28 MSK)" (scheduled at 2025-01-28 21:21:28.682780+03:00)
2025-01-28 21:21:29,321 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:21:29,321 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:21:29,342 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:21:29,342 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:21:29,342 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:21:29,342 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:21:29,352 - services.BlockService - INFO - last completed block is 3ac89edc-5ea4-411c-a226-3c9b29bb5b30 (BlockStatus.COMPLETED)
2025-01-28 21:21:30,057 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:21:30,057 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:21:28 MSK], next run at: 2025-01-28 21:21:28 MSK)" executed successfully
2025-01-28 21:21:30,057 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:21:30,057 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:21:50.909567+03:00 (in 20.851648 seconds)
INFO:     172.18.0.6:56860 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:56864 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:21:31,251 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:31,251 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56876 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:31,257 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:31,258 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56878 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56894 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:31,550 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:31,551 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:56910 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39902 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:39906 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:21:37,246 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:37,246 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39920 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:37,253 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:37,253 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39922 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39924 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:39930 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:37,575 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:37,575 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:39934 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:39940 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:21:43,253 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:43,254 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39944 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:43,260 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:43,261 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39960 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39964 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:43,547 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:43,547 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:39968 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48152 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:48166 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:21:49,250 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:49,250 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48182 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:49,256 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:49,256 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48190 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48204 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:49,566 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:21:49,567 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48212 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:21:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:22:20.909567+03:00 (in 29.998689 seconds)
2025-01-28 21:21:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:22:20 MSK)" (scheduled at 2025-01-28 21:21:50.909567+03:00)
2025-01-28 21:21:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:21:50,919 - services.DepositService - INFO - wallet
2025-01-28 21:21:50,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:21:51,132 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:21:51,134 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:21:51,134 - services.DepositService - INFO - transactions
2025-01-28 21:21:51,134 - services.DepositService - INFO - []
2025-01-28 21:21:51,134 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:22:20 MSK)" executed successfully
INFO:     172.18.0.6:48226 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:48238 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:21:55,235 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:55,235 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
INFO:     172.18.0.6:48246 - "GET /pair HTTP/1.0" 401 Unauthorized
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:21:55,243 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:21:55,243 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48248 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48264 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:21:55,529 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
INFO:     172.18.0.6:48276 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:21:55,530 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45964 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:22:01,458 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:01,459 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45976 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45988 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:46000 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:01,655 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:01,655 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46006 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:01,717 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:01,718 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46012 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56658 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:56674 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:56686 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:08,970 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:08,970 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:22:09,097 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:09,097 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56700 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56710 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:09,554 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:09,554 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:56716 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56724 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:56738 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:22:15,548 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:15,548 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56744 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:15,553 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:15,553 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56758 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56764 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:15,808 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:15,809 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:56780 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:22:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:22:50.909567+03:00 (in 29.999083 seconds)
2025-01-28 21:22:20,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:22:50 MSK)" (scheduled at 2025-01-28 21:22:20.909567+03:00)
2025-01-28 21:22:20,910 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:22:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:22:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:22:21,158 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:22:21,160 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:22:21,160 - services.DepositService - INFO - transactions
2025-01-28 21:22:21,160 - services.DepositService - INFO - []
2025-01-28 21:22:21,160 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:22:50 MSK)" executed successfully
INFO:     172.18.0.6:35496 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35500 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:22:21,586 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:21,586 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35510 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:21,716 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:21,716 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35512 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35522 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:21,864 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:21,864 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35534 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35356 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:35360 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:22:27,470 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:27,470 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35368 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:27,553 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:27,554 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35378 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35394 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:27,777 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:27,778 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35410 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35422 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35424 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:22:33,555 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:33,555 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35440 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:33,574 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:33,574 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35450 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35466 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:33,877 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:33,877 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35474 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51362 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:51368 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:22:39,828 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:39,829 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51380 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:39,835 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:39,836 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51396 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51398 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:40,097 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:40,097 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51406 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51416 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:22:45,641 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:45,642 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51432 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51442 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:45,947 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:45,947 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51452 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:22:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:23:00.057076+03:00 (in 9.146269 seconds)
2025-01-28 21:22:50,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:23:20 MSK)" (scheduled at 2025-01-28 21:22:50.909567+03:00)
2025-01-28 21:22:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:22:50,920 - services.DepositService - INFO - wallet
2025-01-28 21:22:50,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:22:51,572 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:22:51,574 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:22:51,574 - services.DepositService - INFO - transactions
2025-01-28 21:22:51,575 - services.DepositService - INFO - []
2025-01-28 21:22:51,575 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:23:20 MSK)" executed successfully
INFO:     172.18.0.6:47130 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:47146 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:22:52,653 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:52,653 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47162 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47174 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:52,822 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:52,822 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47180 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:53,005 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:53,005 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47186 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52998 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53010 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:22:58,576 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:22:58,576 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53016 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:22:59,298 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:22:59,298 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53028 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:23:00,057 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:23:00,058 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:23:00,058 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:23:20.909567+03:00 (in 20.851131 seconds)
2025-01-28 21:23:00,058 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:23:00 MSK], next run at: 2025-01-28 21:23:00 MSK)" (scheduled at 2025-01-28 21:23:00.057076+03:00)
2025-01-28 21:23:00,681 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:23:00,681 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:23:00,701 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:23:00,701 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:23:00,701 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:23:00,701 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:23:00,711 - services.BlockService - INFO - last completed block is 2dc47447-ffdf-492a-b827-e5c8f4e8fd74 (BlockStatus.COMPLETED)
2025-01-28 21:23:01,411 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:23:01,411 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:23:00 MSK], next run at: 2025-01-28 21:23:00 MSK)" executed successfully
2025-01-28 21:23:01,412 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:23:01,412 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:23:20.909567+03:00 (in 19.497256 seconds)
INFO:     172.18.0.6:53034 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53048 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:23:05,464 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:05,464 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53060 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:23:05,585 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:05,586 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53072 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53078 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:06,153 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:06,155 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53092 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40058 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:23:11,438 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:11,438 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40068 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40078 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:11,698 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:11,698 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40090 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40098 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:23:12,192 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:12,192 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40106 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40108 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:12,441 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:12,441 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40112 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36508 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:23:17,446 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:17,447 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36510 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36516 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:17,724 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:17,725 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36520 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36522 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:23:18,196 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:18,196 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36528 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36536 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:18,490 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:18,491 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36542 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:23:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:23:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:23:50.909567+03:00 (in 29.998494 seconds)
2025-01-28 21:23:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:23:50 MSK)" (scheduled at 2025-01-28 21:23:20.909567+03:00)
2025-01-28 21:23:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:23:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:23:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:23:21,166 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:23:21,168 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:23:21,168 - services.DepositService - INFO - transactions
2025-01-28 21:23:21,168 - services.DepositService - INFO - []
2025-01-28 21:23:21,168 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:23:50 MSK)" executed successfully
INFO:     172.18.0.6:36546 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:23:23,553 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:23,554 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36558 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36562 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:36564 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:23:23,886 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:23,889 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36568 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:23:24,259 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:24,259 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36578 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36590 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:24,585 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:24,585 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36600 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38304 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:23:29,447 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:29,447 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38314 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38322 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:29,730 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:29,730 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38338 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38352 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:23:30,200 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:30,200 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38368 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38378 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:30,503 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:30,503 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38386 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38390 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:23:35,255 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:35,255 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38404 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38406 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:35,882 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:35,883 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38420 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38422 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:23:36,250 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:36,251 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38436 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51976 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:36,966 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:36,966 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51992 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51996 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:23:41,531 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:41,531 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52010 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52014 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:41,849 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:41,849 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52020 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52030 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:23:43,236 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:43,237 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52044 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52046 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:43,582 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:43,582 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52058 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48800 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:23:47,541 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:47,541 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48802 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48810 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:23:49,642 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:23:49,642 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48816 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48828 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:23:50,016 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:23:50,016 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48832 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:23:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:23:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:24:20.909567+03:00 (in 29.998659 seconds)
2025-01-28 21:23:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:24:20 MSK)" (scheduled at 2025-01-28 21:23:50.909567+03:00)
2025-01-28 21:23:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:23:50,919 - services.DepositService - INFO - wallet
2025-01-28 21:23:50,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:23:51,134 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:23:51,135 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:23:51,135 - services.DepositService - INFO - transactions
2025-01-28 21:23:51,135 - services.DepositService - INFO - []
2025-01-28 21:23:51,136 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:24:20 MSK)" executed successfully
2025-01-28 21:24:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:24:20,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:24:31.410830+03:00 (in 10.498755 seconds)
2025-01-28 21:24:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:24:50 MSK)" (scheduled at 2025-01-28 21:24:20.909567+03:00)
2025-01-28 21:24:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:24:20,925 - services.DepositService - INFO - wallet
2025-01-28 21:24:20,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:24:21,165 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:24:21,166 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:24:21,166 - services.DepositService - INFO - transactions
2025-01-28 21:24:21,166 - services.DepositService - INFO - []
2025-01-28 21:24:21,166 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:24:50 MSK)" executed successfully
2025-01-28 21:24:31,413 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:24:31,413 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:24:31,413 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:24:50.909567+03:00 (in 19.495947 seconds)
2025-01-28 21:24:31,413 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:24:31 MSK], next run at: 2025-01-28 21:24:31 MSK)" (scheduled at 2025-01-28 21:24:31.410830+03:00)
2025-01-28 21:24:32,086 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:24:32,086 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:24:32,108 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:24:32,108 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:24:32,108 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:24:32,108 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:24:32,121 - services.BlockService - INFO - last completed block is 9c253e1c-91c9-4e7a-9e99-a7e43260bb47 (BlockStatus.COMPLETED)
2025-01-28 21:24:32,825 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:24:32,825 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:24:31 MSK], next run at: 2025-01-28 21:24:31 MSK)" executed successfully
2025-01-28 21:24:32,825 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:24:32,825 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:24:50.909567+03:00 (in 18.083758 seconds)
2025-01-28 21:24:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:24:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:25:20.909567+03:00 (in 29.998265 seconds)
2025-01-28 21:24:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:25:20 MSK)" (scheduled at 2025-01-28 21:24:50.909567+03:00)
2025-01-28 21:24:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:24:50,921 - services.DepositService - INFO - wallet
2025-01-28 21:24:50,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:24:51,106 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:24:51,107 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:24:51,107 - services.DepositService - INFO - transactions
2025-01-28 21:24:51,107 - services.DepositService - INFO - []
2025-01-28 21:24:51,107 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:25:20 MSK)" executed successfully
2025-01-28 21:25:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:25:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:25:50.909567+03:00 (in 29.997907 seconds)
2025-01-28 21:25:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:25:50 MSK)" (scheduled at 2025-01-28 21:25:20.909567+03:00)
2025-01-28 21:25:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:25:20,925 - services.DepositService - INFO - wallet
2025-01-28 21:25:20,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:25:21,256 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:25:21,257 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:25:21,257 - services.DepositService - INFO - transactions
2025-01-28 21:25:21,257 - services.DepositService - INFO - []
2025-01-28 21:25:21,257 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:25:50 MSK)" executed successfully
2025-01-28 21:25:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:25:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:26:02.825180+03:00 (in 11.914279 seconds)
2025-01-28 21:25:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:26:20 MSK)" (scheduled at 2025-01-28 21:25:50.909567+03:00)
2025-01-28 21:25:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:25:50,920 - services.DepositService - INFO - wallet
2025-01-28 21:25:50,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:25:51,113 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:25:51,114 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:25:51,115 - services.DepositService - INFO - transactions
2025-01-28 21:25:51,115 - services.DepositService - INFO - []
2025-01-28 21:25:51,115 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:26:20 MSK)" executed successfully
INFO:     172.18.0.6:32840 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:32844 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:25:57,942 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:25:57,942 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:32850 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:25:58,082 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:25:58,082 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:32860 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:32868 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:25:58,216 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:25:58,216 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:32870 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:02,826 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:26:02,826 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:26:02,827 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:26:20.909567+03:00 (in 18.082478 seconds)
2025-01-28 21:26:02,827 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:26:02 MSK], next run at: 2025-01-28 21:26:02 MSK)" (scheduled at 2025-01-28 21:26:02.825180+03:00)
2025-01-28 21:26:03,516 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:26:03,516 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:26:03,535 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:26:03,535 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:26:03,535 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:26:03,536 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:26:03,549 - services.BlockService - INFO - last completed block is 43cec1c8-1694-4272-9bb3-c4ce472039a6 (BlockStatus.COMPLETED)
INFO:     172.18.0.6:32886 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:32890 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:26:04,566 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:26:04,566 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:26:02 MSK], next run at: 2025-01-28 21:26:02 MSK)" executed successfully
2025-01-28 21:26:04,567 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:26:04,567 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:26:20.909567+03:00 (in 16.342441 seconds)
2025-01-28 21:26:04,757 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:04,757 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:32898 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:04,761 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:04,762 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:32908 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:32914 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:05,080 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:05,080 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:32918 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60808 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:60820 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:60834 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:11,367 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:11,367 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:26:11,492 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:11,492 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60846 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60860 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:11,631 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:11,632 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60872 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48500 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:48506 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:26:17,319 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:17,319 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48516 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:17,344 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:17,345 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48518 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48526 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:17,637 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:17,637 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48532 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:26:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:26:50.909567+03:00 (in 29.998383 seconds)
2025-01-28 21:26:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:26:50 MSK)" (scheduled at 2025-01-28 21:26:20.909567+03:00)
2025-01-28 21:26:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:26:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:26:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:26:21,149 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:26:21,150 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:26:21,150 - services.DepositService - INFO - transactions
2025-01-28 21:26:21,150 - services.DepositService - INFO - []
2025-01-28 21:26:21,150 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:26:50 MSK)" executed successfully
INFO:     172.18.0.6:48546 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:48550 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:26:23,225 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:23,225 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48564 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48566 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:23,498 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:23,498 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48570 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:23,821 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:23,821 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48584 - "GET /user/info HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:23,884 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:23,884 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48600 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:23,904 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:23,904 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48616 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:23,946 - routes.auth.tonconnect - ERROR - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwYzY1ODA0Mi1lNmE4LTRjYWQtYWMwZi1kNWEyNGI5MTgxZTYiLCJleHAiOjE3MzgwODkzODMsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.YR9GXmSiPPn_MuA_dQL2FXQnEjD8HrHuPLnCBC60JcI
INFO:     172.18.0.6:48628 - "GET /auth/payload HTTP/1.0" 200 OK
2025-01-28 21:26:24,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:24,066 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48632 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:24,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:24,075 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48644 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48648 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:24,433 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:24,433 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48664 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43070 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:43086 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:26:29,352 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:29,352 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43092 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43100 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:26:29,403 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:29,403 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43108 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43124 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:29,515 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:29,515 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43134 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43144 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:43160 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:29,644 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:29,644 - routes.auth - INFO - Refresh token is expired
2025-01-28 21:26:29,721 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:29,721 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:43174 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43186 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:43188 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:26:35,234 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:35,235 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43198 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:35,401 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:35,401 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43204 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43206 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:35,562 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:35,563 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:43222 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43228 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:43238 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:26:36,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:36,075 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43242 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43254 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:36,240 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:36,240 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43266 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:36,373 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:36,373 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:43274 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36974 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:26:40,724 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:40,725 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36982 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36990 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37002 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:41,481 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:41,482 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37014 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:41,729 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:41,730 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37030 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37032 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37048 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37054 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:41,975 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:41,975 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37060 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:42,039 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:42,039 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37076 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:42,090 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:42,091 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37084 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37090 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:42,273 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:42,273 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37092 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49694 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:26:47,096 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:47,096 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49698 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49708 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:49720 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:47,587 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:47,587 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49732 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:47,770 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:47,771 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49748 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49750 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:49764 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:26:48,029 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:48,029 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49768 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:48,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:48,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49776 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49788 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:48,347 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:48,347 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49790 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:50,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:26:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:27:20.909567+03:00 (in 29.997815 seconds)
2025-01-28 21:26:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:27:20 MSK)" (scheduled at 2025-01-28 21:26:50.909567+03:00)
2025-01-28 21:26:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:26:50,925 - services.DepositService - INFO - wallet
2025-01-28 21:26:50,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:26:51,174 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:26:51,175 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:26:51,175 - services.DepositService - INFO - transactions
2025-01-28 21:26:51,176 - services.DepositService - INFO - []
2025-01-28 21:26:51,176 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:27:20 MSK)" executed successfully
INFO:     172.18.0.6:49806 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:49822 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:26:53,242 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:53,242 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49824 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:53,354 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:53,354 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49832 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49848 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:53,545 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:53,546 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49854 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49868 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:49870 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:49880 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:54,000 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:54,000 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:26:54,013 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:54,013 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49888 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49898 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:54,334 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:54,334 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49908 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49916 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:54,716 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:54,716 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49926 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44854 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44862 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:26:58,996 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:58,996 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44866 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:26:59,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:59,076 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44874 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44878 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:26:59,285 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:26:59,286 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44886 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44894 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:26:59,971 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:26:59,971 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44904 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44918 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:00,247 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:00,248 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44924 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44928 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:01,027 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:01,027 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44936 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44940 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:01,312 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:01,312 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44948 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44950 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:04,337 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:04,337 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44956 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44964 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44966 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:04,723 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:04,723 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44976 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:04,729 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:04,729 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44978 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44986 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:05,969 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:05,969 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44990 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45006 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:06,245 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:06,245 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45008 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42130 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:06,974 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:06,974 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42132 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42140 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:07,246 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:07,247 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42150 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42162 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:42178 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:09,995 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:09,996 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42188 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:10,002 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:10,002 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42202 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42218 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:10,257 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:10,258 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42230 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42232 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:12,228 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:12,229 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42248 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42250 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:12,492 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:12,492 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42256 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42260 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:12,977 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:12,978 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42262 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42278 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:13,260 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:13,261 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42288 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42304 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:42306 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:15,976 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:15,976 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42320 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:16,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:16,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42322 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42332 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:16,282 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:16,282 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42344 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50600 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:18,050 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:18,050 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50606 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50610 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:18,848 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:18,848 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50614 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:27:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:27:34.566411+03:00 (in 13.654865 seconds)
2025-01-28 21:27:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:27:50 MSK)" (scheduled at 2025-01-28 21:27:20.909567+03:00)
2025-01-28 21:27:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:27:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:27:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:27:21,165 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:27:21,166 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:27:21,166 - services.DepositService - INFO - transactions
2025-01-28 21:27:21,166 - services.DepositService - INFO - []
2025-01-28 21:27:21,166 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:27:50 MSK)" executed successfully
INFO:     172.18.0.6:50622 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50628 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:22,295 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:22,295 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50638 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50650 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:22,494 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:22,494 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50660 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:22,592 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:22,593 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50664 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50666 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50674 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:24,999 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:25,000 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50686 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:25,026 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:25,026 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50696 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50708 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:25,316 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:25,316 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50716 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48698 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:48704 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:28,318 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:28,319 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48720 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:28,323 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:28,323 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48734 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48738 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:28,599 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:28,599 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48740 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48746 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:48748 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:30,983 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:30,983 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48752 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48760 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:31,249 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:31,249 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48776 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:31,367 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:31,367 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48780 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48788 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:48796 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:33,969 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:33,969 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48810 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:33,977 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:33,977 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48824 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48840 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:34,212 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:34,212 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48846 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:34,567 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:27:34,567 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:27:34,568 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:27:50.909567+03:00 (in 16.341561 seconds)
2025-01-28 21:27:34,568 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:27:34 MSK], next run at: 2025-01-28 21:27:34 MSK)" (scheduled at 2025-01-28 21:27:34.566411+03:00)
2025-01-28 21:27:35,201 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:27:35,201 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:27:35,222 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:27:35,222 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:27:35,222 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:27:35,222 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:27:35,233 - services.BlockService - INFO - last completed block is b73914f7-9a4e-43d6-bd2b-4adced0eef96 (BlockStatus.COMPLETED)
2025-01-28 21:27:35,969 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:27:35,969 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:27:34 MSK], next run at: 2025-01-28 21:27:34 MSK)" executed successfully
2025-01-28 21:27:35,970 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:27:35,970 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:27:50.909567+03:00 (in 14.939329 seconds)
INFO:     172.18.0.6:44960 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44968 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:37,214 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:37,214 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
INFO:     172.18.0.6:44980 - "GET /pair HTTP/1.0" 401 Unauthorized
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:27:37,219 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:37,219 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44988 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44996 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:37,478 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:37,478 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45010 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45018 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:45034 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:39,967 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:39,967 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45042 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:39,972 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:39,972 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45054 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45066 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:40,210 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:40,210 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45072 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45074 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:45078 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:43,309 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:43,309 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45094 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:43,325 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:43,326 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45100 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45104 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:43,916 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:43,917 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45116 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45128 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:46,044 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:46,044 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45130 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45146 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:45150 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:46,374 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:46,374 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45162 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:46,420 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:46,421 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45178 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49532 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:46,746 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:46,746 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49542 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49554 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:49,043 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:49,043 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49562 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49572 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:49,373 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:49,373 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49586 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49594 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:50,027 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:50,027 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49596 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49602 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:50,339 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:50,339 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49614 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:27:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:28:20.909567+03:00 (in 29.998457 seconds)
2025-01-28 21:27:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:28:20 MSK)" (scheduled at 2025-01-28 21:27:50.909567+03:00)
2025-01-28 21:27:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:27:50,920 - services.DepositService - INFO - wallet
2025-01-28 21:27:50,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:27:51,162 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:27:51,163 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:27:51,163 - services.DepositService - INFO - transactions
2025-01-28 21:27:51,163 - services.DepositService - INFO - []
2025-01-28 21:27:51,164 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:28:20 MSK)" executed successfully
INFO:     172.18.0.6:49618 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:52,280 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:52,280 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49630 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49632 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:49648 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:53,176 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:53,176 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49664 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:53,198 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:53,198 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49680 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49694 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:53,497 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:53,497 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49706 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49722 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:27:55,000 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:55,000 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49736 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49748 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:55,335 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:55,335 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49762 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49764 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:56,035 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:56,035 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49774 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49784 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:56,320 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:56,320 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49794 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60798 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:60806 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:27:59,153 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:59,153 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60808 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:27:59,228 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:27:59,229 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60822 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60830 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:27:59,504 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:27:59,504 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60832 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60848 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:01,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:01,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60860 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60872 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:01,441 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:01,441 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60886 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60898 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:02,077 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:02,077 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60912 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60918 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:02,403 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:02,403 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60928 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60934 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:60944 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:04,989 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:04,989 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60956 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:28:05,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:05,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60964 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60976 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:05,349 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:05,349 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60992 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54008 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:07,231 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:07,231 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54022 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54036 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:07,493 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:07,493 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54044 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54050 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:08,981 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:08,982 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
INFO:     172.18.0.6:54052 - "GET /chain/time HTTP/1.0" 401 Unauthorized
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54056 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:09,269 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:09,269 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54066 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54068 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:54082 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:10,981 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:10,981 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54092 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:28:11,037 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:11,037 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54108 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54122 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:11,265 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:11,266 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54126 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54132 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:13,056 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:13,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54140 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54152 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:13,374 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:13,374 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54164 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54176 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:15,032 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:15,032 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54180 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54192 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:15,327 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:15,328 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54198 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36244 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:36246 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:17,226 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:17,226 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36254 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:28:17,270 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:17,270 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36264 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36270 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:17,490 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:17,491 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36282 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36290 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:19,337 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:19,337 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36294 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36300 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:19,600 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:19,600 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36314 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36324 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:28:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:28:50.909567+03:00 (in 29.998792 seconds)
2025-01-28 21:28:20,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:28:50 MSK)" (scheduled at 2025-01-28 21:28:20.909567+03:00)
2025-01-28 21:28:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:28:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:28:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:28:20,972 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:20,972 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36336 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36340 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:21,240 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:21,240 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36342 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:28:21,830 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:28:21,831 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:28:21,832 - services.DepositService - INFO - transactions
2025-01-28 21:28:21,832 - services.DepositService - INFO - []
2025-01-28 21:28:21,832 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:28:50 MSK)" executed successfully
INFO:     172.18.0.6:36356 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:36370 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:23,102 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:23,102 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36372 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:28:23,160 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:23,161 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36386 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36402 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:23,956 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:23,956 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36404 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36420 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:25,451 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:25,452 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36426 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36432 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:25,747 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:25,747 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36440 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59968 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:27,321 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:27,321 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59980 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59996 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:27,801 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:27,801 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60004 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60010 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:29,041 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:29,042 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60020 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60022 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:29,361 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:29,361 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60024 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60028 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:30,048 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:30,048 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60040 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60048 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:30,413 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:30,414 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60060 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60062 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:32,324 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:32,325 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60076 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60084 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:33,453 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:33,453 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60086 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60100 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:34,027 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:34,027 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60106 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60114 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:34,316 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:34,316 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60122 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60136 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:34,980 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:34,980 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60138 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60150 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:35,274 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:35,274 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60160 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60164 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:36,035 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:36,036 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60170 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60180 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:36,324 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:36,324 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60182 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46552 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:38,979 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:38,980 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46562 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46572 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:39,256 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:39,256 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46586 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46594 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:39,976 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:39,977 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46608 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46624 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:40,236 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:40,237 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46634 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46648 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:40,969 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:40,969 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46658 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46674 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:41,243 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:41,243 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46680 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46688 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:41,983 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:41,983 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46690 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46692 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:42,242 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:42,242 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46706 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46718 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:44,989 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:44,989 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46732 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46746 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:45,279 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:45,280 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46762 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46774 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:46,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:46,053 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46780 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46784 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:46,427 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:46,427 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46790 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44284 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:47,042 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:47,042 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44286 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44302 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:47,412 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:47,412 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44304 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44316 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:48,185 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:48,186 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44330 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44340 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:48,523 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:48,524 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44350 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44364 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:50,909 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:28:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:29:05.969303+03:00 (in 15.058846 seconds)
2025-01-28 21:28:50,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:29:20 MSK)" (scheduled at 2025-01-28 21:28:50.909567+03:00)
2025-01-28 21:28:50,910 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:28:50,920 - services.DepositService - INFO - wallet
2025-01-28 21:28:50,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:28:51,049 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:51,049 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44376 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:28:51,144 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:28:51,145 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:28:51,145 - services.DepositService - INFO - transactions
2025-01-28 21:28:51,145 - services.DepositService - INFO - []
2025-01-28 21:28:51,145 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:29:20 MSK)" executed successfully
INFO:     172.18.0.6:44390 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:51,429 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:51,429 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44406 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44420 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:52,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:52,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44426 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44442 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:52,399 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:52,399 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44446 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44462 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:53,007 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:53,007 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44478 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44494 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:53,347 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:53,347 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44506 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44514 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:54,047 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:54,048 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44528 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44534 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:54,405 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:54,405 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44546 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54580 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:57,230 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:57,230 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54586 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54594 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:57,502 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:57,502 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54606 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54612 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:57,982 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:57,982 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54620 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54622 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:58,241 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:58,241 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54636 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54646 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:28:58,974 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:58,974 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54654 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54656 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:28:59,247 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:28:59,247 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54668 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54670 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:28:59,980 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:28:59,980 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54676 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54680 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:00,252 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:00,252 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54694 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54708 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:03,734 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:03,734 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54714 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54726 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:54742 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:04,126 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:04,126 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54758 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:04,135 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:04,135 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54764 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54768 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:04,962 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:04,963 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54770 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54774 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:05,231 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:05,231 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54790 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54792 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:05,971 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:29:05,972 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:29:05,972 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:29:20.909567+03:00 (in 14.937112 seconds)
2025-01-28 21:29:05,972 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:29:05 MSK], next run at: 2025-01-28 21:29:05 MSK)" (scheduled at 2025-01-28 21:29:05.969303+03:00)
2025-01-28 21:29:06,017 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:06,017 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54796 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54812 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:06,693 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:06,693 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54824 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:06,719 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:29:06,719 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:29:06,740 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:29:06,740 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:29:06,740 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:29:06,740 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:29:06,750 - services.BlockService - INFO - last completed block is d3737fdd-8002-443c-95b9-035f954f95a0 (BlockStatus.COMPLETED)
2025-01-28 21:29:07,601 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:29:07,601 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:29:05 MSK], next run at: 2025-01-28 21:29:05 MSK)" executed successfully
2025-01-28 21:29:07,601 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:29:07,602 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:29:20.909567+03:00 (in 13.307544 seconds)
INFO:     172.18.0.6:44036 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:44038 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44050 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:10,098 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:10,099 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:29:10,165 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:10,165 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44060 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44062 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:44066 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:10,925 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:10,926 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44080 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:10,975 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:10,975 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44088 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44104 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:11,275 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:11,276 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44110 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44120 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:13,028 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:13,028 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44128 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44138 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:13,355 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:13,355 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44148 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44162 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:16,036 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:16,036 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
INFO:     172.18.0.6:44178 - "GET /pair HTTP/1.0" 401 Unauthorized
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44180 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:44182 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:16,372 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:16,373 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59836 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:59840 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:17,103 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:17,103 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59850 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59862 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:17,375 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:17,375 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59874 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:17,689 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:17,690 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59890 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59904 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:18,028 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:18,028 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59908 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59914 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:18,988 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:18,988 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59924 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59930 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:19,286 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:19,287 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59936 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:29:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:29:50.909567+03:00 (in 29.998239 seconds)
2025-01-28 21:29:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:29:50 MSK)" (scheduled at 2025-01-28 21:29:20.909567+03:00)
2025-01-28 21:29:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:29:20,922 - services.DepositService - INFO - wallet
2025-01-28 21:29:20,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:29:21,118 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:29:21,119 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:29:21,119 - services.DepositService - INFO - transactions
2025-01-28 21:29:21,119 - services.DepositService - INFO - []
2025-01-28 21:29:21,120 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:29:50 MSK)" executed successfully
INFO:     172.18.0.6:59946 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:22,219 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:22,219 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59956 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59960 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:22,482 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:22,482 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59966 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59976 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:22,972 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:22,972 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59990 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59992 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:23,258 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:23,258 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60006 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60012 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:24,453 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:24,453 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60018 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60034 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:24,753 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:24,753 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60036 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60046 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:25,442 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:25,442 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60056 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60070 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:25,743 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:25,744 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60072 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53766 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53774 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:28,419 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:28,420 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53786 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:53802 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:28,798 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:28,798 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53804 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53818 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:29,178 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:29,178 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53830 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:29,552 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:29,552 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53832 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53838 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:31,031 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:31,031 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53854 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53866 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:31,351 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:31,351 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53868 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53872 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:32,149 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:32,149 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53874 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53878 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:32,663 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:32,663 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53884 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53888 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53896 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:35,007 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:35,007 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53904 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:35,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:35,053 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53920 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53934 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:53936 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:35,350 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:35,350 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53948 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:35,395 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:35,396 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53952 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44658 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:44660 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:38,318 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:38,318 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44666 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:38,328 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:38,328 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44668 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44674 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:44686 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:38,596 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:38,596 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44702 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:38,641 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:38,642 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44714 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44720 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44732 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:40,972 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:40,972 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44742 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:41,024 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:41,024 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44748 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44750 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:44756 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:41,258 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:41,258 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44764 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:41,313 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:41,313 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44772 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44780 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:44790 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:43,978 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:43,978 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44802 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:44,028 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:44,028 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44812 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44828 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:44838 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:44,241 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:44,241 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44842 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:44,348 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:44,348 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44852 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50670 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:50686 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:47,569 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:47,569 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50698 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50704 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:47,903 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:47,903 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50706 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:48,229 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:48,229 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50710 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50714 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:48,569 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:48,569 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50730 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50746 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50748 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:50,001 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:50,002 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50750 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:50,041 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:50,041 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50752 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50754 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:50762 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:50,334 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:50,335 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50768 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:50,343 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:50,344 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50780 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:29:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:30:20.909567+03:00 (in 29.998033 seconds)
2025-01-28 21:29:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:30:20 MSK)" (scheduled at 2025-01-28 21:29:50.909567+03:00)
2025-01-28 21:29:50,913 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:29:50,924 - services.DepositService - INFO - wallet
2025-01-28 21:29:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:29:51,255 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:29:51,255 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:29:51,256 - services.DepositService - INFO - transactions
2025-01-28 21:29:51,256 - services.DepositService - INFO - []
2025-01-28 21:29:51,256 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:30:20 MSK)" executed successfully
INFO:     172.18.0.6:50786 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:50790 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:54,221 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:54,221 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50792 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50802 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:54,496 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:54,496 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50810 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:54,666 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:54,666 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50816 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50826 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:54,953 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:54,953 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50834 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50846 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50860 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:29:55,987 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:55,987 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50862 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:56,024 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:56,024 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50868 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50874 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:50882 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:29:56,290 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:56,290 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50898 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:29:56,350 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:29:56,350 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50904 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33592 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:29:59,980 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:29:59,980 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:33604 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33606 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:00,284 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:00,284 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:33610 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33618 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:30:01,033 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:01,034 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:33630 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33640 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:01,323 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:01,323 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:33656 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33662 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:33668 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:30:02,104 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:02,105 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:33678 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:02,113 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:02,113 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:33688 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33696 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:33712 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:02,387 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:02,387 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:33728 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:02,393 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:02,393 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:33738 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33752 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:30:05,982 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:05,982 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:33758 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33770 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:06,248 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:06,248 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:33782 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41932 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:30:06,975 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:06,975 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41938 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41948 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:07,246 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:07,246 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:41954 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41960 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:41974 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:30:07,980 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:07,980 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41980 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:08,031 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:08,031 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41982 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41998 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:42000 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:08,257 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:08,258 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42012 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:08,374 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:08,375 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42014 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42020 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:30:12,308 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:12,308 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42028 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42040 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:12,625 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:12,625 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42048 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42058 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:42066 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:13,004 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:13,004 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42068 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:13,328 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:13,328 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42078 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42088 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:30:14,006 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:14,006 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42092 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42106 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:14,326 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:14,327 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42110 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52282 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:30:18,356 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:18,357 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52286 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52296 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:18,670 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:18,670 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52310 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52314 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:52324 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:52326 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:30:20,048 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:20,048 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52334 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:20,202 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:20,202 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52346 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:20,230 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:20,230 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52362 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52374 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:52380 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:20,426 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:20,427 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52388 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:20,526 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:20,526 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52398 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:30:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:30:37.601115+03:00 (in 16.690191 seconds)
2025-01-28 21:30:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:30:50 MSK)" (scheduled at 2025-01-28 21:30:20.909567+03:00)
2025-01-28 21:30:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:30:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:30:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:30:21,164 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:30:21,165 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:30:21,165 - services.DepositService - INFO - transactions
2025-01-28 21:30:21,165 - services.DepositService - INFO - []
2025-01-28 21:30:21,165 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:30:50 MSK)" executed successfully
INFO:     172.18.0.6:52412 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:30:24,321 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:24,321 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52420 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52432 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:25,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:25,061 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52440 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52442 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:52454 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:52462 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:30:26,035 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:26,035 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
INFO:     172.18.0.6:52464 - "GET /chain/time HTTP/1.0" 401 Unauthorized
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:30:26,098 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:26,099 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
INFO:     172.18.0.6:52480 - "GET /chain/time HTTP/1.0" 401 Unauthorized
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:30:26,114 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:26,115 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52492 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52502 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:52518 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:26,341 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:26,342 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52522 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:26,394 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:26,395 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52532 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60248 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:60254 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:31,503 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:31,504 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60268 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:60284 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:60294 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:30:32,311 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:32,311 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60306 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:32,324 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:32,324 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60308 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60314 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:60316 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:32,635 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:32,635 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60320 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:32,640 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:32,640 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60326 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:32,779 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:30:32,779 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60338 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60340 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:30:33,083 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:30:33,083 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60344 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:30:37,603 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:30:37,603 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:30:37,603 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:30:50.909567+03:00 (in 13.305907 seconds)
2025-01-28 21:30:37,603 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:30:37 MSK], next run at: 2025-01-28 21:30:37 MSK)" (scheduled at 2025-01-28 21:30:37.601115+03:00)
2025-01-28 21:30:38,251 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:30:38,251 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:30:38,270 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:30:38,270 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:30:38,270 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:30:38,270 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:30:38,280 - services.BlockService - INFO - last completed block is ae4ebf92-9445-4a8f-8f11-2851de8d4acb (BlockStatus.COMPLETED)
2025-01-28 21:30:38,862 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:30:38,862 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:30:37 MSK], next run at: 2025-01-28 21:30:37 MSK)" executed successfully
2025-01-28 21:30:38,862 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:30:38,862 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:30:50.909567+03:00 (in 12.046847 seconds)
2025-01-28 21:30:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:30:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:31:20.909567+03:00 (in 29.998673 seconds)
2025-01-28 21:30:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:31:20 MSK)" (scheduled at 2025-01-28 21:30:50.909567+03:00)
2025-01-28 21:30:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:30:50,921 - services.DepositService - INFO - wallet
2025-01-28 21:30:50,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:30:51,152 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:30:51,153 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:30:51,153 - services.DepositService - INFO - transactions
2025-01-28 21:30:51,153 - services.DepositService - INFO - []
2025-01-28 21:30:51,153 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:31:20 MSK)" executed successfully
2025-01-28 21:31:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:31:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:31:50.909567+03:00 (in 29.997909 seconds)
2025-01-28 21:31:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:31:50 MSK)" (scheduled at 2025-01-28 21:31:20.909567+03:00)
2025-01-28 21:31:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:31:20,923 - services.DepositService - INFO - wallet
2025-01-28 21:31:20,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:31:21,187 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:31:21,188 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:31:21,188 - services.DepositService - INFO - transactions
2025-01-28 21:31:21,188 - services.DepositService - INFO - []
2025-01-28 21:31:21,189 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:31:50 MSK)" executed successfully
2025-01-28 21:31:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:31:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:32:08.861909+03:00 (in 17.950149 seconds)
2025-01-28 21:31:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:32:20 MSK)" (scheduled at 2025-01-28 21:31:50.909567+03:00)
2025-01-28 21:31:50,913 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:31:50,925 - services.DepositService - INFO - wallet
2025-01-28 21:31:50,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:31:51,119 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:31:51,121 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:31:51,121 - services.DepositService - INFO - transactions
2025-01-28 21:31:51,121 - services.DepositService - INFO - []
2025-01-28 21:31:51,122 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:32:20 MSK)" executed successfully
2025-01-28 21:32:08,863 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:32:08,864 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:32:08,864 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:32:20.909567+03:00 (in 12.045080 seconds)
2025-01-28 21:32:08,864 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:32:08 MSK], next run at: 2025-01-28 21:32:08 MSK)" (scheduled at 2025-01-28 21:32:08.861909+03:00)
2025-01-28 21:32:09,644 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:32:09,644 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:32:09,664 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:32:09,664 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:32:09,664 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:32:09,664 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:32:09,674 - services.BlockService - INFO - last completed block is a92ab8d3-2518-42e6-b526-e0402cb39480 (BlockStatus.COMPLETED)
2025-01-28 21:32:10,298 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:32:10,298 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:32:08 MSK], next run at: 2025-01-28 21:32:08 MSK)" executed successfully
2025-01-28 21:32:10,298 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:32:10,299 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:32:20.909567+03:00 (in 10.610512 seconds)
2025-01-28 21:32:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:32:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:32:50.909567+03:00 (in 29.998120 seconds)
2025-01-28 21:32:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:32:50 MSK)" (scheduled at 2025-01-28 21:32:20.909567+03:00)
2025-01-28 21:32:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:32:20,922 - services.DepositService - INFO - wallet
2025-01-28 21:32:20,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:32:21,869 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:32:21,871 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:32:21,872 - services.DepositService - INFO - transactions
2025-01-28 21:32:21,872 - services.DepositService - INFO - []
2025-01-28 21:32:21,872 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:32:50 MSK)" executed successfully
2025-01-28 21:32:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:32:50,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:33:20.909567+03:00 (in 29.997452 seconds)
2025-01-28 21:32:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:33:20 MSK)" (scheduled at 2025-01-28 21:32:50.909567+03:00)
2025-01-28 21:32:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:32:50,926 - services.DepositService - INFO - wallet
2025-01-28 21:32:50,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:32:52,172 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:32:52,174 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:32:52,174 - services.DepositService - INFO - transactions
2025-01-28 21:32:52,174 - services.DepositService - INFO - []
2025-01-28 21:32:52,174 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:33:20 MSK)" executed successfully
2025-01-28 21:33:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:33:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:33:40.297855+03:00 (in 19.386822 seconds)
2025-01-28 21:33:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:33:50 MSK)" (scheduled at 2025-01-28 21:33:20.909567+03:00)
2025-01-28 21:33:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:33:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:33:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:33:21,160 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:33:21,161 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:33:21,161 - services.DepositService - INFO - transactions
2025-01-28 21:33:21,162 - services.DepositService - INFO - []
2025-01-28 21:33:21,162 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:33:50 MSK)" executed successfully
2025-01-28 21:33:40,298 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:33:40,299 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:33:40,299 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:33:50.909567+03:00 (in 10.610127 seconds)
2025-01-28 21:33:40,299 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:33:40 MSK], next run at: 2025-01-28 21:33:40 MSK)" (scheduled at 2025-01-28 21:33:40.297855+03:00)
2025-01-28 21:33:41,035 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:33:41,035 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:33:41,054 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:33:41,054 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:33:41,054 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:33:41,054 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:33:41,064 - services.BlockService - INFO - last completed block is a0dc49a2-0aec-4013-bcd6-dc52cbb79638 (BlockStatus.COMPLETED)
2025-01-28 21:33:41,654 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:33:41,654 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:33:40 MSK], next run at: 2025-01-28 21:33:40 MSK)" executed successfully
2025-01-28 21:33:41,655 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:33:41,655 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:33:50.909567+03:00 (in 9.254368 seconds)
2025-01-28 21:33:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:33:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:34:20.909567+03:00 (in 29.998741 seconds)
2025-01-28 21:33:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:34:20 MSK)" (scheduled at 2025-01-28 21:33:50.909567+03:00)
2025-01-28 21:33:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:33:50,918 - services.DepositService - INFO - wallet
2025-01-28 21:33:50,918 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:33:52,106 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:33:52,107 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:33:52,107 - services.DepositService - INFO - transactions
2025-01-28 21:33:52,107 - services.DepositService - INFO - []
2025-01-28 21:33:52,107 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:34:20 MSK)" executed successfully
2025-01-28 21:34:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:34:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:34:50.909567+03:00 (in 29.997962 seconds)
2025-01-28 21:34:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:34:50 MSK)" (scheduled at 2025-01-28 21:34:20.909567+03:00)
2025-01-28 21:34:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:34:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:34:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:34:21,117 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:34:21,118 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:34:21,118 - services.DepositService - INFO - transactions
2025-01-28 21:34:21,118 - services.DepositService - INFO - []
2025-01-28 21:34:21,118 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:34:50 MSK)" executed successfully
2025-01-28 21:34:50,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:34:50,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:35:11.654340+03:00 (in 20.742225 seconds)
2025-01-28 21:34:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:35:20 MSK)" (scheduled at 2025-01-28 21:34:50.909567+03:00)
2025-01-28 21:34:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:34:50,923 - services.DepositService - INFO - wallet
2025-01-28 21:34:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:34:51,173 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:34:51,175 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:34:51,175 - services.DepositService - INFO - transactions
2025-01-28 21:34:51,175 - services.DepositService - INFO - []
2025-01-28 21:34:51,175 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:35:20 MSK)" executed successfully
2025-01-28 21:35:11,656 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:35:11,656 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:35:11,656 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:35:20.909567+03:00 (in 9.252759 seconds)
2025-01-28 21:35:11,657 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:35:11 MSK], next run at: 2025-01-28 21:35:11 MSK)" (scheduled at 2025-01-28 21:35:11.654340+03:00)
2025-01-28 21:35:12,604 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:35:12,604 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:35:12,632 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:35:12,632 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:35:12,632 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:35:12,632 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:35:12,643 - services.BlockService - INFO - last completed block is 224fc5f5-6e98-456c-bb5c-10d7121f5169 (BlockStatus.COMPLETED)
2025-01-28 21:35:13,391 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:35:13,392 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:35:11 MSK], next run at: 2025-01-28 21:35:11 MSK)" executed successfully
2025-01-28 21:35:13,392 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:35:13,392 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:35:20.909567+03:00 (in 7.517022 seconds)
2025-01-28 21:35:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:35:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:35:50.909567+03:00 (in 29.998078 seconds)
2025-01-28 21:35:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:35:50 MSK)" (scheduled at 2025-01-28 21:35:20.909567+03:00)
2025-01-28 21:35:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:35:20,919 - services.DepositService - INFO - wallet
2025-01-28 21:35:20,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:35:21,167 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:35:21,168 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:35:21,168 - services.DepositService - INFO - transactions
2025-01-28 21:35:21,168 - services.DepositService - INFO - []
2025-01-28 21:35:21,168 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:35:50 MSK)" executed successfully
2025-01-28 21:35:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:35:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:36:20.909567+03:00 (in 29.997997 seconds)
2025-01-28 21:35:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:36:20 MSK)" (scheduled at 2025-01-28 21:35:50.909567+03:00)
2025-01-28 21:35:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:35:50,923 - services.DepositService - INFO - wallet
2025-01-28 21:35:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:35:51,111 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:35:51,112 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:35:51,112 - services.DepositService - INFO - transactions
2025-01-28 21:35:51,112 - services.DepositService - INFO - []
2025-01-28 21:35:51,112 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:36:20 MSK)" executed successfully
2025-01-28 21:36:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:36:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:36:43.391458+03:00 (in 22.479932 seconds)
2025-01-28 21:36:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:36:50 MSK)" (scheduled at 2025-01-28 21:36:20.909567+03:00)
2025-01-28 21:36:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:36:20,922 - services.DepositService - INFO - wallet
2025-01-28 21:36:20,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:36:21,098 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:36:21,100 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:36:21,100 - services.DepositService - INFO - transactions
2025-01-28 21:36:21,100 - services.DepositService - INFO - []
2025-01-28 21:36:21,100 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:36:50 MSK)" executed successfully
2025-01-28 21:36:43,392 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:36:43,393 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:36:43,393 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:36:50.909567+03:00 (in 7.516337 seconds)
2025-01-28 21:36:43,393 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:36:43 MSK], next run at: 2025-01-28 21:36:43 MSK)" (scheduled at 2025-01-28 21:36:43.391458+03:00)
2025-01-28 21:36:44,402 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:36:44,402 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:36:44,424 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:36:44,425 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:36:44,425 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:36:44,425 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:36:44,436 - services.BlockService - INFO - last completed block is 64f51153-02f3-42c9-a023-8d59afb64b69 (BlockStatus.COMPLETED)
2025-01-28 21:36:45,255 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:36:45,256 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:36:43 MSK], next run at: 2025-01-28 21:36:43 MSK)" executed successfully
2025-01-28 21:36:45,256 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:36:45,256 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:36:50.909567+03:00 (in 5.652842 seconds)
2025-01-28 21:36:50,912 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:36:50,913 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:37:20.909567+03:00 (in 29.995914 seconds)
2025-01-28 21:36:50,914 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:37:20 MSK)" (scheduled at 2025-01-28 21:36:50.909567+03:00)
2025-01-28 21:36:50,914 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:36:50,924 - services.DepositService - INFO - wallet
2025-01-28 21:36:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:36:51,190 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:36:51,191 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:36:51,191 - services.DepositService - INFO - transactions
2025-01-28 21:36:51,192 - services.DepositService - INFO - []
2025-01-28 21:36:51,192 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:37:20 MSK)" executed successfully
2025-01-28 21:37:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:37:20,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:37:50.909567+03:00 (in 29.996868 seconds)
2025-01-28 21:37:20,913 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:37:50 MSK)" (scheduled at 2025-01-28 21:37:20.909567+03:00)
2025-01-28 21:37:20,913 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:37:20,926 - services.DepositService - INFO - wallet
2025-01-28 21:37:20,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:37:21,157 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:37:21,159 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:37:21,159 - services.DepositService - INFO - transactions
2025-01-28 21:37:21,159 - services.DepositService - INFO - []
2025-01-28 21:37:21,160 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:37:50 MSK)" executed successfully
2025-01-28 21:37:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:37:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:38:15.254854+03:00 (in 24.342959 seconds)
2025-01-28 21:37:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:38:20 MSK)" (scheduled at 2025-01-28 21:37:50.909567+03:00)
2025-01-28 21:37:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:37:50,922 - services.DepositService - INFO - wallet
2025-01-28 21:37:50,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:37:51,118 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:37:51,120 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:37:51,120 - services.DepositService - INFO - transactions
2025-01-28 21:37:51,120 - services.DepositService - INFO - []
2025-01-28 21:37:51,120 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:38:20 MSK)" executed successfully
2025-01-28 21:38:15,256 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:38:15,258 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:38:15,258 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:38:20.909567+03:00 (in 5.651089 seconds)
2025-01-28 21:38:15,259 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:38:15 MSK], next run at: 2025-01-28 21:38:15 MSK)" (scheduled at 2025-01-28 21:38:15.254854+03:00)
2025-01-28 21:38:16,118 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:38:16,118 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:38:16,138 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:38:16,138 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:38:16,138 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:38:16,138 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:38:16,148 - services.BlockService - INFO - last completed block is 8375b278-c99b-4fb4-8d12-466d1360b4d2 (BlockStatus.COMPLETED)
2025-01-28 21:38:16,797 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:38:16,798 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:38:15 MSK], next run at: 2025-01-28 21:38:15 MSK)" executed successfully
2025-01-28 21:38:16,798 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:38:16,798 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:38:20.909567+03:00 (in 4.111021 seconds)
2025-01-28 21:38:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:38:20,913 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:38:50.909567+03:00 (in 29.996248 seconds)
2025-01-28 21:38:20,913 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:38:50 MSK)" (scheduled at 2025-01-28 21:38:20.909567+03:00)
2025-01-28 21:38:20,914 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:38:20,926 - services.DepositService - INFO - wallet
2025-01-28 21:38:20,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:38:21,230 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:38:21,231 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:38:21,232 - services.DepositService - INFO - transactions
2025-01-28 21:38:21,232 - services.DepositService - INFO - []
2025-01-28 21:38:21,232 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:38:50 MSK)" executed successfully
2025-01-28 21:38:50,912 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:38:50,913 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:39:20.909567+03:00 (in 29.995819 seconds)
2025-01-28 21:38:50,914 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:39:20 MSK)" (scheduled at 2025-01-28 21:38:50.909567+03:00)
2025-01-28 21:38:50,914 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:38:50,926 - services.DepositService - INFO - wallet
2025-01-28 21:38:50,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:38:51,195 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:38:51,197 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:38:51,197 - services.DepositService - INFO - transactions
2025-01-28 21:38:51,197 - services.DepositService - INFO - []
2025-01-28 21:38:51,197 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:39:20 MSK)" executed successfully
2025-01-28 21:39:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:39:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:39:46.797570+03:00 (in 25.886053 seconds)
2025-01-28 21:39:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:39:50 MSK)" (scheduled at 2025-01-28 21:39:20.909567+03:00)
2025-01-28 21:39:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:39:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:39:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:39:21,786 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:39:21,787 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:39:21,787 - services.DepositService - INFO - transactions
2025-01-28 21:39:21,787 - services.DepositService - INFO - []
2025-01-28 21:39:21,788 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:39:50 MSK)" executed successfully
2025-01-28 21:39:46,798 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:39:46,799 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:39:46,799 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:39:50.909567+03:00 (in 4.109905 seconds)
2025-01-28 21:39:46,800 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:39:46 MSK], next run at: 2025-01-28 21:39:46 MSK)" (scheduled at 2025-01-28 21:39:46.797570+03:00)
2025-01-28 21:39:47,569 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:39:47,569 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:39:47,591 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:39:47,592 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:39:47,592 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:39:47,592 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:39:47,602 - services.BlockService - INFO - last completed block is aabf5f62-cf6d-4096-81ab-6dc53cb42b81 (BlockStatus.COMPLETED)
2025-01-28 21:39:48,262 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:39:48,262 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:39:46 MSK], next run at: 2025-01-28 21:39:46 MSK)" executed successfully
2025-01-28 21:39:48,263 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:39:48,263 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:39:50.909567+03:00 (in 2.646259 seconds)
2025-01-28 21:39:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:39:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:40:20.909567+03:00 (in 29.998743 seconds)
2025-01-28 21:39:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:40:20 MSK)" (scheduled at 2025-01-28 21:39:50.909567+03:00)
2025-01-28 21:39:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:39:50,919 - services.DepositService - INFO - wallet
2025-01-28 21:39:50,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:39:51,125 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:39:51,126 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:39:51,126 - services.DepositService - INFO - transactions
2025-01-28 21:39:51,126 - services.DepositService - INFO - []
2025-01-28 21:39:51,126 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:40:20 MSK)" executed successfully
2025-01-28 21:40:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:40:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:40:50.909567+03:00 (in 29.998846 seconds)
2025-01-28 21:40:20,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:40:50 MSK)" (scheduled at 2025-01-28 21:40:20.909567+03:00)
2025-01-28 21:40:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:40:20,919 - services.DepositService - INFO - wallet
2025-01-28 21:40:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:40:21,149 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:40:21,150 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:40:21,150 - services.DepositService - INFO - transactions
2025-01-28 21:40:21,150 - services.DepositService - INFO - []
2025-01-28 21:40:21,151 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:40:50 MSK)" executed successfully
2025-01-28 21:40:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:40:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:41:18.262121+03:00 (in 27.350649 seconds)
2025-01-28 21:40:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:41:20 MSK)" (scheduled at 2025-01-28 21:40:50.909567+03:00)
2025-01-28 21:40:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:40:50,921 - services.DepositService - INFO - wallet
2025-01-28 21:40:50,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:40:51,170 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:40:51,171 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:40:51,171 - services.DepositService - INFO - transactions
2025-01-28 21:40:51,171 - services.DepositService - INFO - []
2025-01-28 21:40:51,172 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:41:20 MSK)" executed successfully
2025-01-28 21:41:18,263 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:41:18,264 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:41:18,265 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:41:20.909567+03:00 (in 2.644563 seconds)
2025-01-28 21:41:18,265 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:41:18 MSK], next run at: 2025-01-28 21:41:18 MSK)" (scheduled at 2025-01-28 21:41:18.262121+03:00)
2025-01-28 21:41:19,038 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:41:19,038 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:41:19,060 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:41:19,061 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:41:19,061 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:41:19,061 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:41:19,071 - services.BlockService - INFO - last completed block is cbb86f34-a8a5-4874-9dd9-746055adfea1 (BlockStatus.COMPLETED)
2025-01-28 21:41:19,708 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:41:19,709 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:41:18 MSK], next run at: 2025-01-28 21:41:18 MSK)" executed successfully
2025-01-28 21:41:19,709 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:41:19,709 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:41:20.909567+03:00 (in 1.200303 seconds)
2025-01-28 21:41:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:41:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:41:50.909567+03:00 (in 29.998540 seconds)
2025-01-28 21:41:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:41:50 MSK)" (scheduled at 2025-01-28 21:41:20.909567+03:00)
2025-01-28 21:41:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:41:20,917 - services.DepositService - INFO - wallet
2025-01-28 21:41:20,917 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:41:21,170 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:41:21,171 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:41:21,172 - services.DepositService - INFO - transactions
2025-01-28 21:41:21,172 - services.DepositService - INFO - []
2025-01-28 21:41:21,172 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:41:50 MSK)" executed successfully
2025-01-28 21:41:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:41:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:42:20.909567+03:00 (in 29.998005 seconds)
2025-01-28 21:41:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:42:20 MSK)" (scheduled at 2025-01-28 21:41:50.909567+03:00)
2025-01-28 21:41:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:41:50,921 - services.DepositService - INFO - wallet
2025-01-28 21:41:50,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:41:51,186 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:41:51,188 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:41:51,188 - services.DepositService - INFO - transactions
2025-01-28 21:41:51,189 - services.DepositService - INFO - []
2025-01-28 21:41:51,189 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:42:20 MSK)" executed successfully
2025-01-28 21:42:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:42:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:42:49.708594+03:00 (in 28.796992 seconds)
2025-01-28 21:42:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:42:50 MSK)" (scheduled at 2025-01-28 21:42:20.909567+03:00)
2025-01-28 21:42:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:42:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:42:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:42:21,160 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:42:21,161 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:42:21,161 - services.DepositService - INFO - transactions
2025-01-28 21:42:21,161 - services.DepositService - INFO - []
2025-01-28 21:42:21,161 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:42:50 MSK)" executed successfully
2025-01-28 21:42:49,709 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:42:49,710 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:42:49,710 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:42:50.909567+03:00 (in 1.198883 seconds)
2025-01-28 21:42:49,710 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:42:49 MSK], next run at: 2025-01-28 21:42:49 MSK)" (scheduled at 2025-01-28 21:42:49.708594+03:00)
2025-01-28 21:42:50,298 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:42:50,298 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:42:50,317 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:42:50,318 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:42:50,318 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:42:50,318 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:42:50,328 - services.BlockService - INFO - last completed block is f1a209dd-93e0-4432-83a0-c96df966f044 (BlockStatus.COMPLETED)
2025-01-28 21:42:51,134 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:42:51,135 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:43:20.909567+03:00 (in 29.774408 seconds)
2025-01-28 21:42:51,135 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:43:20 MSK)" (scheduled at 2025-01-28 21:42:50.909567+03:00)
2025-01-28 21:42:51,135 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:42:51,168 - services.DepositService - INFO - wallet
2025-01-28 21:42:51,168 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:42:51,222 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:42:51,222 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:42:49 MSK], next run at: 2025-01-28 21:42:49 MSK)" executed successfully
2025-01-28 21:42:51,222 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:42:51,222 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:43:20.909567+03:00 (in 29.686720 seconds)
2025-01-28 21:42:51,417 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:42:51,418 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:42:51,418 - services.DepositService - INFO - transactions
2025-01-28 21:42:51,418 - services.DepositService - INFO - []
2025-01-28 21:42:51,418 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:43:20 MSK)" executed successfully
2025-01-28 21:43:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:43:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:43:50.909567+03:00 (in 29.998681 seconds)
2025-01-28 21:43:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:43:50 MSK)" (scheduled at 2025-01-28 21:43:20.909567+03:00)
2025-01-28 21:43:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:43:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:43:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:43:21,146 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:43:21,147 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:43:21,147 - services.DepositService - INFO - transactions
2025-01-28 21:43:21,147 - services.DepositService - INFO - []
2025-01-28 21:43:21,147 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:43:50 MSK)" executed successfully
2025-01-28 21:43:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:43:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:44:20.909567+03:00 (in 29.997938 seconds)
2025-01-28 21:43:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:44:20 MSK)" (scheduled at 2025-01-28 21:43:50.909567+03:00)
2025-01-28 21:43:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:43:50,922 - services.DepositService - INFO - wallet
2025-01-28 21:43:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:43:51,137 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:43:51,139 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:43:51,139 - services.DepositService - INFO - transactions
2025-01-28 21:43:51,139 - services.DepositService - INFO - []
2025-01-28 21:43:51,139 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:44:20 MSK)" executed successfully
2025-01-28 21:44:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:44:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:44:21.222274+03:00 (in 0.311482 seconds)
2025-01-28 21:44:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:44:50 MSK)" (scheduled at 2025-01-28 21:44:20.909567+03:00)
2025-01-28 21:44:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:44:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:44:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:44:21,202 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:44:21,204 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:44:21,204 - services.DepositService - INFO - transactions
2025-01-28 21:44:21,204 - services.DepositService - INFO - []
2025-01-28 21:44:21,204 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:44:50 MSK)" executed successfully
2025-01-28 21:44:21,222 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:44:21,223 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:44:21,224 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:44:50.909567+03:00 (in 29.685456 seconds)
2025-01-28 21:44:21,224 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:44:21 MSK], next run at: 2025-01-28 21:44:21 MSK)" (scheduled at 2025-01-28 21:44:21.222274+03:00)
2025-01-28 21:44:21,843 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:44:21,844 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:44:21,878 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:44:21,878 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:44:21,878 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:44:21,878 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:44:21,891 - services.BlockService - INFO - last completed block is 196a3cab-8642-40bc-be97-8005f83004f1 (BlockStatus.COMPLETED)
2025-01-28 21:44:22,707 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:44:22,708 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:44:21 MSK], next run at: 2025-01-28 21:44:21 MSK)" executed successfully
2025-01-28 21:44:22,708 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:44:22,708 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:44:50.909567+03:00 (in 28.200895 seconds)
2025-01-28 21:44:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:44:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:45:20.909567+03:00 (in 29.997679 seconds)
2025-01-28 21:44:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:45:20 MSK)" (scheduled at 2025-01-28 21:44:50.909567+03:00)
2025-01-28 21:44:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:44:50,923 - services.DepositService - INFO - wallet
2025-01-28 21:44:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:44:51,106 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:44:51,107 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:44:51,107 - services.DepositService - INFO - transactions
2025-01-28 21:44:51,107 - services.DepositService - INFO - []
2025-01-28 21:44:51,107 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:45:20 MSK)" executed successfully
2025-01-28 21:45:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:45:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:45:50.909567+03:00 (in 29.998110 seconds)
2025-01-28 21:45:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:45:50 MSK)" (scheduled at 2025-01-28 21:45:20.909567+03:00)
2025-01-28 21:45:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:45:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:45:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:45:21,159 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:45:21,160 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:45:21,160 - services.DepositService - INFO - transactions
2025-01-28 21:45:21,160 - services.DepositService - INFO - []
2025-01-28 21:45:21,161 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:45:50 MSK)" executed successfully
2025-01-28 21:45:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:45:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:45:52.707323+03:00 (in 1.796031 seconds)
2025-01-28 21:45:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:46:20 MSK)" (scheduled at 2025-01-28 21:45:50.909567+03:00)
2025-01-28 21:45:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:45:51,036 - services.DepositService - INFO - wallet
2025-01-28 21:45:51,036 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:45:51,261 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:45:51,262 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:45:51,262 - services.DepositService - INFO - transactions
2025-01-28 21:45:51,262 - services.DepositService - INFO - []
2025-01-28 21:45:51,262 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:46:20 MSK)" executed successfully
2025-01-28 21:45:52,708 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:45:52,709 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:45:52,709 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:46:20.909567+03:00 (in 28.200174 seconds)
2025-01-28 21:45:52,709 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:45:52 MSK], next run at: 2025-01-28 21:45:52 MSK)" (scheduled at 2025-01-28 21:45:52.707323+03:00)
2025-01-28 21:45:53,475 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:45:53,475 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:45:53,497 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:45:53,497 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:45:53,497 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:45:53,497 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:45:53,507 - services.BlockService - INFO - last completed block is 773ffae4-8367-473e-8332-c4dc4e9da35a (BlockStatus.COMPLETED)
2025-01-28 21:45:54,262 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:45:54,262 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:45:52 MSK], next run at: 2025-01-28 21:45:52 MSK)" executed successfully
2025-01-28 21:45:54,262 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:45:54,262 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:46:20.909567+03:00 (in 26.646707 seconds)
2025-01-28 21:46:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:46:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:46:50.909567+03:00 (in 29.997800 seconds)
2025-01-28 21:46:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:46:50 MSK)" (scheduled at 2025-01-28 21:46:20.909567+03:00)
2025-01-28 21:46:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:46:20,922 - services.DepositService - INFO - wallet
2025-01-28 21:46:20,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:46:21,143 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:46:21,144 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:46:21,144 - services.DepositService - INFO - transactions
2025-01-28 21:46:21,144 - services.DepositService - INFO - []
2025-01-28 21:46:21,144 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:46:50 MSK)" executed successfully
WARNING:  Invalid HTTP request received.
2025-01-28 21:46:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:46:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:47:20.909567+03:00 (in 29.998685 seconds)
2025-01-28 21:46:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:47:20 MSK)" (scheduled at 2025-01-28 21:46:50.909567+03:00)
2025-01-28 21:46:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:46:51,025 - services.DepositService - INFO - wallet
2025-01-28 21:46:51,025 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:46:51,268 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:46:51,269 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:46:51,269 - services.DepositService - INFO - transactions
2025-01-28 21:46:51,269 - services.DepositService - INFO - []
2025-01-28 21:46:51,269 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:47:20 MSK)" executed successfully
2025-01-28 21:47:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:47:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:47:24.261839+03:00 (in 3.350293 seconds)
2025-01-28 21:47:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:47:50 MSK)" (scheduled at 2025-01-28 21:47:20.909567+03:00)
2025-01-28 21:47:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:47:20,926 - services.DepositService - INFO - wallet
2025-01-28 21:47:20,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:47:21,197 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:47:21,198 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:47:21,199 - services.DepositService - INFO - transactions
2025-01-28 21:47:21,199 - services.DepositService - INFO - []
2025-01-28 21:47:21,199 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:47:50 MSK)" executed successfully
2025-01-28 21:47:24,262 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:47:24,263 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:47:24,263 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:47:50.909567+03:00 (in 26.646068 seconds)
2025-01-28 21:47:24,263 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:47:24 MSK], next run at: 2025-01-28 21:47:24 MSK)" (scheduled at 2025-01-28 21:47:24.261839+03:00)
2025-01-28 21:47:25,083 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:47:25,083 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:47:25,107 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:47:25,108 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:47:25,108 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:47:25,108 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:47:25,119 - services.BlockService - INFO - last completed block is 875011af-c3bb-4d43-b572-1fdca7f83ed6 (BlockStatus.COMPLETED)
2025-01-28 21:47:25,928 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:47:25,928 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:47:24 MSK], next run at: 2025-01-28 21:47:24 MSK)" executed successfully
2025-01-28 21:47:25,928 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:47:25,929 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:47:50.909567+03:00 (in 24.980449 seconds)
INFO:     172.18.0.6:44878 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44894 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44900 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:44908 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:47:30,250 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:47:30,250 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44910 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:47:30,348 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:47:30,348 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44920 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:47:30,417 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:47:30,418 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44930 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:47:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:47:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:48:20.909567+03:00 (in 29.998192 seconds)
2025-01-28 21:47:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:48:20 MSK)" (scheduled at 2025-01-28 21:47:50.909567+03:00)
2025-01-28 21:47:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:47:50,940 - services.DepositService - INFO - wallet
2025-01-28 21:47:50,940 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:47:51,206 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:47:51,207 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:47:51,208 - services.DepositService - INFO - transactions
2025-01-28 21:47:51,208 - services.DepositService - INFO - []
2025-01-28 21:47:51,208 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:48:20 MSK)" executed successfully
2025-01-28 21:48:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:48:20,913 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:48:50.909567+03:00 (in 29.996067 seconds)
2025-01-28 21:48:20,913 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:48:50 MSK)" (scheduled at 2025-01-28 21:48:20.909567+03:00)
2025-01-28 21:48:20,914 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:48:20,925 - services.DepositService - INFO - wallet
2025-01-28 21:48:20,929 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:48:21,190 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:48:21,192 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:48:21,192 - services.DepositService - INFO - transactions
2025-01-28 21:48:21,192 - services.DepositService - INFO - []
2025-01-28 21:48:21,192 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:48:50 MSK)" executed successfully
INFO:     204.76.203.41:30974 - "CONNECT web.realsysadm.in%3A443 HTTP/1.1" 401 Unauthorized
2025-01-28 21:48:34,714 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:34,714 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45312 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45318 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:45322 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:48:35,993 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:35,993 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45324 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:36,135 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:36,135 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45330 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53386 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:48:42,377 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:42,377 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53402 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53418 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:53426 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:48:42,595 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:42,595 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53442 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:42,614 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:42,615 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53456 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53470 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:48:42,841 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:42,841 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53480 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53482 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:53484 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:48:45,708 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:45,709 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53492 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:45,801 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:45,801 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53498 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54030 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:54032 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:48:48,496 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:48,496 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54048 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:48,582 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:48,582 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54052 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54054 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:54064 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:48:48,768 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:48,768 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54076 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:49,183 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:49,183 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54088 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:50,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:48:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:48:55.928086+03:00 (in 5.016359 seconds)
2025-01-28 21:48:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:49:20 MSK)" (scheduled at 2025-01-28 21:48:50.909567+03:00)
2025-01-28 21:48:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:48:50,920 - services.DepositService - INFO - wallet
2025-01-28 21:48:50,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
INFO:     172.18.0.6:54104 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:54108 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:48:51,111 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:48:51,112 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:48:51,112 - services.DepositService - INFO - transactions
2025-01-28 21:48:51,112 - services.DepositService - INFO - []
2025-01-28 21:48:51,112 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:49:20 MSK)" executed successfully
2025-01-28 21:48:51,245 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:51,245 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54114 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:51,267 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:51,267 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54124 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54130 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:54144 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:48:51,488 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:51,488 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54146 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:51,600 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:51,600 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54156 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:55,929 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:48:55,930 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:48:55,930 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:49:20.909567+03:00 (in 24.979373 seconds)
2025-01-28 21:48:55,930 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:48:55 MSK], next run at: 2025-01-28 21:48:55 MSK)" (scheduled at 2025-01-28 21:48:55.928086+03:00)
2025-01-28 21:48:56,725 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:48:56,725 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:48:56,745 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:48:56,745 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:48:56,745 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:48:56,745 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:48:56,754 - services.BlockService - INFO - last completed block is 8b34dca3-147b-4a6d-9350-8ee83f4fa335 (BlockStatus.COMPLETED)
INFO:     172.18.0.6:46966 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:46970 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:48:57,542 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:57,542 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46972 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:57,546 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:48:57,546 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46986 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:48:57,551 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:48:57,551 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:48:55 MSK], next run at: 2025-01-28 21:48:55 MSK)" executed successfully
2025-01-28 21:48:57,552 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:48:57,552 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:49:20.909567+03:00 (in 23.357493 seconds)
INFO:     172.18.0.6:46996 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:48:57,570 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:57,570 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46998 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47000 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:48:57,587 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:48:57,587 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47014 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47028 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:47036 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:47038 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:49:03,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:49:03,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:49:03,062 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:49:03,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47042 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47048 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:47054 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:49:03,084 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:49:03,084 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47058 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:49:03,088 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:49:03,088 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47074 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58648 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:58664 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:49:09,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:49:09,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58676 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:49:09,067 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:49:09,067 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58692 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58696 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:58712 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:49:09,090 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:49:09,090 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:58728 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58738 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:49:09,094 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:49:09,094 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:58742 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:49:12,618 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:49:12,618 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58756 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58760 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:49:12,999 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:49:12,999 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:58774 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:49:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:49:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:49:50.909567+03:00 (in 29.998694 seconds)
2025-01-28 21:49:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:49:50 MSK)" (scheduled at 2025-01-28 21:49:20.909567+03:00)
2025-01-28 21:49:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:49:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:49:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:49:21,607 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:49:21,608 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:49:21,608 - services.DepositService - INFO - transactions
2025-01-28 21:49:21,608 - services.DepositService - INFO - []
2025-01-28 21:49:21,608 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:49:50 MSK)" executed successfully
INFO:     172.18.0.6:33478 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:49:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:49:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:50:20.909567+03:00 (in 29.997830 seconds)
2025-01-28 21:49:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:50:20 MSK)" (scheduled at 2025-01-28 21:49:50.909567+03:00)
2025-01-28 21:49:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:49:50,922 - services.DepositService - INFO - wallet
2025-01-28 21:49:50,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:49:51,109 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:49:51,110 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:49:51,110 - services.DepositService - INFO - transactions
2025-01-28 21:49:51,110 - services.DepositService - INFO - []
2025-01-28 21:49:51,110 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:50:20 MSK)" executed successfully
INFO:     172.18.0.6:35904 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:35908 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35922 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35924 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:50:06,258 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:06,259 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35930 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:06,266 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:06,266 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35940 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:06,276 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:06,277 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35956 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:06,285 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:06,285 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35962 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35976 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:06,310 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:06,310 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35992 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35994 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:06,364 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:06,365 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36004 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37576 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37590 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37592 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37608 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:50:13,807 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
INFO:     172.18.0.6:37610 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:13,807 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:50:13,812 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:13,813 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37618 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:13,817 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:13,817 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37634 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:13,821 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:13,821 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37638 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37640 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:37658 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:13,842 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:13,843 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37644 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:13,865 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:13,865 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37662 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34366 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:34374 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34382 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:34392 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:50:19,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:19,068 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34402 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34412 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:19,073 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:19,073 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:50:19,076 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:19,077 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34414 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:19,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:19,081 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34430 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34444 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:34454 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:19,101 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:19,101 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34466 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:19,105 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:19,105 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34482 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:50:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:50:27.551531+03:00 (in 6.640040 seconds)
2025-01-28 21:50:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:50:50 MSK)" (scheduled at 2025-01-28 21:50:20.909567+03:00)
2025-01-28 21:50:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:50:20,925 - services.DepositService - INFO - wallet
2025-01-28 21:50:20,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:50:21,807 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:50:21,808 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:50:21,808 - services.DepositService - INFO - transactions
2025-01-28 21:50:21,808 - services.DepositService - INFO - []
2025-01-28 21:50:21,808 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:50:50 MSK)" executed successfully
INFO:     172.18.0.6:34488 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34494 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34502 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:34508 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:50:25,050 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:25,050 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34512 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:25,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:25,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34518 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:25,062 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:25,062 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34534 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:25,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:25,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34536 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34540 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:34542 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:25,084 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:25,084 - routes.auth - INFO - Refresh token is expired
2025-01-28 21:50:25,087 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:25,087 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34544 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34556 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:27,552 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:50:27,553 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:50:27,553 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:50:50.909567+03:00 (in 23.355990 seconds)
2025-01-28 21:50:27,553 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:50:27 MSK], next run at: 2025-01-28 21:50:27 MSK)" (scheduled at 2025-01-28 21:50:27.551531+03:00)
2025-01-28 21:50:28,154 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:50:28,154 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:50:28,175 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:50:28,175 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:50:28,175 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:50:28,175 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:50:28,186 - services.BlockService - INFO - last completed block is 5abefb20-f8e4-4a28-a43c-a45fe31a069c (BlockStatus.COMPLETED)
2025-01-28 21:50:28,893 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:50:28,893 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:50:27 MSK], next run at: 2025-01-28 21:50:27 MSK)" executed successfully
2025-01-28 21:50:28,893 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:50:28,893 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:50:50.909567+03:00 (in 22.015883 seconds)
INFO:     172.18.0.6:44152 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:44158 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:44170 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44172 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:50:31,062 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:31,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44176 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:31,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:31,068 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44188 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:31,074 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:31,074 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44194 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:31,079 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:31,079 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44206 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44208 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:44220 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:31,110 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:31,110 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44236 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:31,114 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:31,114 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44250 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52232 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:52242 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:52244 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:52252 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:50:37,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:37,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52262 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:37,059 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:37,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52266 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:37,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:37,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52282 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:37,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:37,068 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52298 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52308 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:52324 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:37,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:37,081 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52336 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:37,086 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:37,086 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52338 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52354 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:52356 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:52358 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:52372 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:50:43,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:43,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52382 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:43,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:43,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52396 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:43,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:43,068 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52402 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:43,072 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:43,073 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52404 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52410 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:52424 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:43,089 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:43,090 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52426 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:43,096 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:43,097 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52438 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60098 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:60108 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:60122 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:60128 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:50:49,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:49,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60130 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:49,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:49,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60136 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:49,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:49,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60150 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:49,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:49,068 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60166 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60172 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:60174 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:49,086 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:49,086 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60184 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:49,090 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:49,090 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60188 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:50:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:51:20.909567+03:00 (in 29.998381 seconds)
2025-01-28 21:50:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:51:20 MSK)" (scheduled at 2025-01-28 21:50:50.909567+03:00)
2025-01-28 21:50:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:50:50,921 - services.DepositService - INFO - wallet
2025-01-28 21:50:50,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:50:51,137 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:50:51,138 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:50:51,138 - services.DepositService - INFO - transactions
2025-01-28 21:50:51,138 - services.DepositService - INFO - []
2025-01-28 21:50:51,138 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:51:20 MSK)" executed successfully
INFO:     172.18.0.6:60192 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:60204 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:60214 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:60226 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:50:55,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:55,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60232 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:55,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:55,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60242 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:55,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:55,069 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60250 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:55,074 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:50:55,074 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60260 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60276 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:60282 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:50:55,091 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:55,092 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60292 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:50:55,096 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:50:55,096 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60300 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35708 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:35724 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35732 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:51:01,052 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:01,052 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35746 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:01,057 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:01,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35760 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35764 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:51:01,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:01,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35768 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35774 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:01,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:01,075 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35788 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35796 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:01,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:01,082 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35790 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:01,092 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:01,092 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35810 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37504 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37506 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37514 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37520 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:51:07,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:07,066 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37532 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:07,072 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:07,073 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37548 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:07,080 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:07,081 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37550 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:07,087 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:07,087 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37556 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37562 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:37566 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:07,106 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:07,107 - routes.auth - INFO - Refresh token is expired
2025-01-28 21:51:07,110 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:07,110 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37574 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37588 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37594 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37600 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37616 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37620 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:51:13,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:13,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37630 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:13,062 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:13,062 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37636 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:13,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:13,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37646 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:13,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:13,068 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37660 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37664 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:37668 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:13,301 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:13,302 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37672 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:13,305 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:13,306 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37684 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37700 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:13,506 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:13,506 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37712 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34056 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:34064 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34076 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34078 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:51:19,052 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:19,053 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34080 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:19,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:19,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34082 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:19,059 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:19,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34088 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:19,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:19,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34100 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34108 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:34122 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:19,079 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:19,079 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34136 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:19,083 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:19,083 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34144 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:20,912 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:51:20,913 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:51:50.909567+03:00 (in 29.996288 seconds)
2025-01-28 21:51:20,913 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:51:50 MSK)" (scheduled at 2025-01-28 21:51:20.909567+03:00)
2025-01-28 21:51:20,913 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:51:20,925 - services.DepositService - INFO - wallet
2025-01-28 21:51:20,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:51:21,839 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:51:21,840 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:51:21,840 - services.DepositService - INFO - transactions
2025-01-28 21:51:21,840 - services.DepositService - INFO - []
2025-01-28 21:51:21,840 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:51:50 MSK)" executed successfully
INFO:     172.18.0.6:34148 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:34154 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34158 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:51:25,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:25,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34164 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:25,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:25,060 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34166 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34170 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:51:25,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:25,066 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34186 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34192 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:34198 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:25,083 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:25,084 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34220 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:25,088 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:25,089 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34210 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:25,093 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:25,093 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34224 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37900 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37912 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37928 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37938 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:51:31,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:31,066 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37950 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:31,070 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:31,070 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37958 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:31,073 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:31,073 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37972 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:31,076 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:31,076 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37978 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37986 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:38000 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:31,093 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:31,093 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38014 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38028 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:31,097 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:31,097 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34926 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34942 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:34956 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34958 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:51:37,326 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:37,326 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34966 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:37,331 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:37,331 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34968 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:37,337 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:37,337 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34974 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:37,344 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:37,344 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34988 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34998 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:35010 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:37,358 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:37,358 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35012 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:37,363 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:37,364 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35014 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35026 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35032 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35048 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:35058 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:51:43,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:43,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35072 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:43,071 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:43,071 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35074 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:43,076 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:43,076 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35080 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:43,080 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:43,080 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35082 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35098 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:35106 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:43,095 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:43,095 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35118 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:43,100 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:43,100 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35122 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:50,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:51:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:51:58.892955+03:00 (in 7.981318 seconds)
2025-01-28 21:51:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:52:20 MSK)" (scheduled at 2025-01-28 21:51:50.909567+03:00)
2025-01-28 21:51:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:51:50,923 - services.DepositService - INFO - wallet
2025-01-28 21:51:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:51:51,180 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:51:51,181 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:51:51,181 - services.DepositService - INFO - transactions
2025-01-28 21:51:51,181 - services.DepositService - INFO - []
2025-01-28 21:51:51,181 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:52:20 MSK)" executed successfully
INFO:     172.18.0.6:42492 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:42506 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:42508 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:42516 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:51:52,146 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:52,147 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42532 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:52,153 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:52,153 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
INFO:     172.18.0.6:42544 - "GET /pair HTTP/1.0" 401 Unauthorized
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:51:52,159 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:52,159 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42560 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:52,164 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:52,164 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:42568 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42572 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:42576 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:52,190 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:52,191 - routes.auth - INFO - Refresh token is expired
2025-01-28 21:51:52,194 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:52,194 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:42582 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:42598 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50574 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50588 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50598 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:50606 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:51:58,052 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:58,052 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50614 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:58,057 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:58,057 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50630 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:58,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:58,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50632 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:58,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:51:58,068 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50638 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50652 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:50668 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:51:58,085 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:58,085 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50680 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:58,091 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:51:58,091 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50690 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:51:58,894 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:51:58,894 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:51:58,894 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:52:20.909567+03:00 (in 22.015094 seconds)
2025-01-28 21:51:58,894 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:51:58 MSK], next run at: 2025-01-28 21:51:58 MSK)" (scheduled at 2025-01-28 21:51:58.892955+03:00)
2025-01-28 21:51:59,611 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:51:59,611 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:51:59,632 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:51:59,632 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:51:59,632 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:51:59,632 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:51:59,642 - services.BlockService - INFO - last completed block is 7ddfd8b2-37d0-4e72-bd11-d23eedc88a42 (BlockStatus.COMPLETED)
2025-01-28 21:52:00,333 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:52:00,333 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:51:58 MSK], next run at: 2025-01-28 21:51:58 MSK)" executed successfully
2025-01-28 21:52:00,334 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:52:00,334 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:52:20.909567+03:00 (in 20.575031 seconds)
INFO:     172.18.0.6:50698 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:50706 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50722 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:50730 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:52:04,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:04,066 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50746 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:04,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:04,075 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50760 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:04,078 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:04,078 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50762 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:04,082 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:04,082 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50774 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50788 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:50804 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:04,096 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:04,096 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50812 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:04,099 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:04,099 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50816 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56282 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:56298 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:56308 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:56310 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:52:10,177 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:10,177 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56316 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:10,181 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:10,181 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56328 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:10,187 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:10,187 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56332 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:10,192 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:10,192 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56342 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56354 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:56360 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:10,212 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:10,212 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:56364 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:10,216 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:10,216 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:56366 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56374 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:56376 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:52:16,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:16,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56382 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:16,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:16,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56386 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56402 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:16,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:16,081 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:56416 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:52:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:52:50.909567+03:00 (in 29.998622 seconds)
2025-01-28 21:52:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:52:50 MSK)" (scheduled at 2025-01-28 21:52:20.909567+03:00)
2025-01-28 21:52:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:52:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:52:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:52:21,151 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:52:21,152 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:52:21,152 - services.DepositService - INFO - transactions
2025-01-28 21:52:21,152 - services.DepositService - INFO - []
2025-01-28 21:52:21,152 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:52:50 MSK)" executed successfully
INFO:     172.18.0.6:58172 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:58184 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:52:22,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:22,076 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58186 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:22,082 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:22,082 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:58198 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58210 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:58218 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:22,108 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:22,108 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36312 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:36328 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:52:28,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:28,060 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36330 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:28,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:28,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36346 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36352 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:28,087 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:28,087 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36366 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36368 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:36384 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:52:34,057 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:34,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36400 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:34,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:34,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36412 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36414 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:34,085 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:34,085 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36424 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39970 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:39978 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:52:40,057 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:40,057 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39994 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:40,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:40,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40004 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40020 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:40,085 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:40,085 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40030 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40046 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:40052 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:52:46,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:46,060 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40056 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:46,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:46,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40058 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40064 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:46,086 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:46,086 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40068 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:52:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:53:20.909567+03:00 (in 29.998765 seconds)
2025-01-28 21:52:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:53:20 MSK)" (scheduled at 2025-01-28 21:52:50.909567+03:00)
2025-01-28 21:52:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:52:50,921 - services.DepositService - INFO - wallet
2025-01-28 21:52:50,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:52:51,158 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:52:51,159 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:52:51,159 - services.DepositService - INFO - transactions
2025-01-28 21:52:51,159 - services.DepositService - INFO - []
2025-01-28 21:52:51,159 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:53:20 MSK)" executed successfully
INFO:     172.18.0.6:60160 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:52:52,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:52,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60176 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60184 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:52:52,071 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:52,072 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60188 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60202 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:52,090 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:52,091 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60214 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51956 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:51968 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:52:58,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:58,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51978 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:52:58,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:52:58,069 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51994 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52004 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:52:58,097 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:52:58,097 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52008 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52016 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:52030 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:53:04,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:04,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52032 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:04,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:04,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52046 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52048 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:04,082 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:04,082 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52058 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46316 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:46326 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:53:10,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:10,060 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46340 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:10,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:10,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46356 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46362 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:10,086 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:10,086 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46366 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46368 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:53:16,073 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:16,073 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46382 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46398 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:46410 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:16,095 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:16,095 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46424 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:16,103 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:16,104 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46434 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:53:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:53:30.333028+03:00 (in 9.421945 seconds)
2025-01-28 21:53:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:53:50 MSK)" (scheduled at 2025-01-28 21:53:20.909567+03:00)
2025-01-28 21:53:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:53:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:53:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:53:21,171 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:53:21,173 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:53:21,173 - services.DepositService - INFO - transactions
2025-01-28 21:53:21,173 - services.DepositService - INFO - []
2025-01-28 21:53:21,173 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:53:50 MSK)" executed successfully
INFO:     172.18.0.6:54076 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:54080 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:53:22,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:22,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54096 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:22,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:22,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54106 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54114 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:22,088 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:22,088 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54116 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39648 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:39654 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:53:28,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:28,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39668 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:28,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:28,067 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39678 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39684 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:28,094 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:28,094 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:39700 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:30,334 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:53:30,334 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:53:30,334 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:53:50.909567+03:00 (in 20.574754 seconds)
2025-01-28 21:53:30,334 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:53:30 MSK], next run at: 2025-01-28 21:53:30 MSK)" (scheduled at 2025-01-28 21:53:30.333028+03:00)
2025-01-28 21:53:30,927 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:53:30,927 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:53:30,945 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:53:30,945 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:53:30,946 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:53:30,946 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:53:30,955 - services.BlockService - INFO - last completed block is b2c15178-5b8f-4b8e-a841-a0cb867033b5 (BlockStatus.COMPLETED)
2025-01-28 21:53:31,593 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:53:31,593 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:53:30 MSK], next run at: 2025-01-28 21:53:30 MSK)" executed successfully
2025-01-28 21:53:31,594 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:53:31,594 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:53:50.909567+03:00 (in 19.315214 seconds)
INFO:     172.18.0.6:39712 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:39718 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:53:34,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:34,053 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39734 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:34,057 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:34,057 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:39750 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39758 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:34,083 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:34,084 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:39770 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54934 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:54946 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:53:40,062 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:40,062 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54958 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:40,067 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:40,067 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54970 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54976 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:40,091 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:40,091 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54980 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54982 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:54994 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:53:46,056 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:46,057 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55004 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:46,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:46,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55014 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55020 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:46,375 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:46,375 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55028 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:53:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:54:20.909567+03:00 (in 29.998811 seconds)
2025-01-28 21:53:50,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:54:20 MSK)" (scheduled at 2025-01-28 21:53:50.909567+03:00)
2025-01-28 21:53:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:53:50,920 - services.DepositService - INFO - wallet
2025-01-28 21:53:50,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:53:51,158 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:53:51,160 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:53:51,160 - services.DepositService - INFO - transactions
2025-01-28 21:53:51,160 - services.DepositService - INFO - []
2025-01-28 21:53:51,161 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:54:20 MSK)" executed successfully
INFO:     172.18.0.6:54776 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:54784 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:54790 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:52,059 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:52,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:53:52,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:52,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54796 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54800 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:52,094 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:52,094 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54808 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50232 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50238 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:53:58,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:58,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50242 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:53:58,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:53:58,060 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50246 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50256 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:53:58,076 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:53:58,076 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50264 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50274 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:50290 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:54:04,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:04,067 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50306 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:04,071 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:04,071 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50310 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50316 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:04,099 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:04,099 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50326 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50662 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:50676 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:54:10,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:10,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50690 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:10,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:10,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50704 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50710 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:10,080 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:10,080 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50720 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50736 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:50742 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:54:16,057 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:16,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50756 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:16,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:16,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:50766 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50774 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:16,084 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:16,084 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:50782 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:54:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:54:50.909567+03:00 (in 29.998120 seconds)
2025-01-28 21:54:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:54:50 MSK)" (scheduled at 2025-01-28 21:54:20.909567+03:00)
2025-01-28 21:54:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:54:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:54:20,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:54:21,162 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:54:21,163 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:54:21,163 - services.DepositService - INFO - transactions
2025-01-28 21:54:21,163 - services.DepositService - INFO - []
2025-01-28 21:54:21,163 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:54:50 MSK)" executed successfully
INFO:     172.18.0.6:55246 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:55260 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:54:22,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:22,053 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55268 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:22,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:22,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55284 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55298 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:22,080 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:22,081 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55300 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52632 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:52644 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:54:28,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:28,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52658 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:28,059 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:28,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52662 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52664 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:28,186 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:28,186 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52672 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52676 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:52678 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:54:34,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:34,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52682 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:34,070 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:34,070 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:52692 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52704 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:34,092 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:34,093 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:52706 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41628 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:41638 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:54:40,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:40,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41650 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:40,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:40,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41662 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41676 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:40,087 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:40,087 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:41692 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41700 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:41710 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:54:46,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:46,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41724 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:46,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:46,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41740 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41742 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:46,091 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:46,091 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:41748 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:50,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:54:50,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:55:01.593141+03:00 (in 10.681071 seconds)
2025-01-28 21:54:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:55:20 MSK)" (scheduled at 2025-01-28 21:54:50.909567+03:00)
2025-01-28 21:54:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:54:50,923 - services.DepositService - INFO - wallet
2025-01-28 21:54:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:54:51,167 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:54:51,169 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:54:51,169 - services.DepositService - INFO - transactions
2025-01-28 21:54:51,169 - services.DepositService - INFO - []
2025-01-28 21:54:51,169 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:55:20 MSK)" executed successfully
INFO:     172.18.0.6:36704 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:36716 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:54:52,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:52,053 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36722 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:52,057 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:52,057 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
INFO:     172.18.0.6:36724 - "GET /pair HTTP/1.0" 401 Unauthorized
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:36738 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:52,080 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:52,080 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:36752 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59680 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:59688 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:54:58,056 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:58,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59694 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:54:58,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:54:58,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59704 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59718 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:54:58,084 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:54:58,084 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59728 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:01,594 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:55:01,595 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:55:01,595 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:55:20.909567+03:00 (in 19.314481 seconds)
2025-01-28 21:55:01,595 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:55:01 MSK], next run at: 2025-01-28 21:55:01 MSK)" (scheduled at 2025-01-28 21:55:01.593141+03:00)
2025-01-28 21:55:02,441 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:55:02,441 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:55:02,477 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:55:02,478 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:55:02,478 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:55:02,478 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:55:02,490 - services.BlockService - INFO - last completed block is c1270baa-a00c-4466-b75e-2f02ff84702e (BlockStatus.COMPLETED)
2025-01-28 21:55:03,204 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:55:03,204 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:55:01 MSK], next run at: 2025-01-28 21:55:01 MSK)" executed successfully
2025-01-28 21:55:03,204 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:55:03,204 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:55:20.909567+03:00 (in 17.704910 seconds)
INFO:     172.18.0.6:59738 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:59742 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:55:04,079 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:04,080 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59746 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:04,097 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:04,097 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59748 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59764 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:04,115 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:04,116 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59774 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60760 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:60772 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:55:10,052 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:10,052 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60776 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:10,057 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:10,057 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60786 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60788 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:10,080 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:10,080 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60790 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60796 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:60812 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:55:16,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:16,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60814 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:16,070 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:16,070 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60820 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60826 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:16,096 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:16,096 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60830 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:55:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:55:50.909567+03:00 (in 29.998938 seconds)
2025-01-28 21:55:20,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:55:50 MSK)" (scheduled at 2025-01-28 21:55:20.909567+03:00)
2025-01-28 21:55:20,910 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:55:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:55:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:55:21,186 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:55:21,187 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:55:21,187 - services.DepositService - INFO - transactions
2025-01-28 21:55:21,187 - services.DepositService - INFO - []
2025-01-28 21:55:21,188 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:55:50 MSK)" executed successfully
INFO:     172.18.0.6:47078 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:55:22,192 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:22,192 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47086 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47090 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:47092 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:22,211 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:22,212 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47104 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:22,226 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:22,226 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47116 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38544 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:38546 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:55:28,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:28,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38558 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:28,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:28,062 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38560 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38576 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:28,079 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:28,079 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38582 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38598 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:38602 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:55:34,053 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:34,053 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38612 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:34,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:34,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38614 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38622 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:34,083 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:34,083 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38628 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47236 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:47244 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:55:40,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:40,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47258 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:40,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:40,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47266 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47270 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:40,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:40,081 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47286 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47302 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:47316 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:55:46,097 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:46,097 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47330 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47336 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:46,127 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:46,128 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47346 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:46,172 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:46,173 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47348 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47354 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:46,198 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:46,199 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47362 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:55:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:56:20.909567+03:00 (in 29.997739 seconds)
2025-01-28 21:55:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:56:20 MSK)" (scheduled at 2025-01-28 21:55:50.909567+03:00)
2025-01-28 21:55:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:55:50,924 - services.DepositService - INFO - wallet
2025-01-28 21:55:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:55:51,166 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:55:51,167 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:55:51,167 - services.DepositService - INFO - transactions
2025-01-28 21:55:51,167 - services.DepositService - INFO - []
2025-01-28 21:55:51,168 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:56:20 MSK)" executed successfully
INFO:     172.18.0.6:45982 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:45992 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:55:52,059 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:52,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45998 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:52,062 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:52,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46008 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46014 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:52,083 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:52,083 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46016 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35866 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35872 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:55:58,067 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:58,067 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35874 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:55:58,071 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:55:58,071 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35882 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35892 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:55:58,185 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:55:58,185 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35904 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35920 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:35930 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:56:04,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:04,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35944 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:04,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:04,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35946 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35954 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:04,089 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:04,090 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35966 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49560 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:49568 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:56:10,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:10,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49572 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:10,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:10,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49580 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49582 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:10,079 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:10,079 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49598 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49614 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:49616 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:56:16,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:16,060 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49630 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:16,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:16,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:49636 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49642 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:16,087 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:16,087 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:49656 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:56:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:56:33.203818+03:00 (in 12.293135 seconds)
2025-01-28 21:56:20,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:56:50 MSK)" (scheduled at 2025-01-28 21:56:20.909567+03:00)
2025-01-28 21:56:20,910 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:56:20,919 - services.DepositService - INFO - wallet
2025-01-28 21:56:20,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:56:21,113 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:56:21,114 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:56:21,114 - services.DepositService - INFO - transactions
2025-01-28 21:56:21,114 - services.DepositService - INFO - []
2025-01-28 21:56:21,114 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:56:50 MSK)" executed successfully
INFO:     172.18.0.6:45942 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:45944 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:56:22,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:22,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45958 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:22,062 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:22,062 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45974 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45984 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:22,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:22,081 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45988 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40408 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:40410 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:56:28,684 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:28,684 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40418 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:28,687 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:28,687 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40426 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40432 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:28,714 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:28,714 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40448 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:33,204 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:56:33,204 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:56:33,205 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:56:50.909567+03:00 (in 17.704472 seconds)
2025-01-28 21:56:33,205 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:56:33 MSK], next run at: 2025-01-28 21:56:33 MSK)" (scheduled at 2025-01-28 21:56:33.203818+03:00)
2025-01-28 21:56:33,879 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:56:33,879 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:56:33,899 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:56:33,899 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:56:33,899 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:56:33,899 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:56:33,909 - services.BlockService - INFO - last completed block is cb550d70-57c7-48bb-bfc0-4d09f6a2d933 (BlockStatus.COMPLETED)
INFO:     172.18.0.6:40456 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:40466 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:56:34,502 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:34,503 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40470 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:34,506 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:34,506 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40480 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40494 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:34,529 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:56:34,529 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:56:33 MSK], next run at: 2025-01-28 21:56:33 MSK)" executed successfully
2025-01-28 21:56:34,529 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:56:34,530 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:56:50.909567+03:00 (in 16.379637 seconds)
2025-01-28 21:56:34,532 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:34,533 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40500 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40186 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:40188 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:56:40,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:40,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40198 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:40,059 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:40,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40208 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40212 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:40,082 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:40,082 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40226 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40240 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:40252 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:56:46,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:46,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40258 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:46,062 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:46,062 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:40270 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40282 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:46,085 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:46,085 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:40290 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:56:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:57:20.909567+03:00 (in 29.998281 seconds)
2025-01-28 21:56:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:57:20 MSK)" (scheduled at 2025-01-28 21:56:50.909567+03:00)
2025-01-28 21:56:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:56:50,919 - services.DepositService - INFO - wallet
2025-01-28 21:56:50,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:56:51,834 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:56:51,835 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:56:51,835 - services.DepositService - INFO - transactions
2025-01-28 21:56:51,835 - services.DepositService - INFO - []
2025-01-28 21:56:51,835 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:57:20 MSK)" executed successfully
INFO:     172.18.0.6:56696 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:56706 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:56:52,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:52,058 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56718 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:52,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:52,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:56728 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56736 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:52,085 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:52,086 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:56744 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48524 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:48526 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:56:58,056 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:58,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48536 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:56:58,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:56:58,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48550 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48564 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:56:58,086 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:56:58,086 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48566 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48578 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:48594 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:57:04,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:57:04,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
INFO:     172.18.0.6:48608 - "GET /chain/time HTTP/1.0" 401 Unauthorized
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 21:57:04,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:57:04,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48618 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48620 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:57:04,089 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:57:04,089 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48622 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43578 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:43590 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:57:10,067 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:57:10,067 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43592 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:57:10,070 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:57:10,070 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43608 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43622 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:57:10,094 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:57:10,095 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:43634 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43642 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:43644 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 21:57:15,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:57:15,067 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43652 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 21:57:15,071 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:57:15,072 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:43660 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43666 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:57:15,097 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:57:15,098 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:43672 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:57:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:57:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:57:50.909567+03:00 (in 29.998284 seconds)
2025-01-28 21:57:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:57:50 MSK)" (scheduled at 2025-01-28 21:57:20.909567+03:00)
2025-01-28 21:57:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:57:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:57:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
INFO:     172.18.0.6:35162 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:35178 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 21:57:21,065 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:57:21,065 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35190 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 21:57:21,069 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 21:57:21,069 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:35202 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35206 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 21:57:21,186 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 21:57:21,187 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:35216 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 21:57:21,257 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:57:21,258 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:57:21,258 - services.DepositService - INFO - transactions
2025-01-28 21:57:21,259 - services.DepositService - INFO - []
2025-01-28 21:57:21,259 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:57:50 MSK)" executed successfully
2025-01-28 21:57:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:57:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:58:04.529364+03:00 (in 13.617916 seconds)
2025-01-28 21:57:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:58:20 MSK)" (scheduled at 2025-01-28 21:57:50.909567+03:00)
2025-01-28 21:57:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:57:50,922 - services.DepositService - INFO - wallet
2025-01-28 21:57:50,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:57:51,164 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:57:51,165 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:57:51,165 - services.DepositService - INFO - transactions
2025-01-28 21:57:51,165 - services.DepositService - INFO - []
2025-01-28 21:57:51,165 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:58:20 MSK)" executed successfully
2025-01-28 21:58:04,530 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:58:04,531 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:58:04,531 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:58:20.909567+03:00 (in 16.377957 seconds)
2025-01-28 21:58:04,531 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:58:04 MSK], next run at: 2025-01-28 21:58:04 MSK)" (scheduled at 2025-01-28 21:58:04.529364+03:00)
2025-01-28 21:58:05,190 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:58:05,191 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:58:05,214 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:58:05,214 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:58:05,214 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:58:05,214 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:58:05,224 - services.BlockService - INFO - last completed block is 602149f2-9cdd-433f-9127-27e86435c69f (BlockStatus.COMPLETED)
2025-01-28 21:58:05,838 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:58:05,839 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:58:04 MSK], next run at: 2025-01-28 21:58:04 MSK)" executed successfully
2025-01-28 21:58:05,839 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:58:05,839 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:58:20.909567+03:00 (in 15.070295 seconds)
2025-01-28 21:58:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:58:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:58:50.909567+03:00 (in 29.998710 seconds)
2025-01-28 21:58:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:58:50 MSK)" (scheduled at 2025-01-28 21:58:20.909567+03:00)
2025-01-28 21:58:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:58:20,920 - services.DepositService - INFO - wallet
2025-01-28 21:58:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:58:21,159 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:58:21,160 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:58:21,160 - services.DepositService - INFO - transactions
2025-01-28 21:58:21,161 - services.DepositService - INFO - []
2025-01-28 21:58:21,161 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:58:50 MSK)" executed successfully
2025-01-28 21:58:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:58:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:59:20.909567+03:00 (in 29.999140 seconds)
2025-01-28 21:58:50,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:59:20 MSK)" (scheduled at 2025-01-28 21:58:50.909567+03:00)
2025-01-28 21:58:50,910 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:58:50,921 - services.DepositService - INFO - wallet
2025-01-28 21:58:50,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:58:51,109 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:58:51,110 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:58:51,110 - services.DepositService - INFO - transactions
2025-01-28 21:58:51,110 - services.DepositService - INFO - []
2025-01-28 21:58:51,110 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:59:20 MSK)" executed successfully
2025-01-28 21:59:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:59:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:59:35.838655+03:00 (in 14.927014 seconds)
2025-01-28 21:59:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:59:50 MSK)" (scheduled at 2025-01-28 21:59:20.909567+03:00)
2025-01-28 21:59:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:59:20,921 - services.DepositService - INFO - wallet
2025-01-28 21:59:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:59:21,149 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:59:21,150 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:59:21,150 - services.DepositService - INFO - transactions
2025-01-28 21:59:21,151 - services.DepositService - INFO - []
2025-01-28 21:59:21,151 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 21:59:50 MSK)" executed successfully
2025-01-28 21:59:35,840 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:59:35,840 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 21:59:35,840 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:59:50.909567+03:00 (in 15.068632 seconds)
2025-01-28 21:59:35,841 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:59:35 MSK], next run at: 2025-01-28 21:59:35 MSK)" (scheduled at 2025-01-28 21:59:35.838655+03:00)
2025-01-28 21:59:36,704 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:59:36,705 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:59:36,730 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 21:59:36,730 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 21:59:36,731 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 21:59:36,731 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 21:59:36,743 - services.BlockService - INFO - last completed block is d9362208-31e4-4e55-969d-08e472d91580 (BlockStatus.COMPLETED)
2025-01-28 21:59:37,399 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 21:59:37,399 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 21:59:35 MSK], next run at: 2025-01-28 21:59:35 MSK)" executed successfully
2025-01-28 21:59:37,399 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:59:37,399 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 21:59:50.909567+03:00 (in 13.509929 seconds)
2025-01-28 21:59:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 21:59:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:00:20.909567+03:00 (in 29.998150 seconds)
2025-01-28 21:59:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:00:20 MSK)" (scheduled at 2025-01-28 21:59:50.909567+03:00)
2025-01-28 21:59:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 21:59:50,921 - services.DepositService - INFO - wallet
2025-01-28 21:59:50,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 21:59:51,182 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 21:59:51,184 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 21:59:51,184 - services.DepositService - INFO - transactions
2025-01-28 21:59:51,184 - services.DepositService - INFO - []
2025-01-28 21:59:51,184 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:00:20 MSK)" executed successfully
2025-01-28 22:00:20,912 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:00:20,913 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:00:50.909567+03:00 (in 29.996122 seconds)
2025-01-28 22:00:20,913 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:00:50 MSK)" (scheduled at 2025-01-28 22:00:20.909567+03:00)
2025-01-28 22:00:20,913 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:00:20,925 - services.DepositService - INFO - wallet
2025-01-28 22:00:20,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:00:21,163 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:00:21,165 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:00:21,165 - services.DepositService - INFO - transactions
2025-01-28 22:00:21,166 - services.DepositService - INFO - []
2025-01-28 22:00:21,166 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:00:50 MSK)" executed successfully
2025-01-28 22:00:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:00:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:01:07.398926+03:00 (in 16.487377 seconds)
2025-01-28 22:00:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:01:20 MSK)" (scheduled at 2025-01-28 22:00:50.909567+03:00)
2025-01-28 22:00:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:00:50,924 - services.DepositService - INFO - wallet
2025-01-28 22:00:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:00:51,173 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:00:51,174 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:00:51,174 - services.DepositService - INFO - transactions
2025-01-28 22:00:51,174 - services.DepositService - INFO - []
2025-01-28 22:00:51,174 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:01:20 MSK)" executed successfully
2025-01-28 22:01:07,399 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:01:07,400 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:01:07,400 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:01:20.909567+03:00 (in 13.508941 seconds)
2025-01-28 22:01:07,400 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:01:07 MSK], next run at: 2025-01-28 22:01:07 MSK)" (scheduled at 2025-01-28 22:01:07.398926+03:00)
2025-01-28 22:01:08,392 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:01:08,393 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:01:08,416 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:01:08,417 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:01:08,417 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:01:08,417 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:01:08,428 - services.BlockService - INFO - last completed block is 8c0842db-2b8c-4a1c-9fe2-3a4a79a1d7be (BlockStatus.COMPLETED)
2025-01-28 22:01:09,117 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:01:09,118 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:01:07 MSK], next run at: 2025-01-28 22:01:07 MSK)" executed successfully
2025-01-28 22:01:09,119 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:01:09,119 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:01:20.909567+03:00 (in 11.790083 seconds)
2025-01-28 22:01:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:01:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:01:50.909567+03:00 (in 29.998599 seconds)
2025-01-28 22:01:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:01:50 MSK)" (scheduled at 2025-01-28 22:01:20.909567+03:00)
2025-01-28 22:01:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:01:20,920 - services.DepositService - INFO - wallet
2025-01-28 22:01:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:01:21,865 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:01:21,866 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:01:21,866 - services.DepositService - INFO - transactions
2025-01-28 22:01:21,866 - services.DepositService - INFO - []
2025-01-28 22:01:21,866 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:01:50 MSK)" executed successfully
2025-01-28 22:01:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:01:50,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:02:20.909567+03:00 (in 29.997588 seconds)
2025-01-28 22:01:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:02:20 MSK)" (scheduled at 2025-01-28 22:01:50.909567+03:00)
2025-01-28 22:01:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:01:50,924 - services.DepositService - INFO - wallet
2025-01-28 22:01:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:01:51,509 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:01:51,510 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:01:51,510 - services.DepositService - INFO - transactions
2025-01-28 22:01:51,510 - services.DepositService - INFO - []
2025-01-28 22:01:51,511 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:02:20 MSK)" executed successfully
INFO:     172.18.0.6:37608 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37616 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:02:18,196 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:02:18,197 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37620 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:02:18,209 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:02:18,210 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37630 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37640 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:02:18,227 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:02:18,227 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37650 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:02:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:02:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:02:39.117117+03:00 (in 18.205712 seconds)
2025-01-28 22:02:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:02:50 MSK)" (scheduled at 2025-01-28 22:02:20.909567+03:00)
2025-01-28 22:02:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:02:20,923 - services.DepositService - INFO - wallet
2025-01-28 22:02:20,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:02:21,197 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:02:21,198 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:02:21,198 - services.DepositService - INFO - transactions
2025-01-28 22:02:21,198 - services.DepositService - INFO - []
2025-01-28 22:02:21,198 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:02:50 MSK)" executed successfully
INFO:     172.18.0.6:37662 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37676 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:02:24,042 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:02:24,042 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37688 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:02:24,046 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:02:24,047 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37694 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37708 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:02:24,071 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:02:24,071 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37724 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37728 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37734 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:02:25,050 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:02:25,050 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37748 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:02:25,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:02:25,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37750 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37764 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:02:25,077 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:02:25,077 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37766 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34588 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:34604 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:02:31,046 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:02:31,046 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34616 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:02:31,050 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:02:31,051 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34622 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34634 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:02:31,072 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:02:31,072 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34644 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:02:39,118 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:02:39,119 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:02:39,119 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:02:50.909567+03:00 (in 11.790040 seconds)
2025-01-28 22:02:39,119 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:02:39 MSK], next run at: 2025-01-28 22:02:39 MSK)" (scheduled at 2025-01-28 22:02:39.117117+03:00)
2025-01-28 22:02:39,958 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:02:39,958 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:02:39,978 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:02:39,979 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:02:39,979 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:02:39,979 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:02:39,988 - services.BlockService - INFO - last completed block is bbd0f037-29a2-4e3d-a1ef-655fab599bff (BlockStatus.COMPLETED)
2025-01-28 22:02:40,704 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:02:40,704 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:02:39 MSK], next run at: 2025-01-28 22:02:39 MSK)" executed successfully
2025-01-28 22:02:40,704 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:02:40,704 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:02:50.909567+03:00 (in 10.204745 seconds)
2025-01-28 22:02:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:02:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:03:20.909567+03:00 (in 29.998767 seconds)
2025-01-28 22:02:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:03:20 MSK)" (scheduled at 2025-01-28 22:02:50.909567+03:00)
2025-01-28 22:02:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:02:50,917 - services.DepositService - INFO - wallet
2025-01-28 22:02:50,918 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:02:51,230 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:02:51,231 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:02:51,231 - services.DepositService - INFO - transactions
2025-01-28 22:02:51,231 - services.DepositService - INFO - []
2025-01-28 22:02:51,232 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:03:20 MSK)" executed successfully
2025-01-28 22:03:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:03:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:03:50.909567+03:00 (in 29.998138 seconds)
2025-01-28 22:03:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:03:50 MSK)" (scheduled at 2025-01-28 22:03:20.909567+03:00)
2025-01-28 22:03:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:03:20,926 - services.DepositService - INFO - wallet
2025-01-28 22:03:20,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:03:21,129 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:03:21,131 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:03:21,131 - services.DepositService - INFO - transactions
2025-01-28 22:03:21,131 - services.DepositService - INFO - []
2025-01-28 22:03:21,131 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:03:50 MSK)" executed successfully
2025-01-28 22:03:50,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:03:50,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:04:10.703978+03:00 (in 19.791696 seconds)
2025-01-28 22:03:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:04:20 MSK)" (scheduled at 2025-01-28 22:03:50.909567+03:00)
2025-01-28 22:03:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:03:50,924 - services.DepositService - INFO - wallet
2025-01-28 22:03:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:03:51,821 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:03:51,822 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:03:51,823 - services.DepositService - INFO - transactions
2025-01-28 22:03:51,823 - services.DepositService - INFO - []
2025-01-28 22:03:51,823 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:04:20 MSK)" executed successfully
2025-01-28 22:04:10,705 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:04:10,706 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:04:10,706 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:04:20.909567+03:00 (in 10.203383 seconds)
2025-01-28 22:04:10,706 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:04:10 MSK], next run at: 2025-01-28 22:04:10 MSK)" (scheduled at 2025-01-28 22:04:10.703978+03:00)
2025-01-28 22:04:11,616 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:04:11,617 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:04:11,642 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:04:11,642 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:04:11,642 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:04:11,643 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:04:11,654 - services.BlockService - INFO - last completed block is 6acc024e-c629-45da-ae34-7cbe731ee627 (BlockStatus.COMPLETED)
2025-01-28 22:04:12,519 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:04:12,520 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:04:10 MSK], next run at: 2025-01-28 22:04:10 MSK)" executed successfully
2025-01-28 22:04:12,520 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:04:12,520 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:04:20.909567+03:00 (in 8.389198 seconds)
2025-01-28 22:04:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:04:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:04:50.909567+03:00 (in 29.998145 seconds)
2025-01-28 22:04:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:04:50 MSK)" (scheduled at 2025-01-28 22:04:20.909567+03:00)
2025-01-28 22:04:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:04:20,918 - services.DepositService - INFO - wallet
2025-01-28 22:04:20,918 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:04:21,163 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:04:21,164 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:04:21,164 - services.DepositService - INFO - transactions
2025-01-28 22:04:21,164 - services.DepositService - INFO - []
2025-01-28 22:04:21,164 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:04:50 MSK)" executed successfully
2025-01-28 22:04:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:04:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:05:20.909567+03:00 (in 29.998091 seconds)
2025-01-28 22:04:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:05:20 MSK)" (scheduled at 2025-01-28 22:04:50.909567+03:00)
2025-01-28 22:04:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:04:50,922 - services.DepositService - INFO - wallet
2025-01-28 22:04:50,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:04:51,182 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:04:51,183 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:04:51,183 - services.DepositService - INFO - transactions
2025-01-28 22:04:51,183 - services.DepositService - INFO - []
2025-01-28 22:04:51,184 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:05:20 MSK)" executed successfully
2025-01-28 22:05:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:05:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:05:42.519530+03:00 (in 21.608133 seconds)
2025-01-28 22:05:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:05:50 MSK)" (scheduled at 2025-01-28 22:05:20.909567+03:00)
2025-01-28 22:05:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:05:20,922 - services.DepositService - INFO - wallet
2025-01-28 22:05:20,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:05:21,147 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:05:21,148 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:05:21,148 - services.DepositService - INFO - transactions
2025-01-28 22:05:21,148 - services.DepositService - INFO - []
2025-01-28 22:05:21,148 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:05:50 MSK)" executed successfully
2025-01-28 22:05:42,520 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:05:42,521 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:05:42,521 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:05:50.909567+03:00 (in 8.388269 seconds)
2025-01-28 22:05:42,521 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:05:42 MSK], next run at: 2025-01-28 22:05:42 MSK)" (scheduled at 2025-01-28 22:05:42.519530+03:00)
2025-01-28 22:05:43,355 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:05:43,355 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:05:43,375 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:05:43,375 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:05:43,375 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:05:43,376 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:05:43,386 - services.BlockService - INFO - last completed block is ea9cf5d4-0971-4bba-b11c-c5d27a73a89b (BlockStatus.COMPLETED)
2025-01-28 22:05:44,058 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:05:44,058 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:05:42 MSK], next run at: 2025-01-28 22:05:42 MSK)" executed successfully
2025-01-28 22:05:44,058 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:05:44,058 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:05:50.909567+03:00 (in 6.851071 seconds)
2025-01-28 22:05:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:05:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:06:20.909567+03:00 (in 29.998758 seconds)
2025-01-28 22:05:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:06:20 MSK)" (scheduled at 2025-01-28 22:05:50.909567+03:00)
2025-01-28 22:05:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:05:50,918 - services.DepositService - INFO - wallet
2025-01-28 22:05:50,918 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:05:51,152 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:05:51,153 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:05:51,154 - services.DepositService - INFO - transactions
2025-01-28 22:05:51,154 - services.DepositService - INFO - []
2025-01-28 22:05:51,154 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:06:20 MSK)" executed successfully
2025-01-28 22:06:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:06:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:06:50.909567+03:00 (in 29.998093 seconds)
2025-01-28 22:06:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:06:50 MSK)" (scheduled at 2025-01-28 22:06:20.909567+03:00)
2025-01-28 22:06:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:06:20,922 - services.DepositService - INFO - wallet
2025-01-28 22:06:20,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:06:21,191 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:06:21,192 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:06:21,193 - services.DepositService - INFO - transactions
2025-01-28 22:06:21,193 - services.DepositService - INFO - []
2025-01-28 22:06:21,193 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:06:50 MSK)" executed successfully
2025-01-28 22:06:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:06:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:07:14.057765+03:00 (in 23.145908 seconds)
2025-01-28 22:06:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:07:20 MSK)" (scheduled at 2025-01-28 22:06:50.909567+03:00)
2025-01-28 22:06:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:06:50,925 - services.DepositService - INFO - wallet
2025-01-28 22:06:50,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:06:51,218 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:06:51,220 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:06:51,220 - services.DepositService - INFO - transactions
2025-01-28 22:06:51,220 - services.DepositService - INFO - []
2025-01-28 22:06:51,220 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:07:20 MSK)" executed successfully
2025-01-28 22:07:14,062 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:07:14,062 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:07:14,062 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:07:20.909567+03:00 (in 6.846637 seconds)
2025-01-28 22:07:14,063 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:07:14 MSK], next run at: 2025-01-28 22:07:14 MSK)" (scheduled at 2025-01-28 22:07:14.057765+03:00)
2025-01-28 22:07:14,835 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:07:14,835 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:07:14,859 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:07:14,859 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:07:14,860 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:07:14,860 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:07:14,870 - services.BlockService - INFO - last completed block is 51ab2ebe-30a3-44a1-b7ca-13c87e7f8c17 (BlockStatus.COMPLETED)
2025-01-28 22:07:15,525 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:07:15,525 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:07:14 MSK], next run at: 2025-01-28 22:07:14 MSK)" executed successfully
2025-01-28 22:07:15,525 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:07:15,526 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:07:20.909567+03:00 (in 5.383371 seconds)
2025-01-28 22:07:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:07:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:07:50.909567+03:00 (in 29.999087 seconds)
2025-01-28 22:07:20,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:07:50 MSK)" (scheduled at 2025-01-28 22:07:20.909567+03:00)
2025-01-28 22:07:20,910 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:07:20,917 - services.DepositService - INFO - wallet
2025-01-28 22:07:20,917 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:07:21,104 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:07:21,105 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:07:21,105 - services.DepositService - INFO - transactions
2025-01-28 22:07:21,105 - services.DepositService - INFO - []
2025-01-28 22:07:21,105 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:07:50 MSK)" executed successfully
2025-01-28 22:07:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:07:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:08:20.909567+03:00 (in 29.998080 seconds)
2025-01-28 22:07:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:08:20 MSK)" (scheduled at 2025-01-28 22:07:50.909567+03:00)
2025-01-28 22:07:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:07:50,922 - services.DepositService - INFO - wallet
2025-01-28 22:07:50,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:07:52,060 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:07:52,062 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:07:52,062 - services.DepositService - INFO - transactions
2025-01-28 22:07:52,062 - services.DepositService - INFO - []
2025-01-28 22:07:52,062 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:08:20 MSK)" executed successfully
2025-01-28 22:08:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:08:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:08:45.525088+03:00 (in 24.614344 seconds)
2025-01-28 22:08:20,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:08:50 MSK)" (scheduled at 2025-01-28 22:08:20.909567+03:00)
2025-01-28 22:08:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:08:20,921 - services.DepositService - INFO - wallet
2025-01-28 22:08:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:08:21,119 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:08:21,120 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:08:21,120 - services.DepositService - INFO - transactions
2025-01-28 22:08:21,120 - services.DepositService - INFO - []
2025-01-28 22:08:21,120 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:08:50 MSK)" executed successfully
2025-01-28 22:08:45,526 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:08:45,527 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:08:45,527 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:08:50.909567+03:00 (in 5.382157 seconds)
2025-01-28 22:08:45,527 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:08:45 MSK], next run at: 2025-01-28 22:08:45 MSK)" (scheduled at 2025-01-28 22:08:45.525088+03:00)
2025-01-28 22:08:46,357 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:08:46,357 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:08:46,388 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:08:46,388 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:08:46,388 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:08:46,388 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:08:46,399 - services.BlockService - INFO - last completed block is f5d90a0a-a87a-451a-af7c-f6925d1eea62 (BlockStatus.COMPLETED)
2025-01-28 22:08:47,012 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:08:47,012 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:08:45 MSK], next run at: 2025-01-28 22:08:45 MSK)" executed successfully
2025-01-28 22:08:47,012 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:08:47,012 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:08:50.909567+03:00 (in 3.896753 seconds)
2025-01-28 22:08:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:08:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:09:20.909567+03:00 (in 29.998262 seconds)
2025-01-28 22:08:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:09:20 MSK)" (scheduled at 2025-01-28 22:08:50.909567+03:00)
2025-01-28 22:08:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:08:50,918 - services.DepositService - INFO - wallet
2025-01-28 22:08:50,918 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:08:51,167 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:08:51,168 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:08:51,168 - services.DepositService - INFO - transactions
2025-01-28 22:08:51,168 - services.DepositService - INFO - []
2025-01-28 22:08:51,168 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:09:20 MSK)" executed successfully
2025-01-28 22:09:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:09:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:09:50.909567+03:00 (in 29.998591 seconds)
2025-01-28 22:09:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:09:50 MSK)" (scheduled at 2025-01-28 22:09:20.909567+03:00)
2025-01-28 22:09:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:09:20,920 - services.DepositService - INFO - wallet
2025-01-28 22:09:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:09:21,153 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:09:21,154 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:09:21,155 - services.DepositService - INFO - transactions
2025-01-28 22:09:21,155 - services.DepositService - INFO - []
2025-01-28 22:09:21,155 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:09:50 MSK)" executed successfully
2025-01-28 22:09:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:09:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:10:17.012100+03:00 (in 26.100656 seconds)
2025-01-28 22:09:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:10:20 MSK)" (scheduled at 2025-01-28 22:09:50.909567+03:00)
2025-01-28 22:09:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:09:50,923 - services.DepositService - INFO - wallet
2025-01-28 22:09:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:09:51,167 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:09:51,168 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:09:51,168 - services.DepositService - INFO - transactions
2025-01-28 22:09:51,169 - services.DepositService - INFO - []
2025-01-28 22:09:51,169 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:10:20 MSK)" executed successfully
2025-01-28 22:10:17,014 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:10:17,014 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:10:17,014 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:10:20.909567+03:00 (in 3.894771 seconds)
2025-01-28 22:10:17,014 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:10:17 MSK], next run at: 2025-01-28 22:10:17 MSK)" (scheduled at 2025-01-28 22:10:17.012100+03:00)
2025-01-28 22:10:17,864 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:10:17,864 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:10:17,885 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:10:17,885 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:10:17,885 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:10:17,885 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:10:17,895 - services.BlockService - INFO - last completed block is f677480e-29d8-4e8f-8d62-8058753e5818 (BlockStatus.COMPLETED)
2025-01-28 22:10:18,698 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:10:18,699 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:10:17 MSK], next run at: 2025-01-28 22:10:17 MSK)" executed successfully
2025-01-28 22:10:18,699 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:10:18,699 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:10:20.909567+03:00 (in 2.210142 seconds)
2025-01-28 22:10:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:10:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:10:50.909567+03:00 (in 29.998316 seconds)
2025-01-28 22:10:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:10:50 MSK)" (scheduled at 2025-01-28 22:10:20.909567+03:00)
2025-01-28 22:10:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:10:20,918 - services.DepositService - INFO - wallet
2025-01-28 22:10:20,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:10:21,155 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:10:21,156 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:10:21,156 - services.DepositService - INFO - transactions
2025-01-28 22:10:21,156 - services.DepositService - INFO - []
2025-01-28 22:10:21,156 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:10:50 MSK)" executed successfully
2025-01-28 22:10:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:10:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:11:20.909567+03:00 (in 29.997982 seconds)
2025-01-28 22:10:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:11:20 MSK)" (scheduled at 2025-01-28 22:10:50.909567+03:00)
2025-01-28 22:10:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:10:50,924 - services.DepositService - INFO - wallet
2025-01-28 22:10:50,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:10:51,159 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:10:51,160 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:10:51,160 - services.DepositService - INFO - transactions
2025-01-28 22:10:51,160 - services.DepositService - INFO - []
2025-01-28 22:10:51,160 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:11:20 MSK)" executed successfully
2025-01-28 22:11:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:11:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:11:48.698627+03:00 (in 27.786862 seconds)
2025-01-28 22:11:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:11:50 MSK)" (scheduled at 2025-01-28 22:11:20.909567+03:00)
2025-01-28 22:11:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:11:20,926 - services.DepositService - INFO - wallet
2025-01-28 22:11:20,926 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:11:21,216 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:11:21,217 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:11:21,218 - services.DepositService - INFO - transactions
2025-01-28 22:11:21,218 - services.DepositService - INFO - []
2025-01-28 22:11:21,218 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:11:50 MSK)" executed successfully
2025-01-28 22:11:48,699 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:11:48,700 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:11:48,700 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:11:50.909567+03:00 (in 2.208823 seconds)
2025-01-28 22:11:48,701 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:11:48 MSK], next run at: 2025-01-28 22:11:48 MSK)" (scheduled at 2025-01-28 22:11:48.698627+03:00)
2025-01-28 22:11:49,321 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:11:49,321 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:11:49,340 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:11:49,341 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:11:49,341 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:11:49,341 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:11:49,350 - services.BlockService - INFO - last completed block is 9c072354-182a-4ef7-a1f3-f69dc8ef0d95 (BlockStatus.COMPLETED)
2025-01-28 22:11:50,070 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:11:50,070 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:11:48 MSK], next run at: 2025-01-28 22:11:48 MSK)" executed successfully
2025-01-28 22:11:50,071 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:11:50,071 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:11:50.909567+03:00 (in 0.838464 seconds)
2025-01-28 22:11:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:11:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:12:20.909567+03:00 (in 29.998506 seconds)
2025-01-28 22:11:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:12:20 MSK)" (scheduled at 2025-01-28 22:11:50.909567+03:00)
2025-01-28 22:11:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:11:50,918 - services.DepositService - INFO - wallet
2025-01-28 22:11:50,918 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:11:51,168 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:11:51,169 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:11:51,169 - services.DepositService - INFO - transactions
2025-01-28 22:11:51,169 - services.DepositService - INFO - []
2025-01-28 22:11:51,169 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:12:20 MSK)" executed successfully
2025-01-28 22:12:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:12:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:12:50.909567+03:00 (in 29.998719 seconds)
2025-01-28 22:12:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:12:50 MSK)" (scheduled at 2025-01-28 22:12:20.909567+03:00)
2025-01-28 22:12:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:12:20,920 - services.DepositService - INFO - wallet
2025-01-28 22:12:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:12:21,161 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:12:21,161 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:12:21,162 - services.DepositService - INFO - transactions
2025-01-28 22:12:21,162 - services.DepositService - INFO - []
2025-01-28 22:12:21,162 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:12:50 MSK)" executed successfully
INFO:     172.18.0.6:38658 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:38670 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:12:40,816 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:12:40,816 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38686 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:12:40,825 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:12:40,826 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38698 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38700 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:12:40,846 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:12:40,846 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38708 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38716 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:38722 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:12:45,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:12:45,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38730 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:12:45,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:12:45,075 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38736 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38746 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:12:45,108 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:12:45,108 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38758 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:12:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:12:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:13:20.070355+03:00 (in 29.158975 seconds)
2025-01-28 22:12:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:13:20 MSK)" (scheduled at 2025-01-28 22:12:50.909567+03:00)
2025-01-28 22:12:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:12:50,919 - services.DepositService - INFO - wallet
2025-01-28 22:12:50,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
INFO:     172.18.0.6:44216 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:44228 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:12:51,088 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:12:51,088 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44244 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:12:51,092 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:12:51,092 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:44256 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44258 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:12:51,135 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:12:51,135 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:44272 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:12:51,190 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:12:51,191 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:12:51,191 - services.DepositService - INFO - transactions
2025-01-28 22:12:51,191 - services.DepositService - INFO - []
2025-01-28 22:12:51,191 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:13:20 MSK)" executed successfully
2025-01-28 22:13:20,071 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:13:20,072 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:13:20,072 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:13:20.909567+03:00 (in 0.837339 seconds)
2025-01-28 22:13:20,072 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:13:20 MSK], next run at: 2025-01-28 22:13:20 MSK)" (scheduled at 2025-01-28 22:13:20.070355+03:00)
2025-01-28 22:13:20,736 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:13:20,736 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:13:20,755 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:13:20,755 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:13:20,755 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:13:20,755 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:13:20,764 - services.BlockService - INFO - last completed block is 9662ba11-f9c9-406f-8154-d230a4325cfb (BlockStatus.COMPLETED)
2025-01-28 22:13:20,926 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:13:20,926 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:13:50.909567+03:00 (in 29.982731 seconds)
2025-01-28 22:13:20,939 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:13:50 MSK)" (scheduled at 2025-01-28 22:13:20.909567+03:00)
2025-01-28 22:13:20,940 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:13:21,418 - services.DepositService - INFO - wallet
2025-01-28 22:13:21,420 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:13:21,505 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:13:21,505 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:13:20 MSK], next run at: 2025-01-28 22:13:20 MSK)" executed successfully
2025-01-28 22:13:21,505 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:13:21,505 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:13:50.909567+03:00 (in 29.404210 seconds)
2025-01-28 22:13:22,264 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:13:22,265 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:13:22,266 - services.DepositService - INFO - transactions
2025-01-28 22:13:22,266 - services.DepositService - INFO - []
2025-01-28 22:13:22,266 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:13:50 MSK)" executed successfully
2025-01-28 22:13:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:13:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:14:20.909567+03:00 (in 29.998805 seconds)
2025-01-28 22:13:50,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:14:20 MSK)" (scheduled at 2025-01-28 22:13:50.909567+03:00)
2025-01-28 22:13:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:13:50,919 - services.DepositService - INFO - wallet
2025-01-28 22:13:50,919 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:13:51,801 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:13:51,802 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:13:51,802 - services.DepositService - INFO - transactions
2025-01-28 22:13:51,802 - services.DepositService - INFO - []
2025-01-28 22:13:51,802 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:14:20 MSK)" executed successfully
2025-01-28 22:14:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:14:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:14:50.909567+03:00 (in 29.997926 seconds)
2025-01-28 22:14:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:14:50 MSK)" (scheduled at 2025-01-28 22:14:20.909567+03:00)
2025-01-28 22:14:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:14:20,921 - services.DepositService - INFO - wallet
2025-01-28 22:14:20,921 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:14:21,111 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:14:21,112 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:14:21,112 - services.DepositService - INFO - transactions
2025-01-28 22:14:21,112 - services.DepositService - INFO - []
2025-01-28 22:14:21,112 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:14:50 MSK)" executed successfully
2025-01-28 22:14:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:14:50,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:14:51.504794+03:00 (in 0.594228 seconds)
2025-01-28 22:14:50,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:15:20 MSK)" (scheduled at 2025-01-28 22:14:50.909567+03:00)
2025-01-28 22:14:50,910 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:14:50,922 - services.DepositService - INFO - wallet
2025-01-28 22:14:50,922 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:14:51,171 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:14:51,172 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:14:51,172 - services.DepositService - INFO - transactions
2025-01-28 22:14:51,172 - services.DepositService - INFO - []
2025-01-28 22:14:51,172 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:15:20 MSK)" executed successfully
2025-01-28 22:14:51,505 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:14:51,505 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:14:51,505 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:15:20.909567+03:00 (in 29.403738 seconds)
2025-01-28 22:14:51,505 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:14:51 MSK], next run at: 2025-01-28 22:14:51 MSK)" (scheduled at 2025-01-28 22:14:51.504794+03:00)
2025-01-28 22:14:52,126 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:14:52,126 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:14:52,146 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:14:52,146 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:14:52,146 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:14:52,146 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:14:52,156 - services.BlockService - INFO - last completed block is 5097aee7-f89a-4417-ace6-b7b617542032 (BlockStatus.COMPLETED)
2025-01-28 22:14:52,932 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:14:52,933 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:14:51 MSK], next run at: 2025-01-28 22:14:51 MSK)" executed successfully
2025-01-28 22:14:52,933 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:14:52,933 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:15:20.909567+03:00 (in 27.976080 seconds)
2025-01-28 22:15:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:15:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:15:50.909567+03:00 (in 29.997747 seconds)
2025-01-28 22:15:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:15:50 MSK)" (scheduled at 2025-01-28 22:15:20.909567+03:00)
2025-01-28 22:15:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:15:20,924 - services.DepositService - INFO - wallet
2025-01-28 22:15:20,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:15:21,156 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:15:21,157 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:15:21,157 - services.DepositService - INFO - transactions
2025-01-28 22:15:21,157 - services.DepositService - INFO - []
2025-01-28 22:15:21,157 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:15:50 MSK)" executed successfully
2025-01-28 22:15:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:15:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:16:20.909567+03:00 (in 29.998412 seconds)
2025-01-28 22:15:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:16:20 MSK)" (scheduled at 2025-01-28 22:15:50.909567+03:00)
2025-01-28 22:15:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:15:50,920 - services.DepositService - INFO - wallet
2025-01-28 22:15:50,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:15:51,184 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:15:51,185 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:15:51,185 - services.DepositService - INFO - transactions
2025-01-28 22:15:51,186 - services.DepositService - INFO - []
2025-01-28 22:15:51,186 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:16:20 MSK)" executed successfully
2025-01-28 22:16:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:16:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:16:22.932637+03:00 (in 2.020891 seconds)
2025-01-28 22:16:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:16:50 MSK)" (scheduled at 2025-01-28 22:16:20.909567+03:00)
2025-01-28 22:16:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:16:20,924 - services.DepositService - INFO - wallet
2025-01-28 22:16:20,925 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:16:21,185 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:16:21,187 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:16:21,187 - services.DepositService - INFO - transactions
2025-01-28 22:16:21,187 - services.DepositService - INFO - []
2025-01-28 22:16:21,187 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:16:50 MSK)" executed successfully
2025-01-28 22:16:22,933 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:16:22,934 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:16:22,934 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:16:50.909567+03:00 (in 27.975239 seconds)
2025-01-28 22:16:22,934 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:16:22 MSK], next run at: 2025-01-28 22:16:22 MSK)" (scheduled at 2025-01-28 22:16:22.932637+03:00)
2025-01-28 22:16:23,796 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:16:23,796 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:16:23,818 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:16:23,819 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:16:23,819 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:16:23,819 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:16:23,829 - services.BlockService - INFO - last completed block is 43e7bb5f-71a1-4d6f-a2ba-96c7b2c658e4 (BlockStatus.COMPLETED)
2025-01-28 22:16:24,564 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:16:24,564 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:16:22 MSK], next run at: 2025-01-28 22:16:22 MSK)" executed successfully
2025-01-28 22:16:24,564 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:16:24,564 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:16:50.909567+03:00 (in 26.344624 seconds)
2025-01-28 22:16:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:16:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:17:20.909567+03:00 (in 29.998394 seconds)
2025-01-28 22:16:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:17:20 MSK)" (scheduled at 2025-01-28 22:16:50.909567+03:00)
2025-01-28 22:16:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:16:50,936 - services.DepositService - INFO - wallet
2025-01-28 22:16:50,936 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:16:51,184 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:16:51,185 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:16:51,185 - services.DepositService - INFO - transactions
2025-01-28 22:16:51,185 - services.DepositService - INFO - []
2025-01-28 22:16:51,185 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:17:20 MSK)" executed successfully
2025-01-28 22:17:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:17:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:17:50.909567+03:00 (in 29.998063 seconds)
2025-01-28 22:17:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:17:50 MSK)" (scheduled at 2025-01-28 22:17:20.909567+03:00)
2025-01-28 22:17:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:17:21,025 - services.DepositService - INFO - wallet
2025-01-28 22:17:21,025 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:17:21,248 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:17:21,249 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:17:21,250 - services.DepositService - INFO - transactions
2025-01-28 22:17:21,250 - services.DepositService - INFO - []
2025-01-28 22:17:21,250 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:17:50 MSK)" executed successfully
2025-01-28 22:17:50,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:17:50,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:17:54.564312+03:00 (in 3.651983 seconds)
2025-01-28 22:17:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:18:20 MSK)" (scheduled at 2025-01-28 22:17:50.909567+03:00)
2025-01-28 22:17:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:17:51,038 - services.DepositService - INFO - wallet
2025-01-28 22:17:51,038 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:17:51,232 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:17:51,233 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:17:51,233 - services.DepositService - INFO - transactions
2025-01-28 22:17:51,233 - services.DepositService - INFO - []
2025-01-28 22:17:51,233 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:18:20 MSK)" executed successfully
2025-01-28 22:17:54,565 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:17:54,565 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:17:54,565 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:18:20.909567+03:00 (in 26.343858 seconds)
2025-01-28 22:17:54,565 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:17:54 MSK], next run at: 2025-01-28 22:17:54 MSK)" (scheduled at 2025-01-28 22:17:54.564312+03:00)
2025-01-28 22:17:55,228 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:17:55,229 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:17:55,252 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:17:55,253 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:17:55,253 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:17:55,253 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:17:55,266 - services.BlockService - INFO - last completed block is 2ffda3b2-d93e-4d43-8713-f8fedb0a5e9c (BlockStatus.COMPLETED)
2025-01-28 22:17:55,983 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:17:55,983 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:17:54 MSK], next run at: 2025-01-28 22:17:54 MSK)" executed successfully
2025-01-28 22:17:55,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:17:55,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:18:20.909567+03:00 (in 24.925828 seconds)
2025-01-28 22:18:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:18:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:18:50.909567+03:00 (in 29.998025 seconds)
2025-01-28 22:18:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:18:50 MSK)" (scheduled at 2025-01-28 22:18:20.909567+03:00)
2025-01-28 22:18:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:18:20,922 - services.DepositService - INFO - wallet
2025-01-28 22:18:20,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:18:21,175 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:18:21,175 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:18:21,176 - services.DepositService - INFO - transactions
2025-01-28 22:18:21,176 - services.DepositService - INFO - []
2025-01-28 22:18:21,176 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:18:50 MSK)" executed successfully
2025-01-28 22:18:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:18:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:19:20.909567+03:00 (in 29.997859 seconds)
2025-01-28 22:18:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:19:20 MSK)" (scheduled at 2025-01-28 22:18:50.909567+03:00)
2025-01-28 22:18:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:18:50,923 - services.DepositService - INFO - wallet
2025-01-28 22:18:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:18:51,614 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:18:51,615 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:18:51,616 - services.DepositService - INFO - transactions
2025-01-28 22:18:51,616 - services.DepositService - INFO - []
2025-01-28 22:18:51,616 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:19:20 MSK)" executed successfully
2025-01-28 22:19:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:19:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:19:25.982912+03:00 (in 5.071950 seconds)
2025-01-28 22:19:20,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:19:50 MSK)" (scheduled at 2025-01-28 22:19:20.909567+03:00)
2025-01-28 22:19:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:19:20,920 - services.DepositService - INFO - wallet
2025-01-28 22:19:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:19:21,119 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:19:21,120 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:19:21,120 - services.DepositService - INFO - transactions
2025-01-28 22:19:21,120 - services.DepositService - INFO - []
2025-01-28 22:19:21,120 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:19:50 MSK)" executed successfully
2025-01-28 22:19:25,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:19:25,984 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:19:25,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:19:50.909567+03:00 (in 24.925337 seconds)
2025-01-28 22:19:25,984 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:19:25 MSK], next run at: 2025-01-28 22:19:25 MSK)" (scheduled at 2025-01-28 22:19:25.982912+03:00)
2025-01-28 22:19:26,770 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:19:26,770 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:19:26,793 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:19:26,794 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:19:26,794 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:19:26,794 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:19:26,805 - services.BlockService - INFO - last completed block is e3fe5f86-29d2-46e9-b1e6-2c2f0977f2a0 (BlockStatus.COMPLETED)
2025-01-28 22:19:27,641 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:19:27,641 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:19:25 MSK], next run at: 2025-01-28 22:19:25 MSK)" executed successfully
2025-01-28 22:19:27,641 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:19:27,641 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:19:50.909567+03:00 (in 23.267854 seconds)
2025-01-28 22:19:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:19:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:20:20.909567+03:00 (in 29.997622 seconds)
2025-01-28 22:19:50,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:20:20 MSK)" (scheduled at 2025-01-28 22:19:50.909567+03:00)
2025-01-28 22:19:50,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:19:50,923 - services.DepositService - INFO - wallet
2025-01-28 22:19:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:19:51,113 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:19:51,114 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:19:51,114 - services.DepositService - INFO - transactions
2025-01-28 22:19:51,114 - services.DepositService - INFO - []
2025-01-28 22:19:51,114 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:20:20 MSK)" executed successfully
2025-01-28 22:20:20,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:20:20,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:20:50.909567+03:00 (in 29.998865 seconds)
2025-01-28 22:20:20,910 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:20:50 MSK)" (scheduled at 2025-01-28 22:20:20.909567+03:00)
2025-01-28 22:20:20,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:20:20,920 - services.DepositService - INFO - wallet
2025-01-28 22:20:20,920 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:20:21,195 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:20:21,196 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:20:21,196 - services.DepositService - INFO - transactions
2025-01-28 22:20:21,196 - services.DepositService - INFO - []
2025-01-28 22:20:21,196 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:20:50 MSK)" executed successfully
INFO:     172.18.0.6:46644 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:46650 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:20:23,729 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:23,729 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46662 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:23,735 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:23,735 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46664 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46672 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:20:23,758 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:20:23,758 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46680 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34058 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:34066 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:20:29,050 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:29,050 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34072 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:29,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:29,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34088 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34092 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:20:29,073 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:20:29,074 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34094 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34102 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:34104 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:20:35,054 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:35,054 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34108 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:35,058 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:35,059 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:34110 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34112 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:20:35,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:20:35,082 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:34128 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54144 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:54152 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:20:41,050 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:41,051 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54162 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:41,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:41,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:54168 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54172 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:20:41,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:20:41,075 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:54184 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51542 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:51550 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:20:47,056 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:47,056 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51566 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:47,064 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:47,064 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
INFO:     172.18.0.6:51574 - "GET /chain/time HTTP/1.0" 401 Unauthorized
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51588 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:20:47,098 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:20:47,098 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51600 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:50,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:20:50,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:20:57.640871+03:00 (in 6.729762 seconds)
2025-01-28 22:20:50,911 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:21:20 MSK)" (scheduled at 2025-01-28 22:20:50.909567+03:00)
2025-01-28 22:20:50,911 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:20:50,923 - services.DepositService - INFO - wallet
2025-01-28 22:20:50,923 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:20:51,158 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:20:51,159 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:20:51,160 - services.DepositService - INFO - transactions
2025-01-28 22:20:51,160 - services.DepositService - INFO - []
2025-01-28 22:20:51,160 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:21:20 MSK)" executed successfully
INFO:     172.18.0.6:51610 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:51620 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:20:53,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:53,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51630 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:53,078 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:53,078 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51638 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51646 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:20:53,108 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:20:53,108 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51662 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:57,642 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:20:57,642 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:20:57,642 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:21:20.909567+03:00 (in 23.266977 seconds)
2025-01-28 22:20:57,642 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:20:57 MSK], next run at: 2025-01-28 22:20:57 MSK)" (scheduled at 2025-01-28 22:20:57.640871+03:00)
2025-01-28 22:20:58,270 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:20:58,270 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:20:58,292 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:20:58,292 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:20:58,292 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:20:58,292 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:20:58,301 - services.BlockService - INFO - last completed block is b1ff7ada-4f9d-478c-8f8b-25a43d5b441a (BlockStatus.COMPLETED)
INFO:     172.18.0.6:55476 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:55480 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:20:59,071 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:59,071 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55490 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:59,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:20:59,075 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55496 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:20:59,083 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:20:59,083 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:20:57 MSK], next run at: 2025-01-28 22:20:57 MSK)" executed successfully
2025-01-28 22:20:59,083 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:20:59,083 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:21:20.909567+03:00 (in 21.825928 seconds)
INFO:     172.18.0.6:55498 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:20:59,097 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:20:59,097 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55508 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55516 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:55526 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:21:05,415 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:21:05,415 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55530 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:21:05,428 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:21:05,429 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55536 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55542 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:21:05,819 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:21:05,819 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55552 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47536 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:47542 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:21:11,075 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:21:11,076 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47558 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:21:11,081 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:21:11,081 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:47570 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47576 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:21:11,133 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:21:11,133 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:47582 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38376 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:38378 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:21:17,050 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:21:17,050 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38386 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:21:17,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:21:17,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38392 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38394 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:21:17,077 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:21:17,078 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38408 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:21:20,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:21:20,911 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:21:50.909567+03:00 (in 29.997753 seconds)
2025-01-28 22:21:20,912 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:21:50 MSK)" (scheduled at 2025-01-28 22:21:20.909567+03:00)
2025-01-28 22:21:20,912 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:21:20,924 - services.DepositService - INFO - wallet
2025-01-28 22:21:20,924 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:21:21,156 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:21:21,157 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:21:21,157 - services.DepositService - INFO - transactions
2025-01-28 22:21:21,157 - services.DepositService - INFO - []
2025-01-28 22:21:21,157 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:21:50 MSK)" executed successfully
INFO:     172.18.0.6:38422 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:38438 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:21:23,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:21:23,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38442 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:21:23,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:21:23,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38454 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38470 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:21:23,150 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:21:23,150 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38478 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-01-28 22:21:24,935 - services.BlockService - INFO - begin handle_interrupted_block
2025-01-28 22:21:24,955 - services.BlockService - INFO - status=<BlockStatus.INTERRUPTED: 'interrupted'> result_vector=None completed_at=None
2025-01-28 22:21:24,965 - services.BlockService - INFO - Block(id=UUID('e3efe59c-7d44-4b44-b2c2-8ab3504fd5e4'), created_at=datetime.datetime(2025, 1, 28, 22, 20, 58, 301952), updated_at=datetime.datetime(2025, 1, 28, 22, 21, 24, 947125), block_number=12806, chain_id=UUID('d7cb3131-f0a7-4f43-8d19-e9524449d418'), status=<BlockStatus.INTERRUPTED: 'interrupted'>, completed_at=None, result_vector=None, bets=[])
2025-01-28 22:21:24,965 - main - INFO - chains stopped, exiting...
2025-01-28 22:21:24,966 - apscheduler.scheduler - INFO - Scheduler has been shut down
INFO:     Application shutdown complete.
INFO:     Finished server process [1]
INFO:     Started server process [1]
INFO:     Waiting for application startup.
2025-01-28 22:21:39,534 - ChainService - INFO - Начало генерации цепочек.
2025-01-28 22:21:41,699 - services.BlockService - INFO - begin handle_interrupted_block
2025-01-28 22:21:41,711 - services.BlockService - INFO - status=<BlockStatus.INTERRUPTED: 'interrupted'> result_vector=None completed_at=None
2025-01-28 22:21:41,738 - services.BlockService - INFO - Block(id=UUID('e3efe59c-7d44-4b44-b2c2-8ab3504fd5e4'), created_at=datetime.datetime(2025, 1, 28, 22, 20, 58, 301952), updated_at=datetime.datetime(2025, 1, 28, 22, 21, 24, 947125), block_number=12806, chain_id=UUID('d7cb3131-f0a7-4f43-8d19-e9524449d418'), status=<BlockStatus.INTERRUPTED: 'interrupted'>, completed_at=None, result_vector=None, bets=[])
2025-01-28 22:21:41,764 - services.BlockService - INFO - last completed block is b1ff7ada-4f9d-478c-8f8b-25a43d5b441a (BlockStatus.COMPLETED)
2025-01-28 22:21:41,807 - apscheduler.scheduler - INFO - Scheduler started
2025-01-28 22:21:41,808 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:21:41,808 - services.ChainService - INFO - start transaction check
2025-01-28 22:21:41,808 - apscheduler.scheduler - INFO - Added job "DepositService.check_users_transactions" to job store "default"
2025-01-28 22:21:41,808 - ChainService - INFO - Сервис генерации блоков запущен.
2025-01-28 22:21:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:21:41,809 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:22:11.808620+03:00 (in 29.999056 seconds)
2025-01-28 22:21:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:21:41,809 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:22:11.808620+03:00 (in 29.998693 seconds)
2025-01-28 22:21:41,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:21:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:22:11.808620+03:00 (in 29.998277 seconds)
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
2025-01-28 22:22:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:22:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:22:41.808620+03:00 (in 29.997983 seconds)
2025-01-28 22:22:11,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:22:41 MSK)" (scheduled at 2025-01-28 22:22:11.808620+03:00)
2025-01-28 22:22:11,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:22:11,845 - services.DepositService - INFO - wallet
2025-01-28 22:22:11,845 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:22:12,093 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:22:12,095 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:22:12,095 - services.DepositService - INFO - transactions
2025-01-28 22:22:12,096 - services.DepositService - INFO - []
2025-01-28 22:22:12,096 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:22:41 MSK)" executed successfully
2025-01-28 22:22:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:22:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:23:11.807677+03:00 (in 29.997077 seconds)
2025-01-28 22:22:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:23:11 MSK)" (scheduled at 2025-01-28 22:22:41.808620+03:00)
2025-01-28 22:22:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:22:41,821 - services.DepositService - INFO - wallet
2025-01-28 22:22:41,821 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:22:42,056 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:22:42,058 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:22:42,058 - services.DepositService - INFO - transactions
2025-01-28 22:22:42,058 - services.DepositService - INFO - []
2025-01-28 22:22:42,058 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:23:11 MSK)" executed successfully
INFO:     172.18.0.6:53530 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:53536 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53546 - "OPTIONS /user/info HTTP/1.0" 200 OK
INFO:     172.18.0.6:53550 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53556 - "OPTIONS /auth/payload HTTP/1.0" 200 OK
INFO:     172.18.0.6:53564 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:22:54,691 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:22:54,691 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53576 - "GET /user/info HTTP/1.0" 401 Unauthorized
2025-01-28 22:22:54,698 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:22:54,698 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53582 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:22:54,703 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:22:54,704 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53594 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:22:54,709 - routes.auth.tonconnect - ERROR - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkYWJhZWQ4Mi0yYjkxLTQ0MjUtOTM2ZC0zZjJjYjFjZmUzNzYiLCJleHAiOjE3MzgwOTI3NzQsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.SPNB9XjSdStAQFP7n4TN02L6IVM6rqlVh27VDOlJ5jM
INFO:     172.18.0.6:53602 - "GET /auth/payload HTTP/1.0" 200 OK
INFO:     172.18.0.6:53614 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:22:54,856 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:22:54,856 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53620 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37880 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:22:59,396 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:22:59,396 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37882 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37898 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:22:59,430 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:22:59,431 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37904 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37906 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:22:59,837 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:22:59,837 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37912 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37916 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37924 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:22:59,855 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:22:59,855 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37936 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:22:59,863 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:22:59,864 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:37942 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37946 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37958 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:37966 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:37976 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:23:05,604 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:05,605 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37978 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:05,609 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:05,609 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37988 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:05,620 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:05,620 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:37998 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:05,623 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:05,624 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:38004 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38008 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:38024 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:05,814 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:05,815 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38036 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:05,957 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:05,957 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:38048 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53800 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:23:10,960 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:10,961 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53814 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53830 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:53846 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:53850 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:23:11,208 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:11,208 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53862 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:11,216 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:11,217 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53872 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:11,412 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:11,413 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53876 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53884 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:11,507 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:11,507 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53896 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:23:11,810 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:23:11,811 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:23:41.808620+03:00 (in 29.997006 seconds)
2025-01-28 22:23:11,812 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:23:11 MSK], next run at: 2025-01-28 22:23:11 MSK)" (scheduled at 2025-01-28 22:23:11.807677+03:00)
2025-01-28 22:23:11,824 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:23:41 MSK)" (scheduled at 2025-01-28 22:23:11.808620+03:00)
2025-01-28 22:23:11,824 - services.DepositService - INFO - check_users_transactions
INFO:     172.18.0.6:53912 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:23:12,616 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:23:12,616 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:23:12,637 - services.DepositService - INFO - wallet
2025-01-28 22:23:12,637 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:23:12,724 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:23:12,724 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:23:12,724 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:23:12,725 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:23:12,737 - services.BlockService - INFO - last completed block is db89bc19-bb02-43ad-9776-24a9e2693d88 (BlockStatus.COMPLETED)
2025-01-28 22:23:12,743 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:12,743 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53920 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53932 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:13,108 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:23:13,648 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:23:13,648 - services.DepositService - INFO - transactions
2025-01-28 22:23:13,648 - services.DepositService - INFO - []
2025-01-28 22:23:13,648 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:23:41 MSK)" executed successfully
2025-01-28 22:23:13,659 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:13,659 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53936 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:13,693 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:23:13,693 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:23:11 MSK], next run at: 2025-01-28 22:23:11 MSK)" executed successfully
2025-01-28 22:23:13,693 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:23:13,694 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:23:41.808620+03:00 (in 28.114544 seconds)
INFO:     172.18.0.6:53944 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:53950 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:23:16,462 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:16,462 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53956 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:16,468 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:16,469 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:53962 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53974 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:16,486 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:16,486 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:53988 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45648 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:45658 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:23:22,015 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:22,015 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45668 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:22,027 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:22,027 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45678 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45688 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:22,047 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:22,047 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45692 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51738 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:51750 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:23:27,103 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:27,103 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51752 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:27,108 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:27,109 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51754 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51764 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:27,137 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:27,138 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51772 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51782 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:23:32,155 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:32,156 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51794 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51802 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:51804 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:32,177 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:32,177 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51814 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:32,183 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:32,184 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:51830 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41198 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:41200 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:23:37,223 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:37,223 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41210 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:37,228 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:37,228 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41226 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41242 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:37,243 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:37,244 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:41248 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:23:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:24:11.808620+03:00 (in 29.998118 seconds)
2025-01-28 22:23:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:24:11 MSK)" (scheduled at 2025-01-28 22:23:41.808620+03:00)
2025-01-28 22:23:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:23:41,824 - services.DepositService - INFO - wallet
2025-01-28 22:23:41,824 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:23:42,073 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:23:42,074 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:23:42,075 - services.DepositService - INFO - transactions
2025-01-28 22:23:42,075 - services.DepositService - INFO - []
2025-01-28 22:23:42,075 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:24:11 MSK)" executed successfully
INFO:     172.18.0.6:41250 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:41252 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:23:43,660 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:43,660 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41266 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:43,666 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:43,666 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:41278 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41290 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:43,691 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:43,692 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:41296 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45146 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:45156 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:23:49,063 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:49,063 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45166 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:49,069 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:49,069 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45180 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45194 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:49,087 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:49,087 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45210 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45226 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:45228 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:23:55,076 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:55,076 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45230 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:23:55,082 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:23:55,082 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:45242 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45252 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:23:55,100 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:23:55,101 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:45264 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55160 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:55168 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:24:01,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:01,068 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55170 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:01,074 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:01,074 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55172 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55184 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:01,094 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:01,094 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55190 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55204 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:55220 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:24:06,511 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:06,511 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55224 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:06,739 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:06,739 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60342 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60356 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:07,395 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:07,395 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60366 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:24:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:24:41.808620+03:00 (in 29.998399 seconds)
2025-01-28 22:24:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:24:41 MSK)" (scheduled at 2025-01-28 22:24:11.808620+03:00)
2025-01-28 22:24:11,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:24:11,823 - services.DepositService - INFO - wallet
2025-01-28 22:24:11,823 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:24:12,057 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:24:12,058 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:24:12,059 - services.DepositService - INFO - transactions
2025-01-28 22:24:12,059 - services.DepositService - INFO - []
2025-01-28 22:24:12,059 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:24:41 MSK)" executed successfully
INFO:     172.18.0.6:60380 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:60384 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:24:14,796 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:14,797 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60400 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:14,805 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:14,805 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:60404 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60418 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:15,550 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:15,550 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:60434 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55610 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:55622 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:24:21,068 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:21,069 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55638 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55642 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:21,116 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:21,117 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:55646 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:21,140 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:21,140 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:55660 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46570 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:46576 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:24:27,251 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:27,251 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46588 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:27,338 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:27,338 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46600 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46614 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:28,189 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:28,189 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46618 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46622 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:24:34,503 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:34,504 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46628 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46630 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:46640 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:34,907 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:34,908 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:46650 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:35,550 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:35,550 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:46660 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48248 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:24:41,633 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:41,634 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48254 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48266 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:48270 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:24:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:24:43.693158+03:00 (in 1.882648 seconds)
2025-01-28 22:24:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:25:11 MSK)" (scheduled at 2025-01-28 22:24:41.808620+03:00)
2025-01-28 22:24:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:24:41,820 - services.DepositService - INFO - wallet
2025-01-28 22:24:41,820 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:24:41,940 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:41,941 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:48286 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:42,059 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:24:42,060 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:24:42,061 - services.DepositService - INFO - transactions
2025-01-28 22:24:42,061 - services.DepositService - INFO - []
2025-01-28 22:24:42,061 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:25:11 MSK)" executed successfully
2025-01-28 22:24:42,428 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:42,429 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:48302 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:43,694 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:24:43,695 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:24:43,695 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:25:11.808620+03:00 (in 28.113481 seconds)
2025-01-28 22:24:43,695 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:24:43 MSK], next run at: 2025-01-28 22:24:43 MSK)" (scheduled at 2025-01-28 22:24:43.693158+03:00)
2025-01-28 22:24:44,329 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:24:44,329 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:24:44,351 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:24:44,351 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:24:44,351 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:24:44,351 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:24:44,364 - services.BlockService - INFO - last completed block is 3e8bcf4e-4a40-4037-8ecf-cc4c68fdbfb2 (BlockStatus.COMPLETED)
2025-01-28 22:24:45,106 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:24:45,106 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:24:43 MSK], next run at: 2025-01-28 22:24:43 MSK)" executed successfully
2025-01-28 22:24:45,107 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:24:45,107 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:25:11.808620+03:00 (in 26.701513 seconds)
INFO:     172.18.0.6:59480 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:59484 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 22:24:48,055 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
INFO:     172.18.0.6:59496 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:48,055 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
2025-01-28 22:24:48,061 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:48,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59498 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59514 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:48,100 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:48,100 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59524 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59530 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:59544 - "OPTIONS /pair HTTP/1.0" 200 OK
2025-01-28 22:24:54,060 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:54,061 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59552 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:24:54,066 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
2025-01-28 22:24:54,066 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5MzE5OTIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ._JnNURO47tgZoUZEYbuhQjCPVuhE7fSfU5Q8K-fQRWw
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:59564 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59576 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:24:54,128 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lJMFl6a3lPRFV4TlMxaFpHVXdMVFJtT0RndE9HRmlaUzB6T1RFMFpHWXhPVGhtWW1RaUxDSmxlSEFpT2pFM016YzVNVGsyTWpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLnlRaWYwM0N1MzFreEw3ekh6a1diX0Vnd0V5bGdJbEZRQ3RzLWZFaEtLdzAiLCJleHAiOjE3Mzc5Mzc4NzIsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.bFL9LR8ymHbfalJiwOYu7b0EU8dd-eagtZecUmjVAy4
2025-01-28 22:24:54,128 - routes.auth - INFO - Refresh token is expired
INFO:     172.18.0.6:59582 - "POST /auth/refresh HTTP/1.0" 401 Unauthorized
2025-01-28 22:25:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:25:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:25:41.808620+03:00 (in 29.997999 seconds)
2025-01-28 22:25:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:25:41 MSK)" (scheduled at 2025-01-28 22:25:11.808620+03:00)
2025-01-28 22:25:11,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:25:11,820 - services.DepositService - INFO - wallet
2025-01-28 22:25:11,820 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:25:12,062 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:25:12,064 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:25:12,064 - services.DepositService - INFO - transactions
2025-01-28 22:25:12,064 - services.DepositService - INFO - []
2025-01-28 22:25:12,064 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:25:41 MSK)" executed successfully
2025-01-28 22:25:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:25:41,809 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:26:11.808620+03:00 (in 29.998775 seconds)
2025-01-28 22:25:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:26:11 MSK)" (scheduled at 2025-01-28 22:25:41.808620+03:00)
2025-01-28 22:25:41,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:25:41,819 - services.DepositService - INFO - wallet
2025-01-28 22:25:41,819 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:25:42,011 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:25:42,012 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:25:42,012 - services.DepositService - INFO - transactions
2025-01-28 22:25:42,012 - services.DepositService - INFO - []
2025-01-28 22:25:42,012 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:26:11 MSK)" executed successfully
WARNING:  Invalid HTTP request received.
2025-01-28 22:26:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:26:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:26:15.106117+03:00 (in 3.295246 seconds)
2025-01-28 22:26:11,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:26:41 MSK)" (scheduled at 2025-01-28 22:26:11.808620+03:00)
2025-01-28 22:26:11,812 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:26:11,826 - services.DepositService - INFO - wallet
2025-01-28 22:26:11,826 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:26:12,153 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:26:12,154 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:26:12,155 - services.DepositService - INFO - transactions
2025-01-28 22:26:12,155 - services.DepositService - INFO - []
2025-01-28 22:26:12,155 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:26:41 MSK)" executed successfully
2025-01-28 22:26:15,107 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:26:15,107 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:26:15,107 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:26:41.808620+03:00 (in 26.701208 seconds)
2025-01-28 22:26:15,107 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:26:15 MSK], next run at: 2025-01-28 22:26:15 MSK)" (scheduled at 2025-01-28 22:26:15.106117+03:00)
2025-01-28 22:26:15,766 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:26:15,766 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:26:15,791 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:26:15,792 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:26:15,792 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:26:15,792 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:26:15,804 - services.BlockService - INFO - last completed block is 6dc95f0d-d039-45f0-8498-323157701078 (BlockStatus.COMPLETED)
2025-01-28 22:26:16,465 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:26:16,466 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:26:15 MSK], next run at: 2025-01-28 22:26:15 MSK)" executed successfully
2025-01-28 22:26:16,466 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:26:16,466 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:26:41.808620+03:00 (in 25.341945 seconds)
2025-01-28 22:26:41,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:26:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:27:11.808620+03:00 (in 29.997932 seconds)
2025-01-28 22:26:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:27:11 MSK)" (scheduled at 2025-01-28 22:26:41.808620+03:00)
2025-01-28 22:26:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:26:41,820 - services.DepositService - INFO - wallet
2025-01-28 22:26:41,820 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:26:42,054 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:26:42,056 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:26:42,056 - services.DepositService - INFO - transactions
2025-01-28 22:26:42,057 - services.DepositService - INFO - []
2025-01-28 22:26:42,057 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:27:11 MSK)" executed successfully
2025-01-28 22:27:11,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:27:11,811 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:27:41.808620+03:00 (in 29.997303 seconds)
2025-01-28 22:27:11,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:27:41 MSK)" (scheduled at 2025-01-28 22:27:11.808620+03:00)
2025-01-28 22:27:11,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:27:11,827 - services.DepositService - INFO - wallet
2025-01-28 22:27:11,827 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:27:12,083 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:27:12,084 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:27:12,085 - services.DepositService - INFO - transactions
2025-01-28 22:27:12,085 - services.DepositService - INFO - []
2025-01-28 22:27:12,085 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:27:41 MSK)" executed successfully
2025-01-28 22:27:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:27:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:27:46.465646+03:00 (in 4.654889 seconds)
2025-01-28 22:27:41,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:28:11 MSK)" (scheduled at 2025-01-28 22:27:41.808620+03:00)
2025-01-28 22:27:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:27:41,821 - services.DepositService - INFO - wallet
2025-01-28 22:27:41,821 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:27:42,099 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:27:42,100 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:27:42,100 - services.DepositService - INFO - transactions
2025-01-28 22:27:42,101 - services.DepositService - INFO - []
2025-01-28 22:27:42,101 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:28:11 MSK)" executed successfully
2025-01-28 22:27:46,466 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:27:46,466 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:27:46,467 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:28:11.808620+03:00 (in 25.341553 seconds)
2025-01-28 22:27:46,467 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:27:46 MSK], next run at: 2025-01-28 22:27:46 MSK)" (scheduled at 2025-01-28 22:27:46.465646+03:00)
2025-01-28 22:27:47,147 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:27:47,147 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:27:47,170 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:27:47,170 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:27:47,170 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:27:47,170 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:27:47,182 - services.BlockService - INFO - last completed block is 24d2add9-c21d-4ad7-bea7-aa931c511e50 (BlockStatus.COMPLETED)
2025-01-28 22:27:47,956 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:27:47,958 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:27:46 MSK], next run at: 2025-01-28 22:27:46 MSK)" executed successfully
2025-01-28 22:27:47,958 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:27:47,958 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:28:11.808620+03:00 (in 23.849889 seconds)
2025-01-28 22:28:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:28:11,809 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:28:41.808620+03:00 (in 29.999095 seconds)
2025-01-28 22:28:11,809 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:28:41 MSK)" (scheduled at 2025-01-28 22:28:11.808620+03:00)
2025-01-28 22:28:11,809 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:28:11,818 - services.DepositService - INFO - wallet
2025-01-28 22:28:11,818 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:28:12,053 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:28:12,054 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:28:12,054 - services.DepositService - INFO - transactions
2025-01-28 22:28:12,054 - services.DepositService - INFO - []
2025-01-28 22:28:12,054 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:28:41 MSK)" executed successfully
2025-01-28 22:28:41,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:28:41,811 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:29:11.808620+03:00 (in 29.997580 seconds)
2025-01-28 22:28:41,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:29:11 MSK)" (scheduled at 2025-01-28 22:28:41.808620+03:00)
2025-01-28 22:28:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:28:41,824 - services.DepositService - INFO - wallet
2025-01-28 22:28:41,824 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:28:42,065 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:28:42,067 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:28:42,068 - services.DepositService - INFO - transactions
2025-01-28 22:28:42,068 - services.DepositService - INFO - []
2025-01-28 22:28:42,068 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:29:11 MSK)" executed successfully
2025-01-28 22:29:11,811 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:29:11,811 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:29:17.956340+03:00 (in 6.144746 seconds)
2025-01-28 22:29:11,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:29:41 MSK)" (scheduled at 2025-01-28 22:29:11.808620+03:00)
2025-01-28 22:29:11,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:29:11,821 - services.DepositService - INFO - wallet
2025-01-28 22:29:11,822 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:29:12,040 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:29:12,041 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:29:12,042 - services.DepositService - INFO - transactions
2025-01-28 22:29:12,042 - services.DepositService - INFO - []
2025-01-28 22:29:12,042 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:29:41 MSK)" executed successfully
2025-01-28 22:29:17,957 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:29:17,957 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:29:17,957 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:29:41.808620+03:00 (in 23.850646 seconds)
2025-01-28 22:29:17,958 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:29:17 MSK], next run at: 2025-01-28 22:29:17 MSK)" (scheduled at 2025-01-28 22:29:17.956340+03:00)
2025-01-28 22:29:18,615 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:29:18,615 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:29:18,636 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:29:18,637 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:29:18,637 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:29:18,637 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:29:18,647 - services.BlockService - INFO - last completed block is 4ef0abe3-1d00-4e78-ab1e-e64c67b48b94 (BlockStatus.COMPLETED)
2025-01-28 22:29:19,491 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:29:19,492 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:29:17 MSK], next run at: 2025-01-28 22:29:17 MSK)" executed successfully
2025-01-28 22:29:19,492 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:29:19,492 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:29:41.808620+03:00 (in 22.316317 seconds)
2025-01-28 22:29:41,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:29:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:30:11.808620+03:00 (in 29.998055 seconds)
2025-01-28 22:29:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:30:11 MSK)" (scheduled at 2025-01-28 22:29:41.808620+03:00)
2025-01-28 22:29:41,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:29:41,820 - services.DepositService - INFO - wallet
2025-01-28 22:29:41,820 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:29:42,075 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:29:42,076 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:29:42,076 - services.DepositService - INFO - transactions
2025-01-28 22:29:42,076 - services.DepositService - INFO - []
2025-01-28 22:29:42,077 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:30:11 MSK)" executed successfully
2025-01-28 22:30:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:30:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:30:41.808620+03:00 (in 29.998489 seconds)
2025-01-28 22:30:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:30:41 MSK)" (scheduled at 2025-01-28 22:30:11.808620+03:00)
2025-01-28 22:30:11,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:30:11,820 - services.DepositService - INFO - wallet
2025-01-28 22:30:11,820 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:30:15,707 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:30:15,708 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:30:15,708 - services.DepositService - INFO - transactions
2025-01-28 22:30:15,708 - services.DepositService - INFO - []
2025-01-28 22:30:15,709 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:30:41 MSK)" executed successfully
2025-01-28 22:30:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:30:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:30:49.491438+03:00 (in 7.680867 seconds)
2025-01-28 22:30:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:31:11 MSK)" (scheduled at 2025-01-28 22:30:41.808620+03:00)
2025-01-28 22:30:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:30:41,826 - services.DepositService - INFO - wallet
2025-01-28 22:30:41,827 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:30:42,067 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:30:42,068 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:30:42,068 - services.DepositService - INFO - transactions
2025-01-28 22:30:42,068 - services.DepositService - INFO - []
2025-01-28 22:30:42,068 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:31:11 MSK)" executed successfully
2025-01-28 22:30:49,492 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:30:49,492 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:30:49,492 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:31:11.808620+03:00 (in 22.315729 seconds)
2025-01-28 22:30:49,493 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:30:49 MSK], next run at: 2025-01-28 22:30:49 MSK)" (scheduled at 2025-01-28 22:30:49.491438+03:00)
2025-01-28 22:30:50,141 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:30:50,142 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:30:50,160 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:30:50,161 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:30:50,161 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:30:50,161 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:30:50,170 - services.BlockService - INFO - last completed block is 79c73f21-132b-4e98-afcd-a97e09550916 (BlockStatus.COMPLETED)
2025-01-28 22:30:50,902 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:30:50,903 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:30:49 MSK], next run at: 2025-01-28 22:30:49 MSK)" executed successfully
2025-01-28 22:30:50,903 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:30:50,903 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:31:11.808620+03:00 (in 20.904683 seconds)
2025-01-28 22:31:11,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:31:11,811 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:31:41.808620+03:00 (in 29.997202 seconds)
2025-01-28 22:31:11,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:31:41 MSK)" (scheduled at 2025-01-28 22:31:11.808620+03:00)
2025-01-28 22:31:11,812 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:31:11,824 - services.DepositService - INFO - wallet
2025-01-28 22:31:11,824 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:31:12,024 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:31:12,025 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:31:12,025 - services.DepositService - INFO - transactions
2025-01-28 22:31:12,025 - services.DepositService - INFO - []
2025-01-28 22:31:12,025 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:31:41 MSK)" executed successfully
2025-01-28 22:31:41,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:31:41,811 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:32:11.808620+03:00 (in 29.997558 seconds)
2025-01-28 22:31:41,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:32:11 MSK)" (scheduled at 2025-01-28 22:31:41.808620+03:00)
2025-01-28 22:31:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:31:41,823 - services.DepositService - INFO - wallet
2025-01-28 22:31:41,823 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:31:42,034 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:31:42,036 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:31:42,036 - services.DepositService - INFO - transactions
2025-01-28 22:31:42,036 - services.DepositService - INFO - []
2025-01-28 22:31:42,036 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:32:11 MSK)" executed successfully
2025-01-28 22:32:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:32:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:32:20.902621+03:00 (in 9.091977 seconds)
2025-01-28 22:32:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:32:41 MSK)" (scheduled at 2025-01-28 22:32:11.808620+03:00)
2025-01-28 22:32:11,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:32:11,819 - services.DepositService - INFO - wallet
2025-01-28 22:32:11,819 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:32:12,070 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:32:12,072 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:32:12,072 - services.DepositService - INFO - transactions
2025-01-28 22:32:12,072 - services.DepositService - INFO - []
2025-01-28 22:32:12,073 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:32:41 MSK)" executed successfully
2025-01-28 22:32:20,903 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:32:20,903 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:32:20,904 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:32:41.808620+03:00 (in 20.904648 seconds)
2025-01-28 22:32:20,904 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:32:20 MSK], next run at: 2025-01-28 22:32:20 MSK)" (scheduled at 2025-01-28 22:32:20.902621+03:00)
2025-01-28 22:32:21,724 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:32:21,725 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:32:21,749 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:32:21,749 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:32:21,749 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:32:21,750 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:32:21,760 - services.BlockService - INFO - last completed block is a09f077d-9b18-4f97-9bcf-a48f8a271a90 (BlockStatus.COMPLETED)
2025-01-28 22:32:22,513 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:32:22,513 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:32:20 MSK], next run at: 2025-01-28 22:32:20 MSK)" executed successfully
2025-01-28 22:32:22,513 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:32:22,513 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:32:41.808620+03:00 (in 19.294676 seconds)
2025-01-28 22:32:41,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:32:41,812 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:33:11.808620+03:00 (in 29.996644 seconds)
2025-01-28 22:32:41,812 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:33:11 MSK)" (scheduled at 2025-01-28 22:32:41.808620+03:00)
2025-01-28 22:32:41,812 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:32:41,826 - services.DepositService - INFO - wallet
2025-01-28 22:32:41,826 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:32:42,100 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:32:42,102 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:32:42,102 - services.DepositService - INFO - transactions
2025-01-28 22:32:42,103 - services.DepositService - INFO - []
2025-01-28 22:32:42,103 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:33:11 MSK)" executed successfully
2025-01-28 22:33:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:33:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:33:41.808620+03:00 (in 29.998209 seconds)
2025-01-28 22:33:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:33:41 MSK)" (scheduled at 2025-01-28 22:33:11.808620+03:00)
2025-01-28 22:33:11,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:33:11,822 - services.DepositService - INFO - wallet
2025-01-28 22:33:11,822 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:33:12,070 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:33:12,073 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:33:12,073 - services.DepositService - INFO - transactions
2025-01-28 22:33:12,073 - services.DepositService - INFO - []
2025-01-28 22:33:12,073 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:33:41 MSK)" executed successfully
INFO:     172.18.0.6:56392 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56402 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56410 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:33:31,247 - main - ERROR - <starlette.requests.Request object at 0x7f28c6f18f80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56416 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:33:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:33:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:33:52.513148+03:00 (in 10.702532 seconds)
2025-01-28 22:33:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:34:11 MSK)" (scheduled at 2025-01-28 22:33:41.808620+03:00)
2025-01-28 22:33:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:33:41,822 - services.DepositService - INFO - wallet
2025-01-28 22:33:41,823 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:33:42,117 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:33:42,118 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:33:42,118 - services.DepositService - INFO - transactions
2025-01-28 22:33:42,118 - services.DepositService - INFO - []
2025-01-28 22:33:42,118 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:34:11 MSK)" executed successfully
2025-01-28 22:33:52,515 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:33:52,515 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:33:52,515 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:34:11.808620+03:00 (in 19.292771 seconds)
2025-01-28 22:33:52,516 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:33:52 MSK], next run at: 2025-01-28 22:33:52 MSK)" (scheduled at 2025-01-28 22:33:52.513148+03:00)
2025-01-28 22:33:53,466 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:33:53,466 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:33:53,490 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:33:53,490 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:33:53,491 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:33:53,491 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:33:53,504 - services.BlockService - INFO - last completed block is d693adb5-74c9-4471-b159-298d7a6ab117 (BlockStatus.COMPLETED)
2025-01-28 22:33:54,339 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:33:54,340 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:33:52 MSK], next run at: 2025-01-28 22:33:52 MSK)" executed successfully
2025-01-28 22:33:54,340 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:33:54,340 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:34:11.808620+03:00 (in 17.467695 seconds)
INFO:     172.18.0.6:34756 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34758 - "GET /user/info HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34768 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:34:06,265 - routes.auth.tonconnect - ERROR - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkMDNjZjA1Yi1mNjczLTQ5MzUtYjg3Mi0xOTczZmQ2MDFlMjAiLCJleHAiOjE3MzgwOTM0NDYsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.48Xq0IcEttS4lIfsbWzrJeCigmgk7DgprhQJJXGj-4E
INFO:     172.18.0.6:34780 - "GET /auth/payload HTTP/1.0" 200 OK
INFO:     172.18.0.6:34784 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:34:06,481 - main - ERROR - <starlette.requests.Request object at 0x7f28c5b5a990>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34786 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:34:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:34:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:34:41.808620+03:00 (in 29.998477 seconds)
2025-01-28 22:34:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:34:41 MSK)" (scheduled at 2025-01-28 22:34:11.808620+03:00)
2025-01-28 22:34:11,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:34:11,817 - services.DepositService - INFO - wallet
2025-01-28 22:34:11,817 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:34:12,519 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:34:12,520 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:34:12,520 - services.DepositService - INFO - transactions
2025-01-28 22:34:12,521 - services.DepositService - INFO - []
2025-01-28 22:34:12,521 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:34:41 MSK)" executed successfully
2025-01-28 22:34:41,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:34:41,811 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:35:11.808620+03:00 (in 29.997587 seconds)
2025-01-28 22:34:41,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:35:11 MSK)" (scheduled at 2025-01-28 22:34:41.808620+03:00)
2025-01-28 22:34:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:34:41,823 - services.DepositService - INFO - wallet
2025-01-28 22:34:41,823 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:34:42,174 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:34:42,175 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:34:42,175 - services.DepositService - INFO - transactions
2025-01-28 22:34:42,176 - services.DepositService - INFO - []
2025-01-28 22:34:42,176 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:35:11 MSK)" executed successfully
2025-01-28 22:35:11,810 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:35:11,811 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:35:24.339173+03:00 (in 12.528137 seconds)
2025-01-28 22:35:11,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:35:41 MSK)" (scheduled at 2025-01-28 22:35:11.808620+03:00)
2025-01-28 22:35:11,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:35:11,820 - services.DepositService - INFO - wallet
2025-01-28 22:35:11,820 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:35:12,056 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:35:12,057 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:35:12,057 - services.DepositService - INFO - transactions
2025-01-28 22:35:12,058 - services.DepositService - INFO - []
2025-01-28 22:35:12,058 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:35:41 MSK)" executed successfully
2025-01-28 22:35:24,341 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:35:24,341 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:35:24,341 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:35:41.808620+03:00 (in 17.466723 seconds)
2025-01-28 22:35:24,342 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:35:24 MSK], next run at: 2025-01-28 22:35:24 MSK)" (scheduled at 2025-01-28 22:35:24.339173+03:00)
2025-01-28 22:35:25,052 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:35:25,052 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:35:25,074 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:35:25,074 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:35:25,074 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:35:25,074 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:35:25,085 - services.BlockService - INFO - last completed block is 7c2bafb9-7e1e-490c-8e58-2e192e579a3e (BlockStatus.COMPLETED)
2025-01-28 22:35:25,848 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:35:25,848 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:35:24 MSK], next run at: 2025-01-28 22:35:24 MSK)" executed successfully
2025-01-28 22:35:25,849 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:35:25,849 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:35:41.808620+03:00 (in 15.959050 seconds)
2025-01-28 22:35:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:35:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:36:11.808620+03:00 (in 29.998053 seconds)
2025-01-28 22:35:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:36:11 MSK)" (scheduled at 2025-01-28 22:35:41.808620+03:00)
2025-01-28 22:35:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:35:41,826 - services.DepositService - INFO - wallet
2025-01-28 22:35:41,827 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:35:42,084 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:35:42,085 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:35:42,086 - services.DepositService - INFO - transactions
2025-01-28 22:35:42,086 - services.DepositService - INFO - []
2025-01-28 22:35:42,086 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:36:11 MSK)" executed successfully
2025-01-28 22:36:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:36:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:36:41.808620+03:00 (in 29.998066 seconds)
2025-01-28 22:36:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:36:41 MSK)" (scheduled at 2025-01-28 22:36:11.808620+03:00)
2025-01-28 22:36:11,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:36:11,821 - services.DepositService - INFO - wallet
2025-01-28 22:36:11,821 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:36:12,069 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:36:12,070 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:36:12,070 - services.DepositService - INFO - transactions
2025-01-28 22:36:12,070 - services.DepositService - INFO - []
2025-01-28 22:36:12,070 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:36:41 MSK)" executed successfully
2025-01-28 22:36:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:36:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:36:55.848278+03:00 (in 14.037397 seconds)
2025-01-28 22:36:41,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:37:11 MSK)" (scheduled at 2025-01-28 22:36:41.808620+03:00)
2025-01-28 22:36:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:36:41,823 - services.DepositService - INFO - wallet
2025-01-28 22:36:41,824 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:36:42,062 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:36:42,064 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:36:42,064 - services.DepositService - INFO - transactions
2025-01-28 22:36:42,064 - services.DepositService - INFO - []
2025-01-28 22:36:42,064 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:37:11 MSK)" executed successfully
2025-01-28 22:36:55,849 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:36:55,850 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:36:55,850 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:37:11.808620+03:00 (in 15.958104 seconds)
2025-01-28 22:36:55,850 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:36:55 MSK], next run at: 2025-01-28 22:36:55 MSK)" (scheduled at 2025-01-28 22:36:55.848278+03:00)
2025-01-28 22:36:56,639 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:36:56,639 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:36:56,663 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:36:56,663 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:36:56,663 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:36:56,663 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:36:56,677 - services.BlockService - INFO - last completed block is 56141994-29f7-487d-9904-c5b537fc2ff9 (BlockStatus.COMPLETED)
2025-01-28 22:36:57,417 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:36:57,417 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:36:55 MSK], next run at: 2025-01-28 22:36:55 MSK)" executed successfully
2025-01-28 22:36:57,417 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:36:57,418 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:37:11.808620+03:00 (in 14.390191 seconds)
2025-01-28 22:37:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:37:11,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:37:41.808620+03:00 (in 29.998596 seconds)
2025-01-28 22:37:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:37:41 MSK)" (scheduled at 2025-01-28 22:37:11.808620+03:00)
2025-01-28 22:37:11,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:37:11,820 - services.DepositService - INFO - wallet
2025-01-28 22:37:11,820 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:37:12,096 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:37:12,097 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:37:12,098 - services.DepositService - INFO - transactions
2025-01-28 22:37:12,098 - services.DepositService - INFO - []
2025-01-28 22:37:12,098 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:37:41 MSK)" executed successfully
2025-01-28 22:37:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:37:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:38:11.808620+03:00 (in 29.998452 seconds)
2025-01-28 22:37:41,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:38:11 MSK)" (scheduled at 2025-01-28 22:37:41.808620+03:00)
2025-01-28 22:37:41,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:37:41,820 - services.DepositService - INFO - wallet
2025-01-28 22:37:41,821 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:37:42,065 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:37:42,067 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:37:42,068 - services.DepositService - INFO - transactions
2025-01-28 22:37:42,068 - services.DepositService - INFO - []
2025-01-28 22:37:42,068 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:38:11 MSK)" executed successfully
2025-01-28 22:38:11,811 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:38:11,812 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:38:27.416657+03:00 (in 15.604136 seconds)
2025-01-28 22:38:11,812 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:38:41 MSK)" (scheduled at 2025-01-28 22:38:11.808620+03:00)
2025-01-28 22:38:11,813 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:38:11,826 - services.DepositService - INFO - wallet
2025-01-28 22:38:11,827 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:38:12,008 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:38:12,009 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:38:12,009 - services.DepositService - INFO - transactions
2025-01-28 22:38:12,009 - services.DepositService - INFO - []
2025-01-28 22:38:12,010 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:38:41 MSK)" executed successfully
2025-01-28 22:38:27,417 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:38:27,417 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:38:27,418 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:38:41.808620+03:00 (in 14.390634 seconds)
2025-01-28 22:38:27,418 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:38:27 MSK], next run at: 2025-01-28 22:38:27 MSK)" (scheduled at 2025-01-28 22:38:27.416657+03:00)
2025-01-28 22:38:28,119 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:38:28,119 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:38:28,140 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:38:28,140 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:38:28,140 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:38:28,140 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:38:28,152 - services.BlockService - INFO - last completed block is 29659fe7-e039-442d-8087-131941617021 (BlockStatus.COMPLETED)
2025-01-28 22:38:28,790 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:38:28,791 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:38:27 MSK], next run at: 2025-01-28 22:38:27 MSK)" executed successfully
2025-01-28 22:38:28,791 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:38:28,792 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:38:41.808620+03:00 (in 13.016603 seconds)
2025-01-28 22:38:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:38:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:39:11.808620+03:00 (in 29.997826 seconds)
2025-01-28 22:38:41,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:39:11 MSK)" (scheduled at 2025-01-28 22:38:41.808620+03:00)
2025-01-28 22:38:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:38:41,823 - services.DepositService - INFO - wallet
2025-01-28 22:38:41,823 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:38:42,067 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:38:42,070 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:38:42,070 - services.DepositService - INFO - transactions
2025-01-28 22:38:42,070 - services.DepositService - INFO - []
2025-01-28 22:38:42,071 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:39:11 MSK)" executed successfully
2025-01-28 22:39:11,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:39:11,809 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:39:41.808620+03:00 (in 29.998682 seconds)
2025-01-28 22:39:11,810 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:39:41 MSK)" (scheduled at 2025-01-28 22:39:11.808620+03:00)
2025-01-28 22:39:11,810 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:39:11,821 - services.DepositService - INFO - wallet
2025-01-28 22:39:11,821 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:39:12,053 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:39:12,054 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:39:12,054 - services.DepositService - INFO - transactions
2025-01-28 22:39:12,054 - services.DepositService - INFO - []
2025-01-28 22:39:12,054 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:39:41 MSK)" executed successfully
2025-01-28 22:39:41,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:39:41,810 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:39:58.790557+03:00 (in 16.979813 seconds)
2025-01-28 22:39:41,811 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:40:11 MSK)" (scheduled at 2025-01-28 22:39:41.808620+03:00)
2025-01-28 22:39:41,811 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:39:41,822 - services.DepositService - INFO - wallet
2025-01-28 22:39:41,822 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:39:42,133 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:39:42,134 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:39:42,134 - services.DepositService - INFO - transactions
2025-01-28 22:39:42,135 - services.DepositService - INFO - []
2025-01-28 22:39:42,135 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:40:11 MSK)" executed successfully
2025-01-28 22:39:58,792 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:39:58,793 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:39:58,793 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:40:11.808620+03:00 (in 13.015104 seconds)
2025-01-28 22:39:58,793 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:39:58 MSK], next run at: 2025-01-28 22:39:58 MSK)" (scheduled at 2025-01-28 22:39:58.790557+03:00)
2025-01-28 22:39:59,579 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:39:59,580 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:39:59,600 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:39:59,600 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:39:59,600 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:39:59,601 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:39:59,611 - services.BlockService - INFO - last completed block is aa4a9b97-c111-432c-a79d-edfbaa479550 (BlockStatus.COMPLETED)
2025-01-28 22:40:00,306 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:40:00,306 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:39:58 MSK], next run at: 2025-01-28 22:39:58 MSK)" executed successfully
2025-01-28 22:40:00,306 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:40:00,306 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:40:11.808620+03:00 (in 11.501970 seconds)
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-01-28 22:40:06,775 - services.BlockService - INFO - begin handle_interrupted_block
2025-01-28 22:40:06,795 - services.BlockService - INFO - status=<BlockStatus.INTERRUPTED: 'interrupted'> result_vector=None completed_at=None
2025-01-28 22:40:06,803 - services.BlockService - INFO - Block(id=UUID('5471b163-7c91-417f-96ed-18f9caa755af'), created_at=datetime.datetime(2025, 1, 28, 22, 39, 59, 611486), updated_at=datetime.datetime(2025, 1, 28, 22, 40, 6, 783385), block_number=12818, chain_id=UUID('d7cb3131-f0a7-4f43-8d19-e9524449d418'), status=<BlockStatus.INTERRUPTED: 'interrupted'>, completed_at=None, result_vector=None, bets=[])
2025-01-28 22:40:06,804 - main - INFO - chains stopped, exiting...
2025-01-28 22:40:06,804 - apscheduler.scheduler - INFO - Scheduler has been shut down
INFO:     Application shutdown complete.
INFO:     Finished server process [1]
INFO:     Started server process [1]
INFO:     Waiting for application startup.
2025-01-28 22:40:21,395 - ChainService - INFO - Начало генерации цепочек.
2025-01-28 22:40:23,607 - services.BlockService - INFO - begin handle_interrupted_block
2025-01-28 22:40:23,622 - services.BlockService - INFO - status=<BlockStatus.INTERRUPTED: 'interrupted'> result_vector=None completed_at=None
2025-01-28 22:40:23,641 - services.BlockService - INFO - Block(id=UUID('5471b163-7c91-417f-96ed-18f9caa755af'), created_at=datetime.datetime(2025, 1, 28, 22, 39, 59, 611486), updated_at=datetime.datetime(2025, 1, 28, 22, 40, 6, 783385), block_number=12818, chain_id=UUID('d7cb3131-f0a7-4f43-8d19-e9524449d418'), status=<BlockStatus.INTERRUPTED: 'interrupted'>, completed_at=None, result_vector=None, bets=[])
2025-01-28 22:40:23,670 - services.BlockService - INFO - last completed block is aa4a9b97-c111-432c-a79d-edfbaa479550 (BlockStatus.COMPLETED)
2025-01-28 22:40:23,694 - apscheduler.scheduler - INFO - Scheduler started
2025-01-28 22:40:23,695 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:40:23,695 - services.ChainService - INFO - start transaction check
2025-01-28 22:40:23,696 - apscheduler.scheduler - INFO - Added job "DepositService.check_users_transactions" to job store "default"
2025-01-28 22:40:23,696 - ChainService - INFO - Сервис генерации блоков запущен.
2025-01-28 22:40:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:40:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:40:53.695727+03:00 (in 29.998661 seconds)
2025-01-28 22:40:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:40:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:40:53.695727+03:00 (in 29.997982 seconds)
2025-01-28 22:40:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:40:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:40:53.695727+03:00 (in 29.997713 seconds)
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
2025-01-28 22:40:53,698 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:40:53,700 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:41:23.695727+03:00 (in 29.995461 seconds)
2025-01-28 22:40:53,700 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:41:23 MSK)" (scheduled at 2025-01-28 22:40:53.695727+03:00)
2025-01-28 22:40:53,701 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:40:53,734 - services.DepositService - INFO - wallet
2025-01-28 22:40:53,734 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:40:54,015 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:40:54,018 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:40:54,018 - services.DepositService - INFO - transactions
2025-01-28 22:40:54,018 - services.DepositService - INFO - []
2025-01-28 22:40:54,018 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:41:23 MSK)" executed successfully
2025-01-28 22:41:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:41:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:41:53.694425+03:00 (in 29.995793 seconds)
2025-01-28 22:41:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:41:53 MSK)" (scheduled at 2025-01-28 22:41:23.695727+03:00)
2025-01-28 22:41:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:41:23,713 - services.DepositService - INFO - wallet
2025-01-28 22:41:23,713 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:41:23,948 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:41:23,949 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:41:23,949 - services.DepositService - INFO - transactions
2025-01-28 22:41:23,949 - services.DepositService - INFO - []
2025-01-28 22:41:23,950 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:41:53 MSK)" executed successfully
INFO:     205.210.31.78:65108 - "GET / HTTP/1.1" 401 Unauthorized
2025-01-28 22:41:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:41:53,696 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:41:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:42:23.695727+03:00 (in 29.998390 seconds)
2025-01-28 22:41:53,698 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:41:53 MSK], next run at: 2025-01-28 22:41:53 MSK)" (scheduled at 2025-01-28 22:41:53.694425+03:00)
2025-01-28 22:41:53,716 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:42:23 MSK)" (scheduled at 2025-01-28 22:41:53.695727+03:00)
2025-01-28 22:41:53,716 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:41:54,537 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:41:54,538 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:41:54,548 - services.DepositService - INFO - wallet
2025-01-28 22:41:54,548 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:41:54,620 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:41:54,621 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:41:54,621 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:41:54,621 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:41:54,636 - services.BlockService - INFO - last completed block is 88a6b7c6-58f9-47f5-add6-b469674700b2 (BlockStatus.COMPLETED)
2025-01-28 22:41:55,312 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:41:55,313 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:41:55,314 - services.DepositService - INFO - transactions
2025-01-28 22:41:55,314 - services.DepositService - INFO - []
2025-01-28 22:41:55,314 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:42:23 MSK)" executed successfully
2025-01-28 22:41:55,343 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:41:55,343 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:41:53 MSK], next run at: 2025-01-28 22:41:53 MSK)" executed successfully
2025-01-28 22:41:55,344 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:41:55,344 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:42:23.695727+03:00 (in 28.351638 seconds)
2025-01-28 22:42:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:42:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:42:53.695727+03:00 (in 29.997876 seconds)
2025-01-28 22:42:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:42:53 MSK)" (scheduled at 2025-01-28 22:42:23.695727+03:00)
2025-01-28 22:42:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:42:23,715 - services.DepositService - INFO - wallet
2025-01-28 22:42:23,715 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:42:23,986 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:42:23,987 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:42:23,988 - services.DepositService - INFO - transactions
2025-01-28 22:42:23,988 - services.DepositService - INFO - []
2025-01-28 22:42:23,988 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:42:53 MSK)" executed successfully
2025-01-28 22:42:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:42:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:43:23.695727+03:00 (in 29.997107 seconds)
2025-01-28 22:42:53,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:43:23 MSK)" (scheduled at 2025-01-28 22:42:53.695727+03:00)
2025-01-28 22:42:53,700 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:42:53,715 - services.DepositService - INFO - wallet
2025-01-28 22:42:53,715 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:42:53,947 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:42:53,948 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:42:53,948 - services.DepositService - INFO - transactions
2025-01-28 22:42:53,949 - services.DepositService - INFO - []
2025-01-28 22:42:53,949 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:43:23 MSK)" executed successfully
2025-01-28 22:43:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:43:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:43:25.343390+03:00 (in 1.645754 seconds)
2025-01-28 22:43:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:43:53 MSK)" (scheduled at 2025-01-28 22:43:23.695727+03:00)
2025-01-28 22:43:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:43:23,710 - services.DepositService - INFO - wallet
2025-01-28 22:43:23,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:43:23,975 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:43:23,976 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:43:23,976 - services.DepositService - INFO - transactions
2025-01-28 22:43:23,976 - services.DepositService - INFO - []
2025-01-28 22:43:23,976 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:43:53 MSK)" executed successfully
2025-01-28 22:43:25,344 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:43:25,344 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:43:25,345 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:43:53.695727+03:00 (in 28.350732 seconds)
2025-01-28 22:43:25,345 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:43:25 MSK], next run at: 2025-01-28 22:43:25 MSK)" (scheduled at 2025-01-28 22:43:25.343390+03:00)
2025-01-28 22:43:26,046 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:43:26,046 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:43:26,073 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:43:26,074 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:43:26,074 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:43:26,074 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:43:26,085 - services.BlockService - INFO - last completed block is 08f1008f-e5fa-4e9d-81f8-fc363872573f (BlockStatus.COMPLETED)
2025-01-28 22:43:26,910 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:43:26,910 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:43:25 MSK], next run at: 2025-01-28 22:43:25 MSK)" executed successfully
2025-01-28 22:43:26,910 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:43:26,910 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:43:53.695727+03:00 (in 26.784773 seconds)
INFO:     172.18.0.6:56264 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56266 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56268 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:43:39,792 - main - ERROR - <starlette.requests.Request object at 0x7fee20291a00>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56276 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56290 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56294 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56306 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56320 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:56322 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:56336 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:43:45,047 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52f4a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56350 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56364 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:43:45,051 - main - ERROR - <starlette.requests.Request object at 0x7fee20292c00>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57028 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57032 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57038 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57046 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57050 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:57066 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:43:51,052 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52e180>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57078 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:43:51,055 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52d430>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57090 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:43:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:43:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:44:23.695727+03:00 (in 29.998588 seconds)
2025-01-28 22:43:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:44:23 MSK)" (scheduled at 2025-01-28 22:43:53.695727+03:00)
2025-01-28 22:43:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:43:53,711 - services.DepositService - INFO - wallet
2025-01-28 22:43:53,711 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:43:53,948 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:43:53,950 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:43:53,950 - services.DepositService - INFO - transactions
2025-01-28 22:43:53,950 - services.DepositService - INFO - []
2025-01-28 22:43:53,950 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:44:23 MSK)" executed successfully
INFO:     172.18.0.6:57194 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57198 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57204 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:43:57,054 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52c710>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57210 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57212 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57214 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57224 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:03,065 - main - ERROR - <starlette.requests.Request object at 0x7fee20291f70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57228 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:44456 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44460 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44466 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:09,060 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef83ef0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:44468 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:44482 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44492 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44500 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:15,057 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef81e50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:44512 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47418 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47424 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:47432 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:17,577 - main - ERROR - <starlette.requests.Request object at 0x7fee20293320>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47448 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47456 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47466 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:18,213 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52f2c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47476 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47484 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47486 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47502 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:47512 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:44:21,109 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef814c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47520 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47526 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:22,599 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed0f4d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47536 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47538 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:23,222 - main - ERROR - <starlette.requests.Request object at 0x7fee20292db0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47542 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:44:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:44:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:44:53.695727+03:00 (in 29.998598 seconds)
2025-01-28 22:44:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:44:53 MSK)" (scheduled at 2025-01-28 22:44:23.695727+03:00)
2025-01-28 22:44:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:44:23,710 - services.DepositService - INFO - wallet
2025-01-28 22:44:23,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:44:23,916 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:44:23,918 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:44:23,918 - services.DepositService - INFO - transactions
2025-01-28 22:44:23,918 - services.DepositService - INFO - []
2025-01-28 22:44:23,918 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:44:53 MSK)" executed successfully
INFO:     172.18.0.6:43290 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43306 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43318 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:27,045 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1a8410>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43324 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43332 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43348 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:27,643 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef812b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43350 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43354 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43356 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:28,352 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef811c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43366 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43382 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:32,671 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef80050>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43390 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43402 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:32,703 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef821e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43418 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43426 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43432 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43434 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:33,050 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52d220>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43446 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43458 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:43460 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:33,466 - main - ERROR - <starlette.requests.Request object at 0x7fee20293bc0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43474 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34750 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34760 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:37,900 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52c6e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34770 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34786 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34788 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:38,579 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef819a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34792 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34808 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34812 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34814 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:39,047 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef83920>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34818 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34822 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34824 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:43,023 - main - ERROR - <starlette.requests.Request object at 0x7fee20290dd0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34840 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34852 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34866 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:43,704 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef80440>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34868 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34872 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34880 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34886 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:45,068 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef822d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34892 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48348 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48358 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:48,119 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52d7f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48366 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48368 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48376 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:48,822 - main - ERROR - <starlette.requests.Request object at 0x7fee20292ba0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48386 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48398 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48410 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48412 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:51,052 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52c470>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48428 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48438 - "GET /user/info HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48442 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:51,639 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef81790>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48444 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48458 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:51,644 - routes.auth.tonconnect - ERROR - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1ZWQ3NzRlNi00MjM1LTRmY2ItYTczZi05YmJiZmJhNTdjNDEiLCJleHAiOjE3MzgwOTQwOTEsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.HJBfd7wPF_mVjBe9ADnhUt1liPheAKNg00BdAY4IWN4
INFO:     172.18.0.6:48468 - "GET /auth/payload HTTP/1.0" 200 OK
2025-01-28 22:44:51,666 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef825d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48474 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:44:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:44:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:44:56.909944+03:00 (in 3.212176 seconds)
2025-01-28 22:44:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:45:23 MSK)" (scheduled at 2025-01-28 22:44:53.695727+03:00)
2025-01-28 22:44:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:44:53,713 - services.DepositService - INFO - wallet
2025-01-28 22:44:53,713 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:44:53,985 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:44:53,987 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:44:53,987 - services.DepositService - INFO - transactions
2025-01-28 22:44:53,987 - services.DepositService - INFO - []
2025-01-28 22:44:53,987 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:45:23 MSK)" executed successfully
INFO:     172.18.0.6:48840 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48844 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:44:56,770 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef805f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48856 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:44:56,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:44:56,912 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:44:56,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:45:23.695727+03:00 (in 26.783146 seconds)
2025-01-28 22:44:56,912 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:44:56 MSK], next run at: 2025-01-28 22:44:56 MSK)" (scheduled at 2025-01-28 22:44:56.909944+03:00)
INFO:     172.18.0.6:48870 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48886 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48902 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:44:57,625 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52c740>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48918 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:44:57,629 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:44:57,629 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:44:57,652 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:44:57,653 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:44:57,653 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:44:57,653 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:44:57,662 - services.BlockService - INFO - last completed block is a6d4b581-bed7-4db1-890d-40e9f23159d2 (BlockStatus.COMPLETED)
2025-01-28 22:44:58,318 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:44:58,318 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:44:56 MSK], next run at: 2025-01-28 22:44:56 MSK)" executed successfully
2025-01-28 22:44:58,318 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:44:58,318 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:45:23.695727+03:00 (in 25.377181 seconds)
INFO:     172.18.0.6:48930 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48934 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48948 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:45:01,878 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c82c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48950 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48954 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48966 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:03,063 - main - ERROR - <starlette.requests.Request object at 0x7fee2026afc0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48972 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:46992 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:46994 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:06,961 - main - ERROR - <starlette.requests.Request object at 0x7fee20269520>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47000 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47008 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47012 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47026 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:09,335 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0ca960>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47042 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47058 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47064 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:12,062 - main - ERROR - <starlette.requests.Request object at 0x7fee2026a300>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47078 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47088 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47098 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47100 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:15,126 - main - ERROR - <starlette.requests.Request object at 0x7fee1f058c80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47104 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37054 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37056 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:17,161 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c92e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37068 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37078 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37094 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37108 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:21,062 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0ca4b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37122 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37124 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37132 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:22,262 - main - ERROR - <starlette.requests.Request object at 0x7fee2026ab70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37140 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:45:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:45:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:45:53.695727+03:00 (in 29.998557 seconds)
2025-01-28 22:45:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:45:53 MSK)" (scheduled at 2025-01-28 22:45:23.695727+03:00)
2025-01-28 22:45:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:45:23,711 - services.DepositService - INFO - wallet
2025-01-28 22:45:23,711 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:45:24,030 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:45:24,032 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:45:24,032 - services.DepositService - INFO - transactions
2025-01-28 22:45:24,034 - services.DepositService - INFO - []
2025-01-28 22:45:24,035 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:45:53 MSK)" executed successfully
INFO:     172.18.0.6:41692 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41700 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41702 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:27,097 - main - ERROR - <starlette.requests.Request object at 0x7fee2026ad80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41704 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41712 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41722 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:27,361 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0ca480>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41736 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41748 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41764 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:32,480 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c8230>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41774 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41786 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41790 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41806 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:33,047 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05aea0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41812 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:51782 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51790 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51796 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:45:37,583 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c86b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51808 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51814 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51822 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:39,066 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0cbc50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51826 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:51842 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51846 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:42,680 - main - ERROR - <starlette.requests.Request object at 0x7fee202688f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51854 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:51864 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51866 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51880 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:45,066 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05b080>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51884 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:55362 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55378 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:47,772 - main - ERROR - <starlette.requests.Request object at 0x7fee2026af60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:55380 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:55390 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55400 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55408 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:51,057 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0cbb30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:55414 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:55416 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55426 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:52,874 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05b3b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:55432 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:45:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:45:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:46:23.695727+03:00 (in 29.997771 seconds)
2025-01-28 22:45:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:46:23 MSK)" (scheduled at 2025-01-28 22:45:53.695727+03:00)
2025-01-28 22:45:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:45:53,711 - services.DepositService - INFO - wallet
2025-01-28 22:45:53,712 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:45:53,968 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:45:53,970 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:45:53,970 - services.DepositService - INFO - transactions
2025-01-28 22:45:53,970 - services.DepositService - INFO - []
2025-01-28 22:45:53,970 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:46:23 MSK)" executed successfully
INFO:     172.18.0.6:39794 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39806 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39820 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:45:57,081 - main - ERROR - <starlette.requests.Request object at 0x7fee1f059700>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:39836 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:39848 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39860 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:45:57,934 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0ca1b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:39862 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:39872 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39882 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39894 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:39900 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:03,065 - main - ERROR - <starlette.requests.Request object at 0x7fee2026ae70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:39906 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:39916 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:03,182 - main - ERROR - <starlette.requests.Request object at 0x7fee20268fb0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:39928 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35022 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35032 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:08,136 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c99a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35036 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35042 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35050 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:09,066 - main - ERROR - <starlette.requests.Request object at 0x7fee20268230>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35052 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35056 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35060 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:09,177 - main - ERROR - <starlette.requests.Request object at 0x7fee1f059700>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35070 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35082 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35094 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:13,255 - main - ERROR - <starlette.requests.Request object at 0x7fee1f517230>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35106 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35116 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35124 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35126 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:15,070 - main - ERROR - <starlette.requests.Request object at 0x7fee1f043fe0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35130 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48660 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48676 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:18,356 - main - ERROR - <starlette.requests.Request object at 0x7fee2026ac60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48688 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48698 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48706 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48722 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:21,072 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c9f40>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48728 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48738 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48752 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:23,455 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1b4d70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48764 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:46:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:46:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:46:28.317839+03:00 (in 4.620119 seconds)
2025-01-28 22:46:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:46:53 MSK)" (scheduled at 2025-01-28 22:46:23.695727+03:00)
2025-01-28 22:46:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:46:23,716 - services.DepositService - INFO - wallet
2025-01-28 22:46:23,716 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:46:23,981 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:46:23,982 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:46:23,983 - services.DepositService - INFO - transactions
2025-01-28 22:46:23,983 - services.DepositService - INFO - []
2025-01-28 22:46:23,983 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:46:53 MSK)" executed successfully
INFO:     172.18.0.6:54794 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54808 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54818 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:27,074 - main - ERROR - <starlette.requests.Request object at 0x7fee202698e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54834 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:46:28,318 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:46:28,319 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:46:28,320 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:46:53.695727+03:00 (in 25.375618 seconds)
2025-01-28 22:46:28,320 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:46:28 MSK], next run at: 2025-01-28 22:46:28 MSK)" (scheduled at 2025-01-28 22:46:28.317839+03:00)
INFO:     172.18.0.6:54844 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54860 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:28,976 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:46:28,976 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:46:28,980 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1b4b60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54876 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:46:29,005 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:46:29,005 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:46:29,005 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:46:29,008 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:46:29,027 - services.BlockService - INFO - last completed block is f8d3ae01-063f-4e07-af79-0c2f62a34bdf (BlockStatus.COMPLETED)
2025-01-28 22:46:29,878 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:46:29,878 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:46:28 MSK], next run at: 2025-01-28 22:46:28 MSK)" executed successfully
2025-01-28 22:46:29,878 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:46:29,878 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:46:53.695727+03:00 (in 23.816977 seconds)
INFO:     172.18.0.6:54884 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54900 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54910 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:33,057 - main - ERROR - <starlette.requests.Request object at 0x7fee204ee870>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54924 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54932 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54946 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:34,084 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96ff80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54960 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49090 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49100 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49116 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:39,087 - main - ERROR - <starlette.requests.Request object at 0x7fee204ef0e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49118 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49126 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49130 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:39,195 - main - ERROR - <starlette.requests.Request object at 0x7fee204ef9b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49136 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49152 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49166 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:44,282 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96ede0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49172 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49178 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49186 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49196 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:45,057 - main - ERROR - <starlette.requests.Request object at 0x7fee1f789ac0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49198 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60024 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60038 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60048 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:46:49,382 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96f8c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60056 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60062 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60064 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:51,249 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96ee70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60070 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:46:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:46:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:47:23.695727+03:00 (in 29.998182 seconds)
2025-01-28 22:46:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:47:23 MSK)" (scheduled at 2025-01-28 22:46:53.695727+03:00)
2025-01-28 22:46:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:46:53,709 - services.DepositService - INFO - wallet
2025-01-28 22:46:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:46:53,959 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:46:53,961 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:46:53,961 - services.DepositService - INFO - transactions
2025-01-28 22:46:53,962 - services.DepositService - INFO - []
2025-01-28 22:46:53,962 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:47:23 MSK)" executed successfully
INFO:     172.18.0.6:60076 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60086 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:54,480 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78a6f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60096 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41390 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41400 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41402 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:46:57,057 - main - ERROR - <starlette.requests.Request object at 0x7fee204ed580>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41418 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41430 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41446 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:46:59,582 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96c3b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41456 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41464 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41472 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41480 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:03,058 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1a8530>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41488 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41490 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41492 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41500 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:47:04,685 - main - ERROR - <starlette.requests.Request object at 0x7fee1f789400>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45584 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45588 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45604 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:09,051 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96f1a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45614 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45630 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45644 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:09,911 - main - ERROR - <starlette.requests.Request object at 0x7fee204ef9e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45650 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45652 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45660 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:15,023 - main - ERROR - <starlette.requests.Request object at 0x7fee1f788530>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45674 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45686 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45692 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45696 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:15,080 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78a2a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45708 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48654 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48660 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:20,114 - main - ERROR - <starlette.requests.Request object at 0x7fee204edd60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48674 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48678 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48688 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48700 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:21,057 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96cc80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48714 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:47:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:47:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:47:53.695727+03:00 (in 29.997537 seconds)
2025-01-28 22:47:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:47:53 MSK)" (scheduled at 2025-01-28 22:47:23.695727+03:00)
2025-01-28 22:47:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:47:23,711 - services.DepositService - INFO - wallet
2025-01-28 22:47:23,711 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:47:23,956 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:47:23,958 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:47:23,959 - services.DepositService - INFO - transactions
2025-01-28 22:47:23,959 - services.DepositService - INFO - []
2025-01-28 22:47:23,959 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:47:53 MSK)" executed successfully
INFO:     172.18.0.6:48726 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48742 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:25,218 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0416d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48750 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56356 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56360 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56372 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:27,051 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1aa180>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56378 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56394 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56404 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:30,321 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96d580>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56406 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56414 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56426 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56428 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:33,050 - main - ERROR - <starlette.requests.Request object at 0x7fee204ef710>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56440 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56444 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56446 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:35,420 - main - ERROR - <starlette.requests.Request object at 0x7fee1f788530>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56458 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34922 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34926 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34934 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:39,070 - main - ERROR - <starlette.requests.Request object at 0x7fee204ee150>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34944 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34958 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34962 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:40,516 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96cf80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34976 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34988 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34994 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35006 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:45,056 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1a90a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35020 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35022 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35024 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:45,634 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78b6b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35030 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37270 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37276 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:50,719 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96d340>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37286 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37290 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37300 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37308 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:51,045 - main - ERROR - <starlette.requests.Request object at 0x7fee204efdd0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37318 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:47:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:47:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:47:59.877822+03:00 (in 6.179323 seconds)
2025-01-28 22:47:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:48:23 MSK)" (scheduled at 2025-01-28 22:47:53.695727+03:00)
2025-01-28 22:47:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:47:53,710 - services.DepositService - INFO - wallet
2025-01-28 22:47:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:47:54,532 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:47:54,533 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:47:54,533 - services.DepositService - INFO - transactions
2025-01-28 22:47:54,533 - services.DepositService - INFO - []
2025-01-28 22:47:54,533 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:48:23 MSK)" executed successfully
INFO:     172.18.0.6:37326 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37340 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:47:55,819 - main - ERROR - <starlette.requests.Request object at 0x7fee1f4b3ef0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37356 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33788 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33800 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33810 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:47:57,072 - main - ERROR - <starlette.requests.Request object at 0x7fee204ee3f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33820 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:47:59,878 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:47:59,879 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:47:59,879 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:48:23.695727+03:00 (in 23.815966 seconds)
2025-01-28 22:47:59,880 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:47:59 MSK], next run at: 2025-01-28 22:47:59 MSK)" (scheduled at 2025-01-28 22:47:59.877822+03:00)
2025-01-28 22:48:00,568 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:48:00,568 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:48:00,589 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:48:00,589 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:48:00,590 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:48:00,590 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:48:00,599 - services.BlockService - INFO - last completed block is a94cd882-4785-4201-9fc4-59ac606f55f7 (BlockStatus.COMPLETED)
INFO:     172.18.0.6:33828 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33836 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:01,314 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:48:01,314 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:47:59 MSK], next run at: 2025-01-28 22:47:59 MSK)" executed successfully
2025-01-28 22:48:01,315 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:48:01,315 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:48:23.695727+03:00 (in 22.380196 seconds)
2025-01-28 22:48:01,345 - main - ERROR - <starlette.requests.Request object at 0x7fee1f042390>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33844 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33856 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33860 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33874 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:03,056 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed627e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33888 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33890 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33906 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:06,461 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec31ca0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33914 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50792 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50798 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50806 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:09,067 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed61a90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50810 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50816 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50824 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:11,562 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed60ef0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50834 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50850 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50852 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50864 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:15,071 - main - ERROR - <starlette.requests.Request object at 0x7fee1f041850>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50874 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54506 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54514 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:16,655 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec33350>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54516 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54522 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54534 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54548 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:21,059 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec33290>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54560 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54572 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54576 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:21,758 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1a80b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54584 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:48:23,698 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:48:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:48:53.695727+03:00 (in 29.997155 seconds)
2025-01-28 22:48:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:48:53 MSK)" (scheduled at 2025-01-28 22:48:23.695727+03:00)
2025-01-28 22:48:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:48:23,709 - services.DepositService - INFO - wallet
2025-01-28 22:48:23,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:48:23,971 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:48:23,972 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:48:23,973 - services.DepositService - INFO - transactions
2025-01-28 22:48:23,973 - services.DepositService - INFO - []
2025-01-28 22:48:23,973 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:48:53 MSK)" executed successfully
INFO:     172.18.0.6:59510 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59522 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:26,857 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed63aa0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:59534 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:59546 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59550 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59562 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:27,066 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed60530>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:59566 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:59574 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59582 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:31,959 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed60e60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:59596 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:59612 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59628 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:59640 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:33,063 - main - ERROR - <starlette.requests.Request object at 0x7fee1f042180>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:59644 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47014 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47030 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:37,035 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec32ae0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47038 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:47044 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47048 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47058 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:47064 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:48:39,067 - main - ERROR - <starlette.requests.Request object at 0x7fee204718e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47074 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47078 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47082 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:48:42,140 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0430b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47096 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47106 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:47122 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:45,066 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed626f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:47128 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56666 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56674 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:47,262 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed619d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56680 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56688 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56696 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56702 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:51,114 - main - ERROR - <starlette.requests.Request object at 0x7fee20471f10>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56712 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56728 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:52,289 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed61d60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56730 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56742 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:52,392 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed618b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56748 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:48:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:48:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:49:23.695727+03:00 (in 29.998308 seconds)
2025-01-28 22:48:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:49:23 MSK)" (scheduled at 2025-01-28 22:48:53.695727+03:00)
2025-01-28 22:48:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:48:53,708 - services.DepositService - INFO - wallet
2025-01-28 22:48:53,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:48:53,939 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:48:53,940 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:48:53,940 - services.DepositService - INFO - transactions
2025-01-28 22:48:53,940 - services.DepositService - INFO - []
2025-01-28 22:48:53,940 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:49:23 MSK)" executed successfully
INFO:     172.18.0.6:56764 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56778 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:56792 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:55,065 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec32a80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56794 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57482 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57484 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57494 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:48:57,081 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec30350>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57502 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57512 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:57,358 - main - ERROR - <starlette.requests.Request object at 0x7fee1f041a90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57522 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57532 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:48:57,519 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed62630>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57546 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57560 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57576 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57590 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:01,050 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed61190>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57606 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57608 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:02,457 - main - ERROR - <starlette.requests.Request object at 0x7fee204710d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57616 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57622 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:02,648 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1aad50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57638 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57654 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57670 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57674 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:03,057 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed639b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57684 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50396 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:07,555 - main - ERROR - <starlette.requests.Request object at 0x7fee1f042570>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50400 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50406 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:07,891 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec32240>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50414 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50420 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50422 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50432 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:09,054 - main - ERROR - <starlette.requests.Request object at 0x7fee20471c40>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50440 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50442 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50450 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:49:12,691 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1a9a30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50466 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:13,026 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed63260>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50476 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50492 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50496 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50504 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:15,055 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed63ce0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50508 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:55956 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:17,788 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec308f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:55960 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:55970 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:18,154 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec30b60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:55986 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:55992 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55994 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:55996 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:21,057 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed61ee0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56002 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56006 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:22,882 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed60a70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56022 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56028 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:23,200 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1a9400>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56042 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:49:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:49:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:49:31.313806+03:00 (in 7.615556 seconds)
2025-01-28 22:49:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:49:53 MSK)" (scheduled at 2025-01-28 22:49:23.695727+03:00)
2025-01-28 22:49:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:49:23,712 - services.DepositService - INFO - wallet
2025-01-28 22:49:23,713 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:49:23,940 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:49:23,942 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:49:23,942 - services.DepositService - INFO - transactions
2025-01-28 22:49:23,942 - services.DepositService - INFO - []
2025-01-28 22:49:23,943 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:49:53 MSK)" executed successfully
INFO:     172.18.0.6:38382 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38390 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38404 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:27,062 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0420f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38420 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38434 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:27,978 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed61700>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38448 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38458 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:28,281 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed63380>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38470 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:49:31,314 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:49:31,315 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:49:31,315 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:49:53.695727+03:00 (in 22.380588 seconds)
2025-01-28 22:49:31,315 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:49:31 MSK], next run at: 2025-01-28 22:49:31 MSK)" (scheduled at 2025-01-28 22:49:31.313806+03:00)
2025-01-28 22:49:32,094 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:49:32,094 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:49:32,116 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:49:32,117 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:49:32,117 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:49:32,117 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:49:32,129 - services.BlockService - INFO - last completed block is 10323f1a-5131-4ee3-8be3-966e06d5a120 (BlockStatus.COMPLETED)
2025-01-28 22:49:32,732 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:49:32,733 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:49:31 MSK], next run at: 2025-01-28 22:49:31 MSK)" executed successfully
2025-01-28 22:49:32,733 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:49:32,733 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:49:53.695727+03:00 (in 20.961788 seconds)
INFO:     172.18.0.6:38484 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38486 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38500 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:33,052 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05ac00>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38514 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38530 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:33,080 - main - ERROR - <starlette.requests.Request object at 0x7fee1f058b90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38542 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38544 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:33,378 - main - ERROR - <starlette.requests.Request object at 0x7fee20292ea0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38558 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38564 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38576 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:49:38,177 - main - ERROR - <starlette.requests.Request object at 0x7fee1f059340>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38592 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:38,479 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0596d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38604 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38620 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38624 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38632 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:39,055 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52cf20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38642 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38644 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:43,214 - main - ERROR - <starlette.requests.Request object at 0x7fee20292960>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38650 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38656 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:43,509 - main - ERROR - <starlette.requests.Request object at 0x7fee20290c80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38664 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38670 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38680 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:38696 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:45,060 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0580b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38706 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:32870 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:48,313 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05bb90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32872 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:32874 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:48,640 - main - ERROR - <starlette.requests.Request object at 0x7fee20290aa0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32884 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:32900 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:32904 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:32910 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:50,130 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78b7a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32920 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:32932 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:53,404 - main - ERROR - <starlette.requests.Request object at 0x7fee20292810>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32946 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:49:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:49:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:50:23.695727+03:00 (in 29.997419 seconds)
2025-01-28 22:49:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:50:23 MSK)" (scheduled at 2025-01-28 22:49:53.695727+03:00)
2025-01-28 22:49:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:49:53,707 - services.DepositService - INFO - wallet
2025-01-28 22:49:53,707 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
INFO:     172.18.0.6:32956 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:53,774 - main - ERROR - <starlette.requests.Request object at 0x7fee1f058b30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32972 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:49:53,946 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:49:53,949 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:49:53,950 - services.DepositService - INFO - transactions
2025-01-28 22:49:53,951 - services.DepositService - INFO - []
2025-01-28 22:49:53,952 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:50:23 MSK)" executed successfully
INFO:     172.18.0.6:32980 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:32992 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33008 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:49:55,168 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78ad80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33014 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50026 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:58,506 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52f050>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50042 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50052 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:49:58,902 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05af90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50066 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50080 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50082 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50094 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:00,227 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05a540>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50110 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50118 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:03,602 - main - ERROR - <starlette.requests.Request object at 0x7fee20292540>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50122 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50132 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:04,026 - main - ERROR - <starlette.requests.Request object at 0x7fee20292f00>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50138 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50142 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50146 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50158 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:50164 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:50:06,049 - main - ERROR - <starlette.requests.Request object at 0x7fee20291520>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57060 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57066 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:50:08,627 - main - ERROR - <starlette.requests.Request object at 0x7fee20293650>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57072 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:09,049 - main - ERROR - <starlette.requests.Request object at 0x7fee1f059d00>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57080 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57088 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57098 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57114 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:12,091 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05a3f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57126 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57138 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:13,654 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52e990>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57150 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57162 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:14,076 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05b3b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57178 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57750 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57760 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57764 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:57766 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:50:18,052 - main - ERROR - <starlette.requests.Request object at 0x7fee1f059430>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57768 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:18,693 - main - ERROR - <starlette.requests.Request object at 0x7fee20293fb0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57780 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57782 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:19,113 - main - ERROR - <starlette.requests.Request object at 0x7fee20291070>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57798 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:50:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:50:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:50:53.695727+03:00 (in 29.998667 seconds)
2025-01-28 22:50:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:50:53 MSK)" (scheduled at 2025-01-28 22:50:23.695727+03:00)
2025-01-28 22:50:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:50:23,707 - services.DepositService - INFO - wallet
2025-01-28 22:50:23,707 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
INFO:     172.18.0.6:57810 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:23,765 - main - ERROR - <starlette.requests.Request object at 0x7fee20290920>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57818 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:50:23,940 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:50:23,941 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:50:23,941 - services.DepositService - INFO - transactions
2025-01-28 22:50:23,941 - services.DepositService - INFO - []
2025-01-28 22:50:23,941 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:50:53 MSK)" executed successfully
INFO:     172.18.0.6:57824 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57838 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57846 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:24,068 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52c920>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57862 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57864 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:24,144 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05b140>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57872 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57888 - "OPTIONS /auth/verify_payload HTTP/1.0" 200 OK
2025-01-28 22:50:25,427 - domain.tonconnect.requests - DEBUG - workchain is 0
2025-01-28 22:50:25,428 - domain.tonconnect.requests - DEBUG - address bytes is e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2 b'\xe3\xbb\xa2\xdd)\xd6u}7\xfa4.R\x04\xaaM7\x89\xed\xfe\x00\xd1V\x8d">9{Un\xe1\xc2'
2025-01-28 22:50:25,432 - services.ton.tonconnect.TonProofService - DEBUG - {'request': {'address': '0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2', 'network': '-239', 'public_key': '687235ce9b3bb614ed53fbcda86be0d9181fa89a063e27a5511fee4f72b2a753', 'proof': {'timestamp': 1738093812, 'domain': {'length_bytes': 21, 'value': 'ab328c6h7.duckdns.org'}, 'signature': 'MQrrW5FdSg9LcTAmn6fBTue7XC6+csT6IlCbrZDgFOr+tPR8GbzulMhiGesiAFip1m/lCNmIUPdvlWBviAL6AQ==', 'payload': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkMDNjZjA1Yi1mNjczLTQ5MzUtYjg3Mi0xOTczZmQ2MDFlMjAiLCJleHAiOjE3MzgwOTM0NDYsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.48Xq0IcEttS4lIfsbWzrJeCigmgk7DgprhQJJXGj-4E', 'state_init': 'te6cckECFgEAArEAAgE0ARUBFP8A9KQT9LzyyAsCAgEgAw4CAUgEBQLc0CDXScEgkVuPYyDXCx8gghBleHRuvSGCEHNpbnS9sJJfA+CCEGV4dG66jrSAINchAdB01yH6QDD6RPgo+kQwWL2RW+DtRNCBAUHXIfQFgwf0Dm+hMZEw4YBA1yFwf9s84DEg10mBAoC5kTDgcOIREAIBIAYNAgEgBwoCAW4ICQAZrc52omhAIOuQ64X/wAAZrx32omhAEOuQ64WPwAIBSAsMABezJftRNBx1yHXCx+AAEbJi+1E0NcKAIAAZvl8PaiaECAoOuQ+gLAEC8g8BHiDXCx+CEHNpZ2668uCKfxAB5o7w7aLt+yGDCNciAoMI1yMggCDXIdMf0x/TH+1E0NIA0x8g0x/T/9cKAAr5AUDM+RCaKJRfCtsx4fLAh98Cs1AHsPLQhFEluvLghVA2uvLghvgju/LQiCKS+ADeAaR/yMoAyx8BzxbJ7VQgkvgP3nDbPNgRA/btou37AvQEIW6SbCGOTAIh1zkwcJQhxwCzji0B1yggdh5DbCDXScAI8uCTINdKwALy4JMg1x0GxxLCAFIwsPLQiddM1zkwAaTobBKEB7vy4JPXSsAA8uCT7VXi0gABwACRW+Dr1ywIFCCRcJYB1ywIHBLiUhCx4w8g10oSExQAlgH6QAH6RPgo+kQwWLry4JHtRNCBAUHXGPQFBJ1/yMoAQASDB/RT8uCLjhQDgwf0W/LgjCLXCgAhbgGzsPLQkOLIUAPPFhL0AMntVAByMNcsCCSOLSHy4JLSAO1E0NIAURO68tCPVFAwkTGcAYEBQNch1woA8uCO4sjKAFjPFsntVJPywI3iABCTW9sx4ddM0ABRgAAAAD///4i0ORrnTZ3bCnap/ebUNfBsjA/UTQMfE9Koj/cnuVlTqaAxbhqL'}}, 'address_bytes': 'e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2', 'workchain': 0, 'init_state': {'code': <Cell 80[FF00F4A413F4BCF2C80B] -> 1 refs>, 'data': <Cell 322[800000003FFFFF88B4391AE74D9DDB0A76A9FDE6D435F06C8C0FD44D031F13D2A88FF727B95953A980] -> 0 refs>, 'split_depth': None, 'special': None, 'libraries': None}, 'data': '322[800000003FFFFF88B4391AE74D9DDB0A76A9FDE6D435F06C8C0FD44D031F13D2A88FF727B95953A980]', 'code': 'te6ccgECFAEAAoEAART/APSkE/S88sgLAQIBIAINAgFIAwQC3NAg10nBIJFbj2Mg1wsfIIIQZXh0br0hghBzaW50vbCSXwPgghBleHRuuo60gCDXIQHQdNch+kAw+kT4KPpEMFi9kVvg7UTQgQFB1yH0BYMH9A5voTGRMOGAQNchcH/bPOAxINdJgQKAuZEw4HDiEA8CASAFDAIBIAYJAgFuBwgAGa3OdqJoQCDrkOuF/8AAGa8d9qJoQBDrkOuFj8ACAUgKCwAXsyX7UTQcdch1wsfgABGyYvtRNDXCgCAAGb5fD2omhAgKDrkPoCwBAvIOAR4g1wsfghBzaWduuvLgin8PAeaO8O2i7fshgwjXIgKDCNcjIIAg1yHTH9Mf0x/tRNDSANMfINMf0//XCgAK+QFAzPkQmiiUXwrbMeHywIffArNQB7Dy0IRRJbry4IVQNrry4Ib4I7vy0IgikvgA3gGkf8jKAMsfAc8Wye1UIJL4D95w2zzYEAP27aLt+wL0BCFukmwhjkwCIdc5MHCUIccAs44tAdcoIHYeQ2wg10nACPLgkyDXSsAC8uCTINcdBscSwgBSMLDy0InXTNc5MAGk6GwShAe78uCT10rAAPLgk+1V4tIAAcAAkVvg69csCBQgkXCWAdcsCBwS4lIQseMPINdKERITAJYB+kAB+kT4KPpEMFi68uCR7UTQgQFB1xj0BQSdf8jKAEAEgwf0U/Lgi44UA4MH9Fvy4Iwi1woAIW4Bs7Dy0JDiyFADzxYS9ADJ7VQAcjDXLAgkji0h8uCS0gDtRNDSAFETuvLQj1RQMJExnAGBAUDXIdcKAPLgjuLIygBYzxbJ7VST8sCN4gAQk1vbMeHXTNA='}
2025-01-28 22:50:25,432 - services.ton.known_wallets - ERROR - Failed to parse wallet publicKey for unknown code: te6ccgECFAEAAoEAART/APSkE/S88sgLAQIBIAINAgFIAwQC3NAg10nBIJFbj2Mg1wsfIIIQZXh0br0hghBzaW50vbCSXwPgghBleHRuuo60gCDXIQHQdNch+kAw+kT4KPpEMFi9kVvg7UTQgQFB1yH0BYMH9A5voTGRMOGAQNchcH/bPOAxINdJgQKAuZEw4HDiEA8CASAFDAIBIAYJAgFuBwgAGa3OdqJoQCDrkOuF/8AAGa8d9qJoQBDrkOuFj8ACAUgKCwAXsyX7UTQcdch1wsfgABGyYvtRNDXCgCAAGb5fD2omhAgKDrkPoCwBAvIOAR4g1wsfghBzaWduuvLgin8PAeaO8O2i7fshgwjXIgKDCNcjIIAg1yHTH9Mf0x/tRNDSANMfINMf0//XCgAK+QFAzPkQmiiUXwrbMeHywIffArNQB7Dy0IRRJbry4IVQNrry4Ib4I7vy0IgikvgA3gGkf8jKAMsfAc8Wye1UIJL4D95w2zzYEAP27aLt+wL0BCFukmwhjkwCIdc5MHCUIccAs44tAdcoIHYeQ2wg10nACPLgkyDXSsAC8uCTINcdBscSwgBSMLDy0InXTNc5MAGk6GwShAe78uCT10rAAPLgk+1V4tIAAcAAkVvg69csCBQgkXCWAdcsCBwS4lIQseMPINdKERITAJYB+kAB+kT4KPpEMFi68uCR7UTQgQFB1xj0BQSdf8jKAEAEgwf0U/Lgi44UA4MH9Fvy4Iwi1woAIW4Bs7Dy0JDiyFADzxYS9ADJ7VQAcjDXLAgkji0h8uCS0gDtRNDSAFETuvLQj1RQMJExnAGBAUDXIdcKAPLgjuLIygBYzxbJ7VST8sCN4gAQk1vbMeHXTNA=
2025-01-28 22:50:25,432 - services.ton.tonconnect.TonProofService - ERROR - Wallet cannot be parsed from boc for 0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2, calling provider (API)
2025-01-28 22:50:25,661 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/accounts/0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2/publickey "HTTP/1.1 200 OK"
2025-01-28 22:50:25,663 - services.ton.tonconnect.TonProofService - INFO - Provider call for address 0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2 is successful
2025-01-28 22:50:25,664 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkMDNjZjA1Yi1mNjczLTQ5MzUtYjg3Mi0xOTczZmQ2MDFlMjAiLCJleHAiOjE3MzgwOTM0NDYsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.48Xq0IcEttS4lIfsbWzrJeCigmgk7DgprhQJJXGj-4E
2025-01-28 22:50:25,664 - routes.auth.tonconnect - ERROR - There is an error during verification or creating a token
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/routes/auth/tonconnect.py", line 51, in verify_payload
    tokens = await auth_service.create_token(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 35, in create_token
    payload_is_valid = self.token_service.validate_token(token=credentials.payload)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 26, in validate_token
    self.get_token_payload(token)
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:57900 - "POST /auth/verify_payload HTTP/1.0" 500 Internal Server Error
INFO:     172.18.0.6:45164 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:28,828 - main - ERROR - <starlette.requests.Request object at 0x7fee1f058e30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45176 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45188 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45198 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45206 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:29,109 - main - ERROR - <starlette.requests.Request object at 0x7fee20290a40>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45210 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45224 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:29,274 - main - ERROR - <starlette.requests.Request object at 0x7fee1f789c10>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45234 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45236 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45238 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:50:34,045 - main - ERROR - <starlette.requests.Request object at 0x7fee1f788ec0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45250 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45254 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:45268 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:34,190 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78a2d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45282 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45284 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:34,325 - main - ERROR - <starlette.requests.Request object at 0x7fee20293d40>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45296 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40658 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:39,101 - main - ERROR - <starlette.requests.Request object at 0x7fee20291c70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40664 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40678 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:39,462 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52d220>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40690 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40698 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40710 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40714 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:40,069 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05ad50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40722 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40730 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:44,418 - main - ERROR - <starlette.requests.Request object at 0x7fee20290170>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40742 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40752 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:44,593 - main - ERROR - <starlette.requests.Request object at 0x7fee20293e90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40768 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40782 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40794 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40798 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:46,053 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78b680>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40810 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52054 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:49,543 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05bf80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52060 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52070 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:49,716 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78a780>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52076 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52090 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52100 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52108 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:52,081 - main - ERROR - <starlette.requests.Request object at 0x7fee20290ef0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52112 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:50:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:50:53,696 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:51:02.732517+03:00 (in 9.035602 seconds)
2025-01-28 22:50:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:51:23 MSK)" (scheduled at 2025-01-28 22:50:53.695727+03:00)
2025-01-28 22:50:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:50:53,710 - services.DepositService - INFO - wallet
2025-01-28 22:50:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:50:54,580 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:50:54,581 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:50:54,581 - services.DepositService - INFO - transactions
2025-01-28 22:50:54,581 - services.DepositService - INFO - []
2025-01-28 22:50:54,581 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:51:23 MSK)" executed successfully
INFO:     172.18.0.6:52118 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:54,764 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0581a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52132 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52148 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:54,864 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0580b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52154 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:44560 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44566 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44576 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:50:58,071 - main - ERROR - <starlette.requests.Request object at 0x7fee1f059250>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:44584 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:44588 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:59,885 - main - ERROR - <starlette.requests.Request object at 0x7fee202925d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:44592 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:44608 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:50:59,930 - main - ERROR - <starlette.requests.Request object at 0x7fee20293e90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:44612 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:51:02,733 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:51:02,733 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:51:02,733 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:51:23.695727+03:00 (in 20.961929 seconds)
2025-01-28 22:51:02,733 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:51:02 MSK], next run at: 2025-01-28 22:51:02 MSK)" (scheduled at 2025-01-28 22:51:02.732517+03:00)
2025-01-28 22:51:03,486 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:51:03,486 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:51:03,510 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:51:03,510 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:51:03,510 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:51:03,510 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:51:03,521 - services.BlockService - INFO - last completed block is 8272e9bb-be7b-4289-98c7-d6d080d712db (BlockStatus.COMPLETED)
2025-01-28 22:51:04,196 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:51:04,196 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:51:02 MSK], next run at: 2025-01-28 22:51:02 MSK)" executed successfully
2025-01-28 22:51:04,198 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:51:04,198 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:51:23.695727+03:00 (in 19.497287 seconds)
INFO:     172.18.0.6:44626 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:44640 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:51:04,993 - main - ERROR - <starlette.requests.Request object at 0x7fee204efb00>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50138 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:10,095 - main - ERROR - <starlette.requests.Request object at 0x7fee204ec530>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50146 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50154 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:15,182 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0cbe30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50162 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40746 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40748 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:20,481 - main - ERROR - <starlette.requests.Request object at 0x7fee204edac0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40750 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:51:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:51:23,696 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:51:53.695727+03:00 (in 29.999069 seconds)
2025-01-28 22:51:23,696 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:51:53 MSK)" (scheduled at 2025-01-28 22:51:23.695727+03:00)
2025-01-28 22:51:23,696 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:51:23,706 - services.DepositService - INFO - wallet
2025-01-28 22:51:23,706 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:51:23,960 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:51:23,962 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:51:23,962 - services.DepositService - INFO - transactions
2025-01-28 22:51:23,962 - services.DepositService - INFO - []
2025-01-28 22:51:23,963 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:51:53 MSK)" executed successfully
INFO:     172.18.0.6:40762 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:25,596 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c86b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40778 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56882 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:30,696 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0cb9b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56890 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:56896 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:35,801 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0cbbc0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:56910 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41050 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41052 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:51:40,903 - main - ERROR - <starlette.requests.Request object at 0x7fee1f514290>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41054 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:45,992 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0cbf80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41066 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:58064 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:51,097 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c8cb0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:58066 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:51:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:51:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:52:23.695727+03:00 (in 29.998422 seconds)
2025-01-28 22:51:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:52:23 MSK)" (scheduled at 2025-01-28 22:51:53.695727+03:00)
2025-01-28 22:51:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:51:53,707 - services.DepositService - INFO - wallet
2025-01-28 22:51:53,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:51:53,933 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:51:53,935 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:51:53,935 - services.DepositService - INFO - transactions
2025-01-28 22:51:53,936 - services.DepositService - INFO - []
2025-01-28 22:51:53,936 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:52:23 MSK)" executed successfully
INFO:     172.18.0.6:58080 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:51:56,152 - main - ERROR - <starlette.requests.Request object at 0x7fee204ee8d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:58088 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57898 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:01,250 - main - ERROR - <starlette.requests.Request object at 0x7fee20269a90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57900 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57914 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57918 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:52:06,361 - main - ERROR - <starlette.requests.Request object at 0x7fee204ec320>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51866 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51876 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:52:11,430 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c8c50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51892 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:16,528 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c8e60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:51902 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:58456 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:21,637 - main - ERROR - <starlette.requests.Request object at 0x7fee20268a40>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:58462 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:52:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:52:23,696 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:52:34.195946+03:00 (in 10.499103 seconds)
2025-01-28 22:52:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:52:53 MSK)" (scheduled at 2025-01-28 22:52:23.695727+03:00)
2025-01-28 22:52:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:52:23,708 - services.DepositService - INFO - wallet
2025-01-28 22:52:23,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:52:23,963 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:52:23,965 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:52:23,965 - services.DepositService - INFO - transactions
2025-01-28 22:52:23,966 - services.DepositService - INFO - []
2025-01-28 22:52:23,966 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:52:53 MSK)" executed successfully
INFO:     172.18.0.6:46352 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:26,729 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c9640>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:46358 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:46374 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:31,836 - main - ERROR - <starlette.requests.Request object at 0x7fee204ef4a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:46382 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:52:34,196 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:52:34,197 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:52:34,197 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:52:53.695727+03:00 (in 19.498368 seconds)
2025-01-28 22:52:34,197 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:52:34 MSK], next run at: 2025-01-28 22:52:34 MSK)" (scheduled at 2025-01-28 22:52:34.195946+03:00)
2025-01-28 22:52:34,780 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:52:34,780 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:52:34,800 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:52:34,800 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:52:34,800 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:52:34,801 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:52:34,811 - services.BlockService - INFO - last completed block is a554c0bf-636a-438e-8b10-e7676be55cee (BlockStatus.COMPLETED)
2025-01-28 22:52:35,489 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:52:35,489 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:52:34 MSK], next run at: 2025-01-28 22:52:34 MSK)" executed successfully
2025-01-28 22:52:35,489 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:52:35,490 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:52:53.695727+03:00 (in 18.205697 seconds)
INFO:     172.18.0.6:38074 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:36,839 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeade20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38078 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38092 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:41,993 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeafd10>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38096 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35464 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:46,979 - main - ERROR - <starlette.requests.Request object at 0x7fee1f042b70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35476 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35492 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:35504 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:52:47,117 - main - ERROR - <starlette.requests.Request object at 0x7fee1f041b50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35510 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:52,078 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeaf080>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35524 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35536 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:52,249 - main - ERROR - <starlette.requests.Request object at 0x7fee1eead040>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35540 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:52:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:52:53,696 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:53:23.695727+03:00 (in 29.998895 seconds)
2025-01-28 22:52:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:53:23 MSK)" (scheduled at 2025-01-28 22:52:53.695727+03:00)
2025-01-28 22:52:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:52:53,706 - services.DepositService - INFO - wallet
2025-01-28 22:52:53,706 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:52:53,954 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:52:53,955 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:52:53,955 - services.DepositService - INFO - transactions
2025-01-28 22:52:53,955 - services.DepositService - INFO - []
2025-01-28 22:52:53,955 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:53:23 MSK)" executed successfully
INFO:     172.18.0.6:35236 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:57,205 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05aa20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35248 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35252 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:52:57,364 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeac230>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35264 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35268 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:02,305 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeac920>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35282 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:35286 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:02,495 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeaf590>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:35288 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57414 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:07,405 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05b9b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57416 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57432 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57448 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:53:07,624 - main - ERROR - <starlette.requests.Request object at 0x7fee1f041670>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57458 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:12,433 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0401a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:57466 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:57480 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:57488 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:53:12,657 - main - ERROR - <starlette.requests.Request object at 0x7fee1f059dc0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38792 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:17,543 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeaf470>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38794 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38806 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:17,778 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeaf530>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38814 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38826 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:22,591 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeac530>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38842 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:38844 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:22,815 - main - ERROR - <starlette.requests.Request object at 0x7fee20c25730>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:38850 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:53:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:53:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:53:53.695727+03:00 (in 29.997994 seconds)
2025-01-28 22:53:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:53:53 MSK)" (scheduled at 2025-01-28 22:53:23.695727+03:00)
2025-01-28 22:53:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:53:23,718 - services.DepositService - INFO - wallet
2025-01-28 22:53:23,719 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:53:25,724 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:53:25,725 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:53:25,725 - services.DepositService - INFO - transactions
2025-01-28 22:53:25,726 - services.DepositService - INFO - []
2025-01-28 22:53:25,726 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:53:53 MSK)" executed successfully
INFO:     172.18.0.6:52816 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:27,677 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeaf470>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52828 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52842 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:27,844 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05b590>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52852 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52858 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:32,713 - main - ERROR - <starlette.requests.Request object at 0x7fee1f043f20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52864 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52880 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:32,987 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed62a50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52888 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60978 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:37,748 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05b4d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60980 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60994 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:38,017 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeadaf0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32776 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:32790 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:42,908 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeac3b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32796 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:32806 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:43,170 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeac140>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32808 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:42060 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:48,176 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeaef00>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:42062 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:42066 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:48,313 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeafec0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:42070 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:42078 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:53,283 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05aa50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:42088 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:42098 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:53,443 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0590a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:42100 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:53:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:53:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:54:05.489173+03:00 (in 11.790614 seconds)
2025-01-28 22:53:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:54:23 MSK)" (scheduled at 2025-01-28 22:53:53.695727+03:00)
2025-01-28 22:53:53,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:53:53,710 - services.DepositService - INFO - wallet
2025-01-28 22:53:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:53:53,965 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:53:53,966 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:53:53,966 - services.DepositService - INFO - transactions
2025-01-28 22:53:53,966 - services.DepositService - INFO - []
2025-01-28 22:53:53,966 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:54:23 MSK)" executed successfully
INFO:     172.18.0.6:60826 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:58,381 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed62c60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60834 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60840 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:53:58,572 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05bc20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60844 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60848 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:03,479 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeae0f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60860 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60872 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:03,711 - main - ERROR - <starlette.requests.Request object at 0x7fee1eeaf740>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60886 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:54:05,490 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:54:05,491 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:54:05,491 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:54:23.695727+03:00 (in 18.204389 seconds)
2025-01-28 22:54:05,491 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:54:05 MSK], next run at: 2025-01-28 22:54:05 MSK)" (scheduled at 2025-01-28 22:54:05.489173+03:00)
2025-01-28 22:54:06,238 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:54:06,238 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:54:06,261 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:54:06,261 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:54:06,262 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:54:06,262 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:54:06,273 - services.BlockService - INFO - last completed block is 071caa1d-c898-43ff-827e-cf63ffd2997e (BlockStatus.COMPLETED)
2025-01-28 22:54:07,053 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:54:07,054 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:54:05 MSK], next run at: 2025-01-28 22:54:05 MSK)" executed successfully
2025-01-28 22:54:07,054 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:54:07,055 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:54:23.695727+03:00 (in 16.640624 seconds)
INFO:     172.18.0.6:49836 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:08,699 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52cfb0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49846 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49848 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:08,837 - main - ERROR - <starlette.requests.Request object at 0x7fee202933b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49850 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49862 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:13,830 - main - ERROR - <starlette.requests.Request object at 0x7fee20292000>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49866 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49878 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:13,968 - main - ERROR - <starlette.requests.Request object at 0x7fee20291520>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49890 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33058 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33062 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:54:18,939 - main - ERROR - <starlette.requests.Request object at 0x7fee20291040>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33072 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33082 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:19,111 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52eff0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33094 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:54:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:54:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:54:53.695727+03:00 (in 29.997547 seconds)
2025-01-28 22:54:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:54:53 MSK)" (scheduled at 2025-01-28 22:54:23.695727+03:00)
2025-01-28 22:54:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:54:23,708 - services.DepositService - INFO - wallet
2025-01-28 22:54:23,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:54:23,931 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:54:23,932 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:54:23,932 - services.DepositService - INFO - transactions
2025-01-28 22:54:23,933 - services.DepositService - INFO - []
2025-01-28 22:54:23,933 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:54:53 MSK)" executed successfully
INFO:     172.18.0.6:33096 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:24,024 - main - ERROR - <starlette.requests.Request object at 0x7fee1f789dc0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33102 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33104 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:24,247 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1ab590>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33110 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:36114 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:29,245 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52c8f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:36126 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:36140 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:29,479 - main - ERROR - <starlette.requests.Request object at 0x7fee20291cd0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:36144 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:36154 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:36170 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:54:34,386 - main - ERROR - <starlette.requests.Request object at 0x7fee20291520>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:36178 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:34,597 - main - ERROR - <starlette.requests.Request object at 0x7fee1f789820>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:36180 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45816 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:39,474 - main - ERROR - <starlette.requests.Request object at 0x7fee20291370>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45820 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45832 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:39,730 - main - ERROR - <starlette.requests.Request object at 0x7fee20293200>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45840 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45850 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:44,583 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52e660>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45864 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45872 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:44,858 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1aa060>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45882 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54366 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:49,679 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78aa80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54370 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54378 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:49,989 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1a8530>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54384 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:54:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:54:53,696 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:55:23.695727+03:00 (in 29.998857 seconds)
2025-01-28 22:54:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:55:23 MSK)" (scheduled at 2025-01-28 22:54:53.695727+03:00)
2025-01-28 22:54:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:54:53,709 - services.DepositService - INFO - wallet
2025-01-28 22:54:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:54:53,934 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:54:53,936 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:54:53,936 - services.DepositService - INFO - transactions
2025-01-28 22:54:53,936 - services.DepositService - INFO - []
2025-01-28 22:54:53,936 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:55:23 MSK)" executed successfully
INFO:     172.18.0.6:54398 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:54,776 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78a450>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54400 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54416 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:55,251 - main - ERROR - <starlette.requests.Request object at 0x7fee202930b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54420 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34460 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:54:59,876 - main - ERROR - <starlette.requests.Request object at 0x7fee20292c90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34462 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34464 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:00,390 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef80230>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34480 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34484 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:04,983 - main - ERROR - <starlette.requests.Request object at 0x7fee20292450>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34492 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34504 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:05,528 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52dbb0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34516 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43422 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:10,260 - main - ERROR - <starlette.requests.Request object at 0x7fee1f788500>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43430 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43440 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:10,735 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78be30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43448 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43464 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:15,423 - main - ERROR - <starlette.requests.Request object at 0x7fee1f1a8bf0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43466 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43472 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:16,098 - main - ERROR - <starlette.requests.Request object at 0x7fee1f78b230>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43488 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:58308 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:58318 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:55:20,524 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52c8c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:58332 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:21,194 - main - ERROR - <starlette.requests.Request object at 0x7fee202933e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:58346 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:55:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:55:23,696 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:55:37.053521+03:00 (in 13.356735 seconds)
2025-01-28 22:55:23,696 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:55:53 MSK)" (scheduled at 2025-01-28 22:55:23.695727+03:00)
2025-01-28 22:55:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:55:23,708 - services.DepositService - INFO - wallet
2025-01-28 22:55:23,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:55:23,976 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:55:23,978 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:55:23,978 - services.DepositService - INFO - transactions
2025-01-28 22:55:23,978 - services.DepositService - INFO - []
2025-01-28 22:55:23,978 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:55:53 MSK)" executed successfully
INFO:     172.18.0.6:58352 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:25,632 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef80650>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:58366 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:58380 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:26,323 - main - ERROR - <starlette.requests.Request object at 0x7fee20291a30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:58382 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33954 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:30,721 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52de20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33966 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33978 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:31,455 - main - ERROR - <starlette.requests.Request object at 0x7fee1f788a10>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33984 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33998 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34006 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:55:35,821 - main - ERROR - <starlette.requests.Request object at 0x7fee1f789e80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40124 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:36,594 - main - ERROR - <starlette.requests.Request object at 0x7fee1f788c80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40140 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:55:37,054 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:55:37,055 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:55:37,055 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:55:53.695727+03:00 (in 16.640471 seconds)
2025-01-28 22:55:37,055 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:55:37 MSK], next run at: 2025-01-28 22:55:37 MSK)" (scheduled at 2025-01-28 22:55:37.053521+03:00)
2025-01-28 22:55:37,796 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:55:37,797 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:55:37,817 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:55:37,818 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:55:37,818 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:55:37,819 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:55:37,831 - services.BlockService - INFO - last completed block is f16bad79-2336-409a-88bb-e5205692cc2b (BlockStatus.COMPLETED)
2025-01-28 22:55:38,593 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:55:38,594 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:55:37 MSK], next run at: 2025-01-28 22:55:37 MSK)" executed successfully
2025-01-28 22:55:38,595 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:55:38,595 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:55:53.695727+03:00 (in 15.099780 seconds)
INFO:     172.18.0.6:40144 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:40,917 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed67620>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40150 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40166 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:41,716 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed67770>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40172 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40176 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:40182 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:55:46,017 - main - ERROR - <starlette.requests.Request object at 0x7fee1e275430>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41358 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:46,848 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed66690>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41374 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41378 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:51,125 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed64f50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41380 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41390 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:51,980 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed66060>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41406 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:55:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:55:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:56:23.695727+03:00 (in 29.998386 seconds)
2025-01-28 22:55:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:56:23 MSK)" (scheduled at 2025-01-28 22:55:53.695727+03:00)
2025-01-28 22:55:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:55:53,708 - services.DepositService - INFO - wallet
2025-01-28 22:55:53,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:55:53,988 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:55:53,989 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:55:53,990 - services.DepositService - INFO - transactions
2025-01-28 22:55:53,990 - services.DepositService - INFO - []
2025-01-28 22:55:53,990 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:56:23 MSK)" executed successfully
INFO:     172.18.0.6:41418 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:56,221 - main - ERROR - <starlette.requests.Request object at 0x7fee1e2751c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41430 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37086 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:55:57,113 - main - ERROR - <starlette.requests.Request object at 0x7fee1e276030>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37100 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37102 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37108 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:56:01,320 - main - ERROR - <starlette.requests.Request object at 0x7fee1e275610>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37118 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:02,246 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed65130>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37132 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37134 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37148 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:56:06,398 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed65790>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40946 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:07,379 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed64c80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40952 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40960 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:11,503 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed663f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40962 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40976 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:12,506 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed679b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40984 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:40986 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:16,538 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed64890>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:40992 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52522 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52528 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:56:17,547 - main - ERROR - <starlette.requests.Request object at 0x7fee1e275be0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52544 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52556 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:56:21,634 - main - ERROR - <starlette.requests.Request object at 0x7fee1e2740b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52562 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:22,585 - main - ERROR - <starlette.requests.Request object at 0x7fee1e2745c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52568 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:56:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:56:23,699 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:56:53.695727+03:00 (in 29.996307 seconds)
2025-01-28 22:56:23,701 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:56:53 MSK)" (scheduled at 2025-01-28 22:56:23.695727+03:00)
2025-01-28 22:56:23,701 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:56:23,713 - services.DepositService - INFO - wallet
2025-01-28 22:56:23,713 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:56:23,951 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:56:23,952 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:56:23,953 - services.DepositService - INFO - transactions
2025-01-28 22:56:23,953 - services.DepositService - INFO - []
2025-01-28 22:56:23,953 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:56:53 MSK)" executed successfully
INFO:     172.18.0.6:34688 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:26,736 - main - ERROR - <starlette.requests.Request object at 0x7fee1f042ba0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34692 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34696 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:34704 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:56:27,714 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed64f20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34718 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:31,838 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed667b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34728 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:34732 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:32,849 - main - ERROR - <starlette.requests.Request object at 0x7fee204efe60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:34734 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:53850 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:37,017 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed650d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:53862 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:53876 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:37,989 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed66c60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:53888 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:53894 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:42,250 - main - ERROR - <starlette.requests.Request object at 0x7fee1e2757f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:53908 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:53922 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:43,126 - main - ERROR - <starlette.requests.Request object at 0x7fee1e2769c0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:53930 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33786 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:47,352 - main - ERROR - <starlette.requests.Request object at 0x7fee1e274350>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33796 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33800 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:48,268 - main - ERROR - <starlette.requests.Request object at 0x7fee1e275910>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33806 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33812 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:52,447 - main - ERROR - <starlette.requests.Request object at 0x7fee1f514860>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33814 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33824 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33828 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:56:53,381 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed65e80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
2025-01-28 22:56:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:56:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:57:08.593612+03:00 (in 14.895246 seconds)
2025-01-28 22:56:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:57:23 MSK)" (scheduled at 2025-01-28 22:56:53.695727+03:00)
2025-01-28 22:56:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:56:53,710 - services.DepositService - INFO - wallet
2025-01-28 22:56:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:56:53,939 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:56:53,940 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:56:53,941 - services.DepositService - INFO - transactions
2025-01-28 22:56:53,941 - services.DepositService - INFO - []
2025-01-28 22:56:53,941 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:57:23 MSK)" executed successfully
INFO:     172.18.0.6:42238 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:57,553 - main - ERROR - <starlette.requests.Request object at 0x7fee204ed6a0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:42254 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:42256 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:56:58,522 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed65d60>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:42260 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:42266 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:02,664 - main - ERROR - <starlette.requests.Request object at 0x7fee1f517d40>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:42280 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:42294 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:03,652 - main - ERROR - <starlette.requests.Request object at 0x7fee1e277650>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:42306 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49348 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:07,759 - main - ERROR - <starlette.requests.Request object at 0x7fee1e275bb0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49354 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:57:08,594 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:57:08,595 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:57:08,595 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:57:23.695727+03:00 (in 15.100575 seconds)
2025-01-28 22:57:08,595 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:57:08 MSK], next run at: 2025-01-28 22:57:08 MSK)" (scheduled at 2025-01-28 22:57:08.593612+03:00)
INFO:     172.18.0.6:49368 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:09,229 - main - ERROR - <starlette.requests.Request object at 0x7fee1ef80bf0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49372 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:57:09,236 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:57:09,236 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:57:09,255 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:57:09,255 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:57:09,255 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:57:09,256 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:57:09,265 - services.BlockService - INFO - last completed block is c830b033-6115-41ab-93f9-0983e804706d (BlockStatus.COMPLETED)
2025-01-28 22:57:09,921 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:57:09,921 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:57:08 MSK], next run at: 2025-01-28 22:57:08 MSK)" executed successfully
2025-01-28 22:57:09,922 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:57:09,922 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:57:23.695727+03:00 (in 13.773376 seconds)
INFO:     172.18.0.6:49374 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:12,861 - main - ERROR - <starlette.requests.Request object at 0x7fee1f043050>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49386 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49400 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49412 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:57:14,363 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed63560>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45088 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:18,188 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed60c80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45094 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45096 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:19,525 - main - ERROR - <starlette.requests.Request object at 0x7fee1f041e80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45108 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:45110 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:23,515 - main - ERROR - <starlette.requests.Request object at 0x7fee1f5149e0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45120 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:57:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:57:23,696 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:57:53.695727+03:00 (in 29.998914 seconds)
2025-01-28 22:57:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:57:53 MSK)" (scheduled at 2025-01-28 22:57:23.695727+03:00)
2025-01-28 22:57:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:57:23,706 - services.DepositService - INFO - wallet
2025-01-28 22:57:23,706 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:57:23,968 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:57:23,969 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:57:23,969 - services.DepositService - INFO - transactions
2025-01-28 22:57:23,969 - services.DepositService - INFO - []
2025-01-28 22:57:23,970 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:57:53 MSK)" executed successfully
INFO:     172.18.0.6:45124 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:24,679 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed60e90>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:45126 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60890 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:29,585 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec31c40>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60894 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60902 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:35,780 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec31eb0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60910 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43576 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:42,276 - main - ERROR - <starlette.requests.Request object at 0x7fee1f517590>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43590 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:43606 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:57:46,368 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed626f0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:43616 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:57:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:57:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:58:23.695727+03:00 (in 29.998025 seconds)
2025-01-28 22:57:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:58:23 MSK)" (scheduled at 2025-01-28 22:57:53.695727+03:00)
2025-01-28 22:57:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:57:53,709 - services.DepositService - INFO - wallet
2025-01-28 22:57:53,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:57:53,941 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:57:53,942 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:57:53,942 - services.DepositService - INFO - transactions
2025-01-28 22:57:53,942 - services.DepositService - INFO - []
2025-01-28 22:57:53,942 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:58:23 MSK)" executed successfully
INFO:     172.18.0.6:37598 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37608 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37616 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:57:58,735 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c8470>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37620 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37634 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37642 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37658 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:01,048 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed60500>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37668 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:37676 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37690 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:37702 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:04,079 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed62fc0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:37718 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50804 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50816 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50824 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:07,059 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec30f50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50836 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50846 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50860 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50874 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:10,069 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0cac00>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50878 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50886 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50898 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50912 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:13,074 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed603b0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50916 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:50930 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50936 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:50946 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:16,047 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed60980>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:50950 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49240 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49252 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49258 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:18,144 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c87d0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49272 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49288 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49302 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49318 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:22,061 - main - ERROR - <starlette.requests.Request object at 0x7fee1f040290>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49328 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:49334 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:49336 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:23,175 - main - ERROR - <starlette.requests.Request object at 0x7fee1ed61c70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:49352 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:58:23,698 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:58:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:58:39.921309+03:00 (in 16.222502 seconds)
2025-01-28 22:58:23,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:58:53 MSK)" (scheduled at 2025-01-28 22:58:23.695727+03:00)
2025-01-28 22:58:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:58:23,713 - services.DepositService - INFO - wallet
2025-01-28 22:58:23,713 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:58:24,635 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:58:24,637 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:58:24,637 - services.DepositService - INFO - transactions
2025-01-28 22:58:24,637 - services.DepositService - INFO - []
2025-01-28 22:58:24,637 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:58:53 MSK)" executed successfully
INFO:     172.18.0.6:33926 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33942 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33952 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:28,153 - main - ERROR - <starlette.requests.Request object at 0x7fee1ec33d70>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33968 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:33976 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33980 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:33988 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:34,075 - main - ERROR - <starlette.requests.Request object at 0x7fee1f0c8f80>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:33994 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:58:39,922 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:58:39,922 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 22:58:39,922 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:58:53.695727+03:00 (in 13.772885 seconds)
2025-01-28 22:58:39,922 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:58:39 MSK], next run at: 2025-01-28 22:58:39 MSK)" (scheduled at 2025-01-28 22:58:39.921309+03:00)
INFO:     172.18.0.6:32850 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:32862 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:58:40,499 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:58:40,499 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:58:40,522 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 22:58:40,522 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 22:58:40,522 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 22:58:40,523 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 22:58:40,533 - services.BlockService - INFO - last completed block is d49cf43e-61b9-4c40-ab46-f5e7a90d8d20 (BlockStatus.COMPLETED)
INFO:     172.18.0.6:32864 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:40,544 - main - ERROR - <starlette.requests.Request object at 0x7fee1eead940>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:32878 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:58:41,247 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 22:58:41,247 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 22:58:39 MSK], next run at: 2025-01-28 22:58:39 MSK)" executed successfully
2025-01-28 22:58:41,248 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:58:41,248 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:58:53.695727+03:00 (in 12.447578 seconds)
INFO:     172.18.0.6:53718 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53732 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53740 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:53744 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:58:52,075 - main - ERROR - <starlette.requests.Request object at 0x7fee1f058230>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
2025-01-28 22:58:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:58:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:59:23.695727+03:00 (in 29.998523 seconds)
2025-01-28 22:58:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:59:23 MSK)" (scheduled at 2025-01-28 22:58:53.695727+03:00)
2025-01-28 22:58:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:58:53,708 - services.DepositService - INFO - wallet
2025-01-28 22:58:53,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:58:53,944 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:58:53,946 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:58:53,946 - services.DepositService - INFO - transactions
2025-01-28 22:58:53,946 - services.DepositService - INFO - []
2025-01-28 22:58:53,946 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:59:23 MSK)" executed successfully
INFO:     172.18.0.6:41262 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41274 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41278 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:58:58,070 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96ed20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41288 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:41298 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41304 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:41320 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:04,058 - main - ERROR - <starlette.requests.Request object at 0x7fee1f05b320>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:41330 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60708 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60716 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60722 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:10,170 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96e450>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60736 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:60738 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60740 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:60746 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:16,069 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96d310>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:60756 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54020 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54036 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54038 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:22,060 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96dd30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54054 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:59:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:59:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 22:59:53.695727+03:00 (in 29.998296 seconds)
2025-01-28 22:59:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:59:53 MSK)" (scheduled at 2025-01-28 22:59:23.695727+03:00)
2025-01-28 22:59:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 22:59:23,706 - services.DepositService - INFO - wallet
2025-01-28 22:59:23,706 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:59:23,957 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:59:23,958 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:59:23,959 - services.DepositService - INFO - transactions
2025-01-28 22:59:23,959 - services.DepositService - INFO - []
2025-01-28 22:59:23,959 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 22:59:53 MSK)" executed successfully
INFO:     172.18.0.6:48914 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48930 - "GET /user/info HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48938 - "GET /chain/time HTTP/1.0" 401 Unauthorized
2025-01-28 22:59:31,641 - routes.auth.tonconnect - ERROR - eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNjMyMDRkOS04Y2RiLTQ2M2ItYjVkYy0wNWE2YjZjMTJkNzMiLCJleHAiOjE3MzgwOTQ5NzEsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.j9WuI1-Rb6exAAp8Uox7z-ggWFFVFoZHnb1Q32mre_8
INFO:     172.18.0.6:48948 - "GET /auth/payload HTTP/1.0" 200 OK
INFO:     172.18.0.6:48958 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:31,750 - main - ERROR - <starlette.requests.Request object at 0x7fee1f059250>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48960 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:48968 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48984 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:48990 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:35,436 - main - ERROR - <starlette.requests.Request object at 0x7fee1e14ff50>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:48992 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54436 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54442 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54446 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:36,932 - main - ERROR - <starlette.requests.Request object at 0x7fee1f058e30>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54452 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54468 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54474 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54488 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:41,347 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96ddc0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54494 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:54500 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54516 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:54522 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:42,351 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52e750>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:54534 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52968 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52984 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:52988 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:47,251 - main - ERROR - <starlette.requests.Request object at 0x7fee1f52ed20>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:52992 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:52996 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53004 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53014 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:48,542 - main - ERROR - <starlette.requests.Request object at 0x7fee1e96efc0>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:53030 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:53046 - "OPTIONS /auth/verify_payload HTTP/1.0" 200 OK
2025-01-28 22:59:50,863 - domain.tonconnect.requests - DEBUG - workchain is 0
2025-01-28 22:59:50,863 - domain.tonconnect.requests - DEBUG - address bytes is e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2 b'\xe3\xbb\xa2\xdd)\xd6u}7\xfa4.R\x04\xaaM7\x89\xed\xfe\x00\xd1V\x8d">9{Un\xe1\xc2'
2025-01-28 22:59:50,866 - services.ton.tonconnect.TonProofService - DEBUG - {'request': {'address': '0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2', 'network': '-239', 'public_key': '687235ce9b3bb614ed53fbcda86be0d9181fa89a063e27a5511fee4f72b2a753', 'proof': {'timestamp': 1738094388, 'domain': {'length_bytes': 21, 'value': 'ab328c6h7.duckdns.org'}, 'signature': 'Lt/jgX3Nb4EFLREKKmZ0T9neAaL3GcMU8Ct+82gK5jI5cm4WER82XAqvd4PsGAx3z2Gk8e2hPQOfmCeglBXOCg==', 'payload': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNjMyMDRkOS04Y2RiLTQ2M2ItYjVkYy0wNWE2YjZjMTJkNzMiLCJleHAiOjE3MzgwOTQ5NzEsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.j9WuI1-Rb6exAAp8Uox7z-ggWFFVFoZHnb1Q32mre_8', 'state_init': 'te6cckECFgEAArEAAgE0ARUBFP8A9KQT9LzyyAsCAgEgAw4CAUgEBQLc0CDXScEgkVuPYyDXCx8gghBleHRuvSGCEHNpbnS9sJJfA+CCEGV4dG66jrSAINchAdB01yH6QDD6RPgo+kQwWL2RW+DtRNCBAUHXIfQFgwf0Dm+hMZEw4YBA1yFwf9s84DEg10mBAoC5kTDgcOIREAIBIAYNAgEgBwoCAW4ICQAZrc52omhAIOuQ64X/wAAZrx32omhAEOuQ64WPwAIBSAsMABezJftRNBx1yHXCx+AAEbJi+1E0NcKAIAAZvl8PaiaECAoOuQ+gLAEC8g8BHiDXCx+CEHNpZ2668uCKfxAB5o7w7aLt+yGDCNciAoMI1yMggCDXIdMf0x/TH+1E0NIA0x8g0x/T/9cKAAr5AUDM+RCaKJRfCtsx4fLAh98Cs1AHsPLQhFEluvLghVA2uvLghvgju/LQiCKS+ADeAaR/yMoAyx8BzxbJ7VQgkvgP3nDbPNgRA/btou37AvQEIW6SbCGOTAIh1zkwcJQhxwCzji0B1yggdh5DbCDXScAI8uCTINdKwALy4JMg1x0GxxLCAFIwsPLQiddM1zkwAaTobBKEB7vy4JPXSsAA8uCT7VXi0gABwACRW+Dr1ywIFCCRcJYB1ywIHBLiUhCx4w8g10oSExQAlgH6QAH6RPgo+kQwWLry4JHtRNCBAUHXGPQFBJ1/yMoAQASDB/RT8uCLjhQDgwf0W/LgjCLXCgAhbgGzsPLQkOLIUAPPFhL0AMntVAByMNcsCCSOLSHy4JLSAO1E0NIAURO68tCPVFAwkTGcAYEBQNch1woA8uCO4sjKAFjPFsntVJPywI3iABCTW9sx4ddM0ABRgAAAAD///4i0ORrnTZ3bCnap/ebUNfBsjA/UTQMfE9Koj/cnuVlTqaAxbhqL'}}, 'address_bytes': 'e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2', 'workchain': 0, 'init_state': {'code': <Cell 80[FF00F4A413F4BCF2C80B] -> 1 refs>, 'data': <Cell 322[800000003FFFFF88B4391AE74D9DDB0A76A9FDE6D435F06C8C0FD44D031F13D2A88FF727B95953A980] -> 0 refs>, 'split_depth': None, 'special': None, 'libraries': None}, 'data': '322[800000003FFFFF88B4391AE74D9DDB0A76A9FDE6D435F06C8C0FD44D031F13D2A88FF727B95953A980]', 'code': 'te6ccgECFAEAAoEAART/APSkE/S88sgLAQIBIAINAgFIAwQC3NAg10nBIJFbj2Mg1wsfIIIQZXh0br0hghBzaW50vbCSXwPgghBleHRuuo60gCDXIQHQdNch+kAw+kT4KPpEMFi9kVvg7UTQgQFB1yH0BYMH9A5voTGRMOGAQNchcH/bPOAxINdJgQKAuZEw4HDiEA8CASAFDAIBIAYJAgFuBwgAGa3OdqJoQCDrkOuF/8AAGa8d9qJoQBDrkOuFj8ACAUgKCwAXsyX7UTQcdch1wsfgABGyYvtRNDXCgCAAGb5fD2omhAgKDrkPoCwBAvIOAR4g1wsfghBzaWduuvLgin8PAeaO8O2i7fshgwjXIgKDCNcjIIAg1yHTH9Mf0x/tRNDSANMfINMf0//XCgAK+QFAzPkQmiiUXwrbMeHywIffArNQB7Dy0IRRJbry4IVQNrry4Ib4I7vy0IgikvgA3gGkf8jKAMsfAc8Wye1UIJL4D95w2zzYEAP27aLt+wL0BCFukmwhjkwCIdc5MHCUIccAs44tAdcoIHYeQ2wg10nACPLgkyDXSsAC8uCTINcdBscSwgBSMLDy0InXTNc5MAGk6GwShAe78uCT10rAAPLgk+1V4tIAAcAAkVvg69csCBQgkXCWAdcsCBwS4lIQseMPINdKERITAJYB+kAB+kT4KPpEMFi68uCR7UTQgQFB1xj0BQSdf8jKAEAEgwf0U/Lgi44UA4MH9Fvy4Iwi1woAIW4Bs7Dy0JDiyFADzxYS9ADJ7VQAcjDXLAgkji0h8uCS0gDtRNDSAFETuvLQj1RQMJExnAGBAUDXIdcKAPLgjuLIygBYzxbJ7VST8sCN4gAQk1vbMeHXTNA='}
2025-01-28 22:59:50,866 - services.ton.known_wallets - ERROR - Failed to parse wallet publicKey for unknown code: te6ccgECFAEAAoEAART/APSkE/S88sgLAQIBIAINAgFIAwQC3NAg10nBIJFbj2Mg1wsfIIIQZXh0br0hghBzaW50vbCSXwPgghBleHRuuo60gCDXIQHQdNch+kAw+kT4KPpEMFi9kVvg7UTQgQFB1yH0BYMH9A5voTGRMOGAQNchcH/bPOAxINdJgQKAuZEw4HDiEA8CASAFDAIBIAYJAgFuBwgAGa3OdqJoQCDrkOuF/8AAGa8d9qJoQBDrkOuFj8ACAUgKCwAXsyX7UTQcdch1wsfgABGyYvtRNDXCgCAAGb5fD2omhAgKDrkPoCwBAvIOAR4g1wsfghBzaWduuvLgin8PAeaO8O2i7fshgwjXIgKDCNcjIIAg1yHTH9Mf0x/tRNDSANMfINMf0//XCgAK+QFAzPkQmiiUXwrbMeHywIffArNQB7Dy0IRRJbry4IVQNrry4Ib4I7vy0IgikvgA3gGkf8jKAMsfAc8Wye1UIJL4D95w2zzYEAP27aLt+wL0BCFukmwhjkwCIdc5MHCUIccAs44tAdcoIHYeQ2wg10nACPLgkyDXSsAC8uCTINcdBscSwgBSMLDy0InXTNc5MAGk6GwShAe78uCT10rAAPLgk+1V4tIAAcAAkVvg69csCBQgkXCWAdcsCBwS4lIQseMPINdKERITAJYB+kAB+kT4KPpEMFi68uCR7UTQgQFB1xj0BQSdf8jKAEAEgwf0U/Lgi44UA4MH9Fvy4Iwi1woAIW4Bs7Dy0JDiyFADzxYS9ADJ7VQAcjDXLAgkji0h8uCS0gDtRNDSAFETuvLQj1RQMJExnAGBAUDXIdcKAPLgjuLIygBYzxbJ7VST8sCN4gAQk1vbMeHXTNA=
2025-01-28 22:59:50,866 - services.ton.tonconnect.TonProofService - ERROR - Wallet cannot be parsed from boc for 0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2, calling provider (API)
2025-01-28 22:59:51,104 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/accounts/0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2/publickey "HTTP/1.1 200 OK"
2025-01-28 22:59:51,105 - services.ton.tonconnect.TonProofService - INFO - Provider call for address 0:e3bba2dd29d6757d37fa342e5204aa4d3789edfe00d1568d223e397b556ee1c2 is successful
2025-01-28 22:59:53,783 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 22:59:53,783 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:00:11.247321+03:00 (in 17.463933 seconds)
2025-01-28 22:59:53,783 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:00:23 MSK)" (scheduled at 2025-01-28 22:59:53.695727+03:00)
2025-01-28 22:59:53,783 - services.DepositService - INFO - check_users_transactions
INFO:     172.18.0.6:53060 - "GET /pair HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53076 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53088 - "GET /pair HTTP/1.0" 401 Unauthorized
2025-01-28 22:59:54,027 - services.TokenService - ERROR - creating 2025-01-28 20:01:54.027413+00:00
INFO:     172.18.0.6:53048 - "POST /auth/verify_payload HTTP/1.0" 200 OK
INFO:     172.18.0.6:53104 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:53116 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:53120 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 22:59:54,034 - services.DepositService - INFO - wallet
2025-01-28 22:59:54,034 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 22:59:54,194 - main - ERROR - <starlette.requests.Request object at 0x7fee1e14e600>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
2025-01-28 22:59:54,195 - main - ERROR - <starlette.requests.Request object at 0x7fee1e14d730>: [{'type': 'missing', 'loc': ('header', 'X-Refresh-Token'), 'msg': 'Field required', 'input': None}]
INFO:     172.18.0.6:53126 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
INFO:     172.18.0.6:53140 - "POST /auth/refresh HTTP/1.0" 422 Unprocessable Entity
2025-01-28 22:59:54,280 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 22:59:54,281 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 22:59:54,281 - services.DepositService - INFO - transactions
2025-01-28 22:59:54,281 - services.DepositService - INFO - []
2025-01-28 22:59:54,281 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:00:23 MSK)" executed successfully
INFO:     172.18.0.6:53146 - "OPTIONS /user/info HTTP/1.0" 200 OK
INFO:     172.18.0.6:53152 - "OPTIONS /user/info HTTP/1.0" 200 OK
INFO:     172.18.0.6:47360 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:47374 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:47376 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:47382 - "OPTIONS /pair HTTP/1.0" 200 OK
INFO:     172.18.0.6:53162 - "GET /user/info HTTP/1.0" 200 OK
2025-01-28 23:00:11,950 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:00:11,951 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:00:11,951 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:00:23.695727+03:00 (in 11.744162 seconds)
2025-01-28 23:00:11,985 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:00:11 MSK], next run at: 2025-01-28 23:00:11 MSK)" (scheduled at 2025-01-28 23:00:11.247321+03:00)
INFO:     172.18.0.6:53156 - "GET /user/info HTTP/1.0" 200 OK
INFO:     172.18.0.6:47412 - "GET /pair HTTP/1.0" 200 OK
2025-01-28 23:00:24,977 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:00:24,978 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:00:53.695727+03:00 (in 28.717159 seconds)
2025-01-28 23:00:24,992 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:00:53 MSK)" (scheduled at 2025-01-28 23:00:23.695727+03:00)
2025-01-28 23:00:24,992 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:00:25,978 - services.DepositService - INFO - wallet
2025-01-28 23:00:25,978 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
INFO:     172.18.0.6:47404 - "GET /pair HTTP/1.0" 200 OK
2025-01-28 23:00:26,038 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:00:26,038 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:00:26,060 - routes.chain - INFO - res: block_id=UUID('783125f4-29e0-46fd-99e9-aaf4a3b0ff88') server_time=datetime.datetime(2025, 1, 28, 23, 0, 26, 60107) current_block=12830 remaining_time_in_block=0
INFO:     172.18.0.6:47388 - "GET /chain/time HTTP/1.0" 200 OK
2025-01-28 23:00:26,062 - routes.chain - INFO - res: block_id=UUID('783125f4-29e0-46fd-99e9-aaf4a3b0ff88') server_time=datetime.datetime(2025, 1, 28, 23, 0, 26, 62490) current_block=12830 remaining_time_in_block=0
INFO:     172.18.0.6:47402 - "GET /chain/time HTTP/1.0" 200 OK
2025-01-28 23:00:26,091 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:00:26,091 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:00:26,091 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:00:26,091 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:00:26,105 - services.BlockService - INFO - last completed block is 783125f4-29e0-46fd-99e9-aaf4a3b0ff88 (BlockStatus.COMPLETED)
2025-01-28 23:00:26,199 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:00:26,229 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:00:26,229 - services.DepositService - INFO - transactions
2025-01-28 23:00:26,229 - services.DepositService - INFO - []
2025-01-28 23:00:26,229 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:00:53 MSK)" executed successfully
2025-01-28 23:00:26,724 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:00:26,724 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:00:11 MSK], next run at: 2025-01-28 23:00:11 MSK)" executed successfully
2025-01-28 23:00:26,724 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:00:26,724 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:00:53.695727+03:00 (in 26.970824 seconds)
INFO:     172.18.0.6:44090 - "OPTIONS /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:44104 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 23:00:37,639 - routes.chain - INFO - res: block_id=UUID('14213076-8b94-44a0-a3c9-23e1174888bc') server_time=datetime.datetime(2025, 1, 28, 23, 0, 37, 639670) current_block=12831 remaining_time_in_block=78
INFO:     172.18.0.6:44100 - "GET /chain/time HTTP/1.0" 200 OK
INFO:     172.18.0.6:55316 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 23:00:38,401 - routes.chain - INFO - res: block_id=UUID('14213076-8b94-44a0-a3c9-23e1174888bc') server_time=datetime.datetime(2025, 1, 28, 23, 0, 38, 401569) current_block=12831 remaining_time_in_block=77
INFO:     172.18.0.6:44112 - "GET /chain/time HTTP/1.0" 200 OK
2025-01-28 23:00:42,428 - routes.chain - INFO - res: block_id=UUID('14213076-8b94-44a0-a3c9-23e1174888bc') server_time=datetime.datetime(2025, 1, 28, 23, 0, 42, 428488) current_block=12831 remaining_time_in_block=73
INFO:     172.18.0.6:55318 - "GET /chain/time HTTP/1.0" 200 OK
2025-01-28 23:00:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:00:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:01:23.695727+03:00 (in 29.998549 seconds)
2025-01-28 23:00:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:01:23 MSK)" (scheduled at 2025-01-28 23:00:53.695727+03:00)
2025-01-28 23:00:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:00:53,723 - services.DepositService - INFO - wallet
2025-01-28 23:00:53,723 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:00:53,968 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:00:53,969 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:00:53,969 - services.DepositService - INFO - transactions
2025-01-28 23:00:53,970 - services.DepositService - INFO - []
2025-01-28 23:00:53,970 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:01:23 MSK)" executed successfully
2025-01-28 23:01:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:01:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:01:53.695727+03:00 (in 29.998508 seconds)
2025-01-28 23:01:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:01:53 MSK)" (scheduled at 2025-01-28 23:01:23.695727+03:00)
2025-01-28 23:01:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:01:23,708 - services.DepositService - INFO - wallet
2025-01-28 23:01:23,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:01:23,963 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:01:23,965 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:01:23,965 - services.DepositService - INFO - transactions
2025-01-28 23:01:23,965 - services.DepositService - INFO - []
2025-01-28 23:01:23,965 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:01:53 MSK)" executed successfully
2025-01-28 23:01:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:01:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:01:56.723913+03:00 (in 3.025725 seconds)
2025-01-28 23:01:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:02:23 MSK)" (scheduled at 2025-01-28 23:01:53.695727+03:00)
2025-01-28 23:01:53,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:01:53,727 - services.DepositService - INFO - wallet
2025-01-28 23:01:53,727 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:01:53,930 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:01:53,932 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:01:53,932 - services.DepositService - INFO - transactions
2025-01-28 23:01:53,932 - services.DepositService - INFO - []
2025-01-28 23:01:53,932 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:02:23 MSK)" executed successfully
2025-01-28 23:01:56,724 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:01:56,725 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:01:56,725 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:02:23.695727+03:00 (in 26.970530 seconds)
2025-01-28 23:01:56,725 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:01:56 MSK], next run at: 2025-01-28 23:01:56 MSK)" (scheduled at 2025-01-28 23:01:56.723913+03:00)
2025-01-28 23:01:57,530 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:01:57,531 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:01:57,556 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:01:57,556 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:01:57,556 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:01:57,556 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:01:57,572 - services.BlockService - INFO - last completed block is 14213076-8b94-44a0-a3c9-23e1174888bc (BlockStatus.COMPLETED)
2025-01-28 23:01:58,321 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:01:58,321 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:01:56 MSK], next run at: 2025-01-28 23:01:56 MSK)" executed successfully
2025-01-28 23:01:58,321 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:01:58,322 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:02:23.695727+03:00 (in 25.373701 seconds)
2025-01-28 23:02:23,698 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:02:23,699 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:02:53.695727+03:00 (in 29.996741 seconds)
2025-01-28 23:02:23,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:02:53 MSK)" (scheduled at 2025-01-28 23:02:23.695727+03:00)
2025-01-28 23:02:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:02:23,709 - services.DepositService - INFO - wallet
2025-01-28 23:02:23,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:02:23,930 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:02:23,932 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:02:23,932 - services.DepositService - INFO - transactions
2025-01-28 23:02:23,932 - services.DepositService - INFO - []
2025-01-28 23:02:23,932 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:02:53 MSK)" executed successfully
2025-01-28 23:02:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:02:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:03:23.695727+03:00 (in 29.998250 seconds)
2025-01-28 23:02:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:03:23 MSK)" (scheduled at 2025-01-28 23:02:53.695727+03:00)
2025-01-28 23:02:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:02:53,709 - services.DepositService - INFO - wallet
2025-01-28 23:02:53,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:02:53,899 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:02:53,900 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:02:53,900 - services.DepositService - INFO - transactions
2025-01-28 23:02:53,900 - services.DepositService - INFO - []
2025-01-28 23:02:53,900 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:03:23 MSK)" executed successfully
2025-01-28 23:03:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:03:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:03:28.321140+03:00 (in 4.623611 seconds)
2025-01-28 23:03:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:03:53 MSK)" (scheduled at 2025-01-28 23:03:23.695727+03:00)
2025-01-28 23:03:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:03:23,708 - services.DepositService - INFO - wallet
2025-01-28 23:03:23,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:03:23,938 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:03:23,940 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:03:23,940 - services.DepositService - INFO - transactions
2025-01-28 23:03:23,940 - services.DepositService - INFO - []
2025-01-28 23:03:23,941 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:03:53 MSK)" executed successfully
2025-01-28 23:03:28,321 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:03:28,322 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:03:28,322 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:03:53.695727+03:00 (in 25.373427 seconds)
2025-01-28 23:03:28,322 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:03:28 MSK], next run at: 2025-01-28 23:03:28 MSK)" (scheduled at 2025-01-28 23:03:28.321140+03:00)
2025-01-28 23:03:29,114 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:03:29,114 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:03:29,135 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:03:29,136 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:03:29,136 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:03:29,136 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:03:29,148 - services.BlockService - INFO - last completed block is 20f08225-3671-436b-bd56-4bcd2699bacc (BlockStatus.COMPLETED)
2025-01-28 23:03:29,755 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:03:29,755 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:03:28 MSK], next run at: 2025-01-28 23:03:28 MSK)" executed successfully
2025-01-28 23:03:29,755 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:03:29,756 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:03:53.695727+03:00 (in 23.939698 seconds)
2025-01-28 23:03:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:03:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:04:23.695727+03:00 (in 29.997967 seconds)
2025-01-28 23:03:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:04:23 MSK)" (scheduled at 2025-01-28 23:03:53.695727+03:00)
2025-01-28 23:03:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:03:53,709 - services.DepositService - INFO - wallet
2025-01-28 23:03:53,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:03:53,959 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:03:53,960 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:03:53,960 - services.DepositService - INFO - transactions
2025-01-28 23:03:53,960 - services.DepositService - INFO - []
2025-01-28 23:03:53,960 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:04:23 MSK)" executed successfully
2025-01-28 23:04:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:04:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:04:53.695727+03:00 (in 29.997584 seconds)
2025-01-28 23:04:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:04:53 MSK)" (scheduled at 2025-01-28 23:04:23.695727+03:00)
2025-01-28 23:04:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:04:23,710 - services.DepositService - INFO - wallet
2025-01-28 23:04:23,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:04:23,905 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:04:23,906 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:04:23,906 - services.DepositService - INFO - transactions
2025-01-28 23:04:23,906 - services.DepositService - INFO - []
2025-01-28 23:04:23,906 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:04:53 MSK)" executed successfully
WARNING:  Invalid HTTP request received.
2025-01-28 23:04:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:04:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:04:59.754951+03:00 (in 6.057646 seconds)
2025-01-28 23:04:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:05:23 MSK)" (scheduled at 2025-01-28 23:04:53.695727+03:00)
2025-01-28 23:04:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:04:53,711 - services.DepositService - INFO - wallet
2025-01-28 23:04:53,711 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:04:54,649 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:04:54,650 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:04:54,650 - services.DepositService - INFO - transactions
2025-01-28 23:04:54,650 - services.DepositService - INFO - []
2025-01-28 23:04:54,650 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:05:23 MSK)" executed successfully
2025-01-28 23:04:59,756 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:04:59,756 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:04:59,756 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:05:23.695727+03:00 (in 23.939066 seconds)
2025-01-28 23:04:59,756 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:04:59 MSK], next run at: 2025-01-28 23:04:59 MSK)" (scheduled at 2025-01-28 23:04:59.754951+03:00)
2025-01-28 23:05:00,573 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:05:00,573 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:05:00,596 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:05:00,596 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:05:00,596 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:05:00,596 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:05:00,607 - services.BlockService - INFO - last completed block is 2c3c6a7b-d021-4c80-b831-3f7b92f6c37e (BlockStatus.COMPLETED)
2025-01-28 23:05:01,408 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:05:01,408 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:04:59 MSK], next run at: 2025-01-28 23:04:59 MSK)" executed successfully
2025-01-28 23:05:01,408 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:05:01,409 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:05:23.695727+03:00 (in 22.286731 seconds)
2025-01-28 23:05:23,698 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:05:23,699 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:05:53.695727+03:00 (in 29.996563 seconds)
2025-01-28 23:05:23,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:05:53 MSK)" (scheduled at 2025-01-28 23:05:23.695727+03:00)
2025-01-28 23:05:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:05:23,712 - services.DepositService - INFO - wallet
2025-01-28 23:05:23,712 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:05:23,986 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:05:23,988 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:05:23,988 - services.DepositService - INFO - transactions
2025-01-28 23:05:23,988 - services.DepositService - INFO - []
2025-01-28 23:05:23,988 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:05:53 MSK)" executed successfully
2025-01-28 23:05:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:05:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:06:23.695727+03:00 (in 29.997568 seconds)
2025-01-28 23:05:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:06:23 MSK)" (scheduled at 2025-01-28 23:05:53.695727+03:00)
2025-01-28 23:05:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:05:53,708 - services.DepositService - INFO - wallet
2025-01-28 23:05:53,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:05:53,926 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:05:53,927 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:05:53,927 - services.DepositService - INFO - transactions
2025-01-28 23:05:53,927 - services.DepositService - INFO - []
2025-01-28 23:05:53,927 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:06:23 MSK)" executed successfully
2025-01-28 23:06:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:06:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:06:31.408298+03:00 (in 7.710180 seconds)
2025-01-28 23:06:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:06:53 MSK)" (scheduled at 2025-01-28 23:06:23.695727+03:00)
2025-01-28 23:06:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:06:23,712 - services.DepositService - INFO - wallet
2025-01-28 23:06:23,712 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:06:26,855 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:06:26,856 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:06:26,856 - services.DepositService - INFO - transactions
2025-01-28 23:06:26,856 - services.DepositService - INFO - []
2025-01-28 23:06:26,856 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:06:53 MSK)" executed successfully
2025-01-28 23:06:31,409 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:06:31,410 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:06:31,411 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:06:53.695727+03:00 (in 22.284612 seconds)
2025-01-28 23:06:31,411 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:06:31 MSK], next run at: 2025-01-28 23:06:31 MSK)" (scheduled at 2025-01-28 23:06:31.408298+03:00)
2025-01-28 23:06:32,237 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:06:32,237 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:06:32,259 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:06:32,259 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:06:32,259 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:06:32,259 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:06:32,269 - services.BlockService - INFO - last completed block is 6c12e644-7770-4578-9229-21ef06aeaf5f (BlockStatus.COMPLETED)
2025-01-28 23:06:32,996 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:06:32,996 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:06:31 MSK], next run at: 2025-01-28 23:06:31 MSK)" executed successfully
2025-01-28 23:06:32,997 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:06:32,997 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:06:53.695727+03:00 (in 20.698552 seconds)
2025-01-28 23:06:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:06:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:07:23.695727+03:00 (in 29.998659 seconds)
2025-01-28 23:06:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:07:23 MSK)" (scheduled at 2025-01-28 23:06:53.695727+03:00)
2025-01-28 23:06:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:06:53,707 - services.DepositService - INFO - wallet
2025-01-28 23:06:53,707 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:06:54,021 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:06:54,022 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:06:54,022 - services.DepositService - INFO - transactions
2025-01-28 23:06:54,022 - services.DepositService - INFO - []
2025-01-28 23:06:54,022 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:07:23 MSK)" executed successfully
2025-01-28 23:07:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:07:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:07:53.695727+03:00 (in 29.997502 seconds)
2025-01-28 23:07:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:07:53 MSK)" (scheduled at 2025-01-28 23:07:23.695727+03:00)
2025-01-28 23:07:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:07:23,711 - services.DepositService - INFO - wallet
2025-01-28 23:07:23,711 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:07:23,939 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:07:23,940 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:07:23,940 - services.DepositService - INFO - transactions
2025-01-28 23:07:23,940 - services.DepositService - INFO - []
2025-01-28 23:07:23,940 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:07:53 MSK)" executed successfully
2025-01-28 23:07:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:07:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:08:02.996173+03:00 (in 9.298640 seconds)
2025-01-28 23:07:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:08:23 MSK)" (scheduled at 2025-01-28 23:07:53.695727+03:00)
2025-01-28 23:07:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:07:53,707 - services.DepositService - INFO - wallet
2025-01-28 23:07:53,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:07:53,975 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:07:53,976 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:07:53,976 - services.DepositService - INFO - transactions
2025-01-28 23:07:53,976 - services.DepositService - INFO - []
2025-01-28 23:07:53,976 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:08:23 MSK)" executed successfully
2025-01-28 23:08:02,997 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:08:02,997 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:08:02,997 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:08:23.695727+03:00 (in 20.698068 seconds)
2025-01-28 23:08:02,997 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:08:02 MSK], next run at: 2025-01-28 23:08:02 MSK)" (scheduled at 2025-01-28 23:08:02.996173+03:00)
2025-01-28 23:08:03,917 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:08:03,917 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:08:03,944 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:08:03,944 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:08:03,944 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:08:03,944 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:08:03,956 - services.BlockService - INFO - last completed block is 71e1e6b1-b1d7-4c7d-82ae-71cf0e27d641 (BlockStatus.COMPLETED)
2025-01-28 23:08:04,627 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:08:04,627 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:08:02 MSK], next run at: 2025-01-28 23:08:02 MSK)" executed successfully
2025-01-28 23:08:04,627 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:08:04,627 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:08:23.695727+03:00 (in 19.067804 seconds)
2025-01-28 23:08:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:08:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:08:53.695727+03:00 (in 29.997613 seconds)
2025-01-28 23:08:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:08:53 MSK)" (scheduled at 2025-01-28 23:08:23.695727+03:00)
2025-01-28 23:08:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:08:23,707 - services.DepositService - INFO - wallet
2025-01-28 23:08:23,707 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:08:24,407 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:08:24,408 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:08:24,409 - services.DepositService - INFO - transactions
2025-01-28 23:08:24,409 - services.DepositService - INFO - []
2025-01-28 23:08:24,409 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:08:53 MSK)" executed successfully
2025-01-28 23:08:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:08:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:09:23.695727+03:00 (in 29.997424 seconds)
2025-01-28 23:08:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:09:23 MSK)" (scheduled at 2025-01-28 23:08:53.695727+03:00)
2025-01-28 23:08:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:08:53,711 - services.DepositService - INFO - wallet
2025-01-28 23:08:53,711 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:08:53,943 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:08:53,944 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:08:53,944 - services.DepositService - INFO - transactions
2025-01-28 23:08:53,944 - services.DepositService - INFO - []
2025-01-28 23:08:53,944 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:09:23 MSK)" executed successfully
2025-01-28 23:09:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:09:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:09:34.627124+03:00 (in 10.929137 seconds)
2025-01-28 23:09:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:09:53 MSK)" (scheduled at 2025-01-28 23:09:23.695727+03:00)
2025-01-28 23:09:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:09:23,712 - services.DepositService - INFO - wallet
2025-01-28 23:09:23,712 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:09:23,992 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:09:23,993 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:09:23,994 - services.DepositService - INFO - transactions
2025-01-28 23:09:23,994 - services.DepositService - INFO - []
2025-01-28 23:09:23,994 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:09:53 MSK)" executed successfully
2025-01-28 23:09:34,627 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:09:34,628 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:09:34,628 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:09:53.695727+03:00 (in 19.067329 seconds)
2025-01-28 23:09:34,628 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:09:34 MSK], next run at: 2025-01-28 23:09:34 MSK)" (scheduled at 2025-01-28 23:09:34.627124+03:00)
2025-01-28 23:09:35,465 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:09:35,465 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:09:35,487 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:09:35,487 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:09:35,487 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:09:35,487 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:09:35,503 - services.BlockService - INFO - last completed block is e1341919-4445-4c7d-bb0d-7a26ca0fc308 (BlockStatus.COMPLETED)
2025-01-28 23:09:36,118 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:09:36,118 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:09:34 MSK], next run at: 2025-01-28 23:09:34 MSK)" executed successfully
2025-01-28 23:09:36,119 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:09:36,119 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:09:53.695727+03:00 (in 17.576598 seconds)
2025-01-28 23:09:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:09:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:10:23.695727+03:00 (in 29.998730 seconds)
2025-01-28 23:09:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:10:23 MSK)" (scheduled at 2025-01-28 23:09:53.695727+03:00)
2025-01-28 23:09:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:09:53,705 - services.DepositService - INFO - wallet
2025-01-28 23:09:53,705 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:09:53,943 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:09:53,944 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:09:53,944 - services.DepositService - INFO - transactions
2025-01-28 23:09:53,944 - services.DepositService - INFO - []
2025-01-28 23:09:53,944 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:10:23 MSK)" executed successfully
2025-01-28 23:10:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:10:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:10:53.695727+03:00 (in 29.997353 seconds)
2025-01-28 23:10:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:10:53 MSK)" (scheduled at 2025-01-28 23:10:23.695727+03:00)
2025-01-28 23:10:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:10:23,713 - services.DepositService - INFO - wallet
2025-01-28 23:10:23,714 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:10:23,980 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:10:23,982 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:10:23,983 - services.DepositService - INFO - transactions
2025-01-28 23:10:23,983 - services.DepositService - INFO - []
2025-01-28 23:10:23,983 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:10:53 MSK)" executed successfully
2025-01-28 23:10:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:10:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:11:06.118463+03:00 (in 12.420224 seconds)
2025-01-28 23:10:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:11:23 MSK)" (scheduled at 2025-01-28 23:10:53.695727+03:00)
2025-01-28 23:10:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:10:53,712 - services.DepositService - INFO - wallet
2025-01-28 23:10:53,712 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:10:53,983 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:10:53,985 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:10:53,985 - services.DepositService - INFO - transactions
2025-01-28 23:10:53,985 - services.DepositService - INFO - []
2025-01-28 23:10:53,985 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:11:23 MSK)" executed successfully
2025-01-28 23:11:06,119 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:11:06,120 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:11:06,120 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:11:23.695727+03:00 (in 17.575343 seconds)
2025-01-28 23:11:06,120 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:11:06 MSK], next run at: 2025-01-28 23:11:06 MSK)" (scheduled at 2025-01-28 23:11:06.118463+03:00)
2025-01-28 23:11:07,325 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:11:07,326 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:11:07,362 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:11:07,363 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:11:07,363 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:11:07,363 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:11:07,373 - services.BlockService - INFO - last completed block is c4b0c66b-3f2a-403a-b5c4-db88b94e8cc9 (BlockStatus.COMPLETED)
2025-01-28 23:11:08,131 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:11:08,132 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:11:06 MSK], next run at: 2025-01-28 23:11:06 MSK)" executed successfully
2025-01-28 23:11:08,132 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:11:08,132 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:11:23.695727+03:00 (in 15.563154 seconds)
2025-01-28 23:11:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:11:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:11:53.695727+03:00 (in 29.997217 seconds)
2025-01-28 23:11:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:11:53 MSK)" (scheduled at 2025-01-28 23:11:23.695727+03:00)
2025-01-28 23:11:23,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:11:23,708 - services.DepositService - INFO - wallet
2025-01-28 23:11:23,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:11:23,960 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:11:23,961 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:11:23,961 - services.DepositService - INFO - transactions
2025-01-28 23:11:23,961 - services.DepositService - INFO - []
2025-01-28 23:11:23,962 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:11:53 MSK)" executed successfully
2025-01-28 23:11:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:11:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:12:23.695727+03:00 (in 29.997847 seconds)
2025-01-28 23:11:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:12:23 MSK)" (scheduled at 2025-01-28 23:11:53.695727+03:00)
2025-01-28 23:11:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:11:53,709 - services.DepositService - INFO - wallet
2025-01-28 23:11:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:11:53,961 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:11:53,963 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:11:53,963 - services.DepositService - INFO - transactions
2025-01-28 23:11:53,963 - services.DepositService - INFO - []
2025-01-28 23:11:53,964 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:12:23 MSK)" executed successfully
2025-01-28 23:12:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:12:23,699 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:12:38.131289+03:00 (in 14.432105 seconds)
2025-01-28 23:12:23,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:12:53 MSK)" (scheduled at 2025-01-28 23:12:23.695727+03:00)
2025-01-28 23:12:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:12:23,715 - services.DepositService - INFO - wallet
2025-01-28 23:12:23,715 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:12:23,934 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:12:23,935 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:12:23,936 - services.DepositService - INFO - transactions
2025-01-28 23:12:23,936 - services.DepositService - INFO - []
2025-01-28 23:12:23,936 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:12:53 MSK)" executed successfully
2025-01-28 23:12:38,132 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:12:38,133 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:12:38,133 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:12:53.695727+03:00 (in 15.562046 seconds)
2025-01-28 23:12:38,133 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:12:38 MSK], next run at: 2025-01-28 23:12:38 MSK)" (scheduled at 2025-01-28 23:12:38.131289+03:00)
2025-01-28 23:12:39,277 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:12:39,278 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:12:39,307 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:12:39,308 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:12:39,308 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:12:39,308 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:12:39,320 - services.BlockService - INFO - last completed block is dd640b37-12ef-44cb-ab31-8b5341c15e87 (BlockStatus.COMPLETED)
2025-01-28 23:12:40,047 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:12:40,047 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:12:38 MSK], next run at: 2025-01-28 23:12:38 MSK)" executed successfully
2025-01-28 23:12:40,048 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:12:40,048 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:12:53.695727+03:00 (in 13.647551 seconds)
INFO:     172.18.0.6:51320 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 23:12:41,478 - services.TokenService - ERROR - Token has expired: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lKaU5qTXlNRFJrT1MwNFkyUmlMVFEyTTJJdFlqVmtZeTB3TldFMllqWmpNVEprTnpNaUxDSmxlSEFpT2pFM016Z3dPVFE1TnpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmo5V3VJMS1SYjZleEFBcDhVb3g3ei1nZ1dGRlZGb1pIbmIxUTMybXJlXzgiLCJleHAiOjE3MzgwOTQ1MTQsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.Zm60CXXV0E8L9dvsa-Nn7ey7cb3JSsXd1v53pQCLCbk
2025-01-28 23:12:41,478 - middlewares.auth_middleware - ERROR - fuuuck eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwOmUzYmJhMmRkMjlkNjc1N2QzN2ZhMzQyZTUyMDRhYTRkMzc4OWVkZmUwMGQxNTY4ZDIyM2UzOTdiNTU2ZWUxYzIiLCJwYXlsb2FkIjoiZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnpkV0lpT2lKaU5qTXlNRFJrT1MwNFkyUmlMVFEyTTJJdFlqVmtZeTB3TldFMllqWmpNVEprTnpNaUxDSmxlSEFpT2pFM016Z3dPVFE1TnpFc0ltbHpjeUk2SW5kcGNHa3RZbUZqYXlJc0ltRjFaQ0k2SW5kcGNHa3Rabkp2Ym5RaWZRLmo5V3VJMS1SYjZleEFBcDhVb3g3ei1nZ1dGRlZGb1pIbmIxUTMybXJlXzgiLCJleHAiOjE3MzgwOTQ1MTQsImlzcyI6IndpcGktYmFjayIsImF1ZCI6IndpcGktZnJvbnQifQ.Zm60CXXV0E8L9dvsa-Nn7ey7cb3JSsXd1v53pQCLCbk
Traceback (most recent call last):
  File "/app/services/TokenService.py", line 79, in get_token_payload
    claims = decode(
             ^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 167, in decode_complete
    self._validate_claims(
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 262, in _validate_claims
    self._validate_exp(payload, now, leeway)
  File "/usr/local/lib/python3.12/site-packages/jwt/api_jwt.py", line 363, in _validate_exp
    raise ExpiredSignatureError("Signature has expired")
jwt.exceptions.ExpiredSignatureError: Signature has expired

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/middlewares/auth_middleware.py", line 34, in check_for_auth
    user_id = await auth_service.get_user_id_from_jwt(access_token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TelegramWalletAuthService.py", line 22, in get_user_id_from_jwt
    payload = self.token_service.get_token_payload(token=token)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/services/TokenService.py", line 93, in get_token_payload
    raise ExpiredTokenException from ex
services.exceptions.ExpiredTokenException
INFO:     172.18.0.6:51336 - "GET /chain/time HTTP/1.0" 401 Unauthorized
INFO:     172.18.0.6:51350 - "OPTIONS /auth/refresh HTTP/1.0" 200 OK
2025-01-28 23:12:44,824 - services.TokenService - ERROR - creating 2025-01-28 20:14:44.824767+00:00
INFO:     172.18.0.6:51358 - "POST /auth/refresh HTTP/1.0" 200 OK
INFO:     172.18.0.6:51366 - "OPTIONS /chain/time HTTP/1.0" 200 OK
2025-01-28 23:12:48,642 - routes.chain - INFO - res: block_id=UUID('2ee950d9-c3b1-4c38-8c99-d163112fe5a1') server_time=datetime.datetime(2025, 1, 28, 23, 12, 48, 641950) current_block=12839 remaining_time_in_block=80
INFO:     172.18.0.6:51372 - "GET /chain/time HTTP/1.0" 200 OK
2025-01-28 23:12:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:12:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:13:23.695727+03:00 (in 29.998157 seconds)
2025-01-28 23:12:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:13:23 MSK)" (scheduled at 2025-01-28 23:12:53.695727+03:00)
2025-01-28 23:12:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:12:53,731 - services.DepositService - INFO - wallet
2025-01-28 23:12:53,731 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:12:53,921 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:12:53,922 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:12:53,923 - services.DepositService - INFO - transactions
2025-01-28 23:12:53,923 - services.DepositService - INFO - []
2025-01-28 23:12:53,923 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:13:23 MSK)" executed successfully
2025-01-28 23:13:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:13:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:13:53.695727+03:00 (in 29.996944 seconds)
2025-01-28 23:13:23,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:13:53 MSK)" (scheduled at 2025-01-28 23:13:23.695727+03:00)
2025-01-28 23:13:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:13:23,715 - services.DepositService - INFO - wallet
2025-01-28 23:13:23,715 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:13:23,952 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:13:23,954 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:13:23,954 - services.DepositService - INFO - transactions
2025-01-28 23:13:23,955 - services.DepositService - INFO - []
2025-01-28 23:13:23,955 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:13:53 MSK)" executed successfully
2025-01-28 23:13:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:13:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:14:10.047153+03:00 (in 16.349075 seconds)
2025-01-28 23:13:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:14:23 MSK)" (scheduled at 2025-01-28 23:13:53.695727+03:00)
2025-01-28 23:13:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:13:53,724 - services.DepositService - INFO - wallet
2025-01-28 23:13:53,724 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:13:54,595 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:13:54,596 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:13:54,596 - services.DepositService - INFO - transactions
2025-01-28 23:13:54,596 - services.DepositService - INFO - []
2025-01-28 23:13:54,596 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:14:23 MSK)" executed successfully
2025-01-28 23:14:10,049 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:14:10,050 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:14:10,051 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:14:23.695727+03:00 (in 13.644596 seconds)
2025-01-28 23:14:10,051 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:14:10 MSK], next run at: 2025-01-28 23:14:10 MSK)" (scheduled at 2025-01-28 23:14:10.047153+03:00)
2025-01-28 23:14:10,990 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:14:10,991 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:14:11,023 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:14:11,023 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:14:11,023 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:14:11,023 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:14:11,037 - services.BlockService - INFO - last completed block is 2ee950d9-c3b1-4c38-8c99-d163112fe5a1 (BlockStatus.COMPLETED)
2025-01-28 23:14:11,857 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:14:11,857 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:14:10 MSK], next run at: 2025-01-28 23:14:10 MSK)" executed successfully
2025-01-28 23:14:11,857 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:14:11,857 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:14:23.695727+03:00 (in 11.837751 seconds)
2025-01-28 23:14:23,698 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:14:23,699 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:14:53.695727+03:00 (in 29.996545 seconds)
2025-01-28 23:14:23,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:14:53 MSK)" (scheduled at 2025-01-28 23:14:23.695727+03:00)
2025-01-28 23:14:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:14:23,711 - services.DepositService - INFO - wallet
2025-01-28 23:14:23,711 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:14:23,965 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:14:23,967 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:14:23,967 - services.DepositService - INFO - transactions
2025-01-28 23:14:23,967 - services.DepositService - INFO - []
2025-01-28 23:14:23,968 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:14:53 MSK)" executed successfully
2025-01-28 23:14:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:14:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:15:23.695727+03:00 (in 29.997453 seconds)
2025-01-28 23:14:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:15:23 MSK)" (scheduled at 2025-01-28 23:14:53.695727+03:00)
2025-01-28 23:14:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:14:53,711 - services.DepositService - INFO - wallet
2025-01-28 23:14:53,711 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:14:53,893 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:14:53,894 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:14:53,895 - services.DepositService - INFO - transactions
2025-01-28 23:14:53,895 - services.DepositService - INFO - []
2025-01-28 23:14:53,895 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:15:23 MSK)" executed successfully
2025-01-28 23:15:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:15:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:15:41.856665+03:00 (in 18.158710 seconds)
2025-01-28 23:15:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:15:53 MSK)" (scheduled at 2025-01-28 23:15:23.695727+03:00)
2025-01-28 23:15:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:15:23,714 - services.DepositService - INFO - wallet
2025-01-28 23:15:23,714 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:15:23,966 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:15:23,967 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:15:23,968 - services.DepositService - INFO - transactions
2025-01-28 23:15:23,968 - services.DepositService - INFO - []
2025-01-28 23:15:23,968 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:15:53 MSK)" executed successfully
2025-01-28 23:15:41,857 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:15:41,858 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:15:41,858 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:15:53.695727+03:00 (in 11.837271 seconds)
2025-01-28 23:15:41,858 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:15:41 MSK], next run at: 2025-01-28 23:15:41 MSK)" (scheduled at 2025-01-28 23:15:41.856665+03:00)
2025-01-28 23:15:42,717 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:15:42,717 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:15:42,737 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:15:42,738 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:15:42,738 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:15:42,738 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:15:42,747 - services.BlockService - INFO - last completed block is 6b4c64a0-2b9d-4a94-877d-9754e2e263c2 (BlockStatus.COMPLETED)
2025-01-28 23:15:43,375 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:15:43,375 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:15:41 MSK], next run at: 2025-01-28 23:15:41 MSK)" executed successfully
2025-01-28 23:15:43,375 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:15:43,375 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:15:53.695727+03:00 (in 10.319743 seconds)
2025-01-28 23:15:53,698 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:15:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:16:23.695727+03:00 (in 29.996943 seconds)
2025-01-28 23:15:53,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:16:23 MSK)" (scheduled at 2025-01-28 23:15:53.695727+03:00)
2025-01-28 23:15:53,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:15:53,710 - services.DepositService - INFO - wallet
2025-01-28 23:15:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:15:53,928 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:15:53,929 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:15:53,929 - services.DepositService - INFO - transactions
2025-01-28 23:15:53,929 - services.DepositService - INFO - []
2025-01-28 23:15:53,929 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:16:23 MSK)" executed successfully
2025-01-28 23:16:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:16:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:16:53.695727+03:00 (in 29.997433 seconds)
2025-01-28 23:16:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:16:53 MSK)" (scheduled at 2025-01-28 23:16:23.695727+03:00)
2025-01-28 23:16:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:16:23,715 - services.DepositService - INFO - wallet
2025-01-28 23:16:23,715 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:16:23,980 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:16:23,981 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:16:23,982 - services.DepositService - INFO - transactions
2025-01-28 23:16:23,982 - services.DepositService - INFO - []
2025-01-28 23:16:23,982 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:16:53 MSK)" executed successfully
2025-01-28 23:16:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:16:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:17:13.375253+03:00 (in 19.676744 seconds)
2025-01-28 23:16:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:17:23 MSK)" (scheduled at 2025-01-28 23:16:53.695727+03:00)
2025-01-28 23:16:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:16:53,710 - services.DepositService - INFO - wallet
2025-01-28 23:16:53,710 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:16:54,505 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:16:54,507 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:16:54,508 - services.DepositService - INFO - transactions
2025-01-28 23:16:54,508 - services.DepositService - INFO - []
2025-01-28 23:16:54,508 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:17:23 MSK)" executed successfully
2025-01-28 23:17:13,376 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:17:13,376 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:17:13,376 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:17:23.695727+03:00 (in 10.318847 seconds)
2025-01-28 23:17:13,377 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:17:13 MSK], next run at: 2025-01-28 23:17:13 MSK)" (scheduled at 2025-01-28 23:17:13.375253+03:00)
2025-01-28 23:17:14,180 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:17:14,181 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:17:14,207 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:17:14,208 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:17:14,208 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:17:14,208 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:17:14,218 - services.BlockService - INFO - last completed block is 7cbaac88-62f0-41c1-9f1c-242d70e46eb0 (BlockStatus.COMPLETED)
2025-01-28 23:17:14,892 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:17:14,892 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:17:13 MSK], next run at: 2025-01-28 23:17:13 MSK)" executed successfully
2025-01-28 23:17:14,892 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:17:14,892 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:17:23.695727+03:00 (in 8.802959 seconds)
2025-01-28 23:17:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:17:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:17:53.695727+03:00 (in 29.998312 seconds)
2025-01-28 23:17:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:17:53 MSK)" (scheduled at 2025-01-28 23:17:23.695727+03:00)
2025-01-28 23:17:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:17:23,705 - services.DepositService - INFO - wallet
2025-01-28 23:17:23,706 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:17:23,897 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:17:23,899 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:17:23,899 - services.DepositService - INFO - transactions
2025-01-28 23:17:23,899 - services.DepositService - INFO - []
2025-01-28 23:17:23,899 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:17:53 MSK)" executed successfully
2025-01-28 23:17:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:17:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:18:23.695727+03:00 (in 29.998507 seconds)
2025-01-28 23:17:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:18:23 MSK)" (scheduled at 2025-01-28 23:17:53.695727+03:00)
2025-01-28 23:17:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:17:53,705 - services.DepositService - INFO - wallet
2025-01-28 23:17:53,706 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:17:53,946 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:17:53,948 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:17:53,948 - services.DepositService - INFO - transactions
2025-01-28 23:17:53,948 - services.DepositService - INFO - []
2025-01-28 23:17:53,948 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:18:23 MSK)" executed successfully
2025-01-28 23:18:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:18:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:18:44.891929+03:00 (in 21.194669 seconds)
2025-01-28 23:18:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:18:53 MSK)" (scheduled at 2025-01-28 23:18:23.695727+03:00)
2025-01-28 23:18:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:18:23,708 - services.DepositService - INFO - wallet
2025-01-28 23:18:23,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:18:23,931 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:18:23,932 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:18:23,932 - services.DepositService - INFO - transactions
2025-01-28 23:18:23,932 - services.DepositService - INFO - []
2025-01-28 23:18:23,932 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:18:53 MSK)" executed successfully
2025-01-28 23:18:44,893 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:18:44,893 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:18:44,893 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:18:53.695727+03:00 (in 8.801769 seconds)
2025-01-28 23:18:44,894 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:18:44 MSK], next run at: 2025-01-28 23:18:44 MSK)" (scheduled at 2025-01-28 23:18:44.891929+03:00)
2025-01-28 23:18:45,741 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:18:45,741 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:18:45,765 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:18:45,765 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:18:45,765 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:18:45,765 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:18:45,776 - services.BlockService - INFO - last completed block is e024fc48-60fc-401e-a946-29e5adac4c6a (BlockStatus.COMPLETED)
2025-01-28 23:18:46,495 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:18:46,495 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:18:44 MSK], next run at: 2025-01-28 23:18:44 MSK)" executed successfully
2025-01-28 23:18:46,496 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:18:46,496 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:18:53.695727+03:00 (in 7.199537 seconds)
2025-01-28 23:18:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:18:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:19:23.695727+03:00 (in 29.998689 seconds)
2025-01-28 23:18:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:19:23 MSK)" (scheduled at 2025-01-28 23:18:53.695727+03:00)
2025-01-28 23:18:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:18:53,707 - services.DepositService - INFO - wallet
2025-01-28 23:18:53,707 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:18:53,950 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:18:53,951 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:18:53,951 - services.DepositService - INFO - transactions
2025-01-28 23:18:53,951 - services.DepositService - INFO - []
2025-01-28 23:18:53,951 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:19:23 MSK)" executed successfully
2025-01-28 23:19:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:19:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:19:53.695727+03:00 (in 29.998345 seconds)
2025-01-28 23:19:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:19:53 MSK)" (scheduled at 2025-01-28 23:19:23.695727+03:00)
2025-01-28 23:19:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:19:23,708 - services.DepositService - INFO - wallet
2025-01-28 23:19:23,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:19:23,906 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:19:23,908 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:19:23,908 - services.DepositService - INFO - transactions
2025-01-28 23:19:23,908 - services.DepositService - INFO - []
2025-01-28 23:19:23,908 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:19:53 MSK)" executed successfully
2025-01-28 23:19:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:19:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:20:16.495386+03:00 (in 22.796913 seconds)
2025-01-28 23:19:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:20:23 MSK)" (scheduled at 2025-01-28 23:19:53.695727+03:00)
2025-01-28 23:19:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:19:53,708 - services.DepositService - INFO - wallet
2025-01-28 23:19:53,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:19:53,883 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:19:53,884 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:19:53,885 - services.DepositService - INFO - transactions
2025-01-28 23:19:53,885 - services.DepositService - INFO - []
2025-01-28 23:19:53,885 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:20:23 MSK)" executed successfully
2025-01-28 23:20:16,497 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:20:16,498 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:20:16,498 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:20:23.695727+03:00 (in 7.197109 seconds)
2025-01-28 23:20:16,499 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:20:16 MSK], next run at: 2025-01-28 23:20:16 MSK)" (scheduled at 2025-01-28 23:20:16.495386+03:00)
2025-01-28 23:20:17,407 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:20:17,408 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:20:17,437 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:20:17,437 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:20:17,437 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:20:17,437 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:20:17,451 - services.BlockService - INFO - last completed block is c83ebea1-9585-4581-87f0-ebe3fc9abb72 (BlockStatus.COMPLETED)
2025-01-28 23:20:18,271 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:20:18,271 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:20:16 MSK], next run at: 2025-01-28 23:20:16 MSK)" executed successfully
2025-01-28 23:20:18,271 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:20:18,271 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:20:23.695727+03:00 (in 5.424097 seconds)
2025-01-28 23:20:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:20:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:20:53.695727+03:00 (in 29.998654 seconds)
2025-01-28 23:20:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:20:53 MSK)" (scheduled at 2025-01-28 23:20:23.695727+03:00)
2025-01-28 23:20:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:20:23,707 - services.DepositService - INFO - wallet
2025-01-28 23:20:23,707 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:20:23,912 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:20:23,913 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:20:23,913 - services.DepositService - INFO - transactions
2025-01-28 23:20:23,913 - services.DepositService - INFO - []
2025-01-28 23:20:23,913 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:20:53 MSK)" executed successfully
2025-01-28 23:20:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:20:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:21:23.695727+03:00 (in 29.998056 seconds)
2025-01-28 23:20:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:21:23 MSK)" (scheduled at 2025-01-28 23:20:53.695727+03:00)
2025-01-28 23:20:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:20:53,707 - services.DepositService - INFO - wallet
2025-01-28 23:20:53,707 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:20:54,016 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:20:54,017 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:20:54,017 - services.DepositService - INFO - transactions
2025-01-28 23:20:54,017 - services.DepositService - INFO - []
2025-01-28 23:20:54,017 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:21:23 MSK)" executed successfully
2025-01-28 23:21:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:21:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:21:48.271021+03:00 (in 24.572702 seconds)
2025-01-28 23:21:23,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:21:53 MSK)" (scheduled at 2025-01-28 23:21:23.695727+03:00)
2025-01-28 23:21:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:21:23,709 - services.DepositService - INFO - wallet
2025-01-28 23:21:23,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:21:23,956 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:21:23,957 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:21:23,957 - services.DepositService - INFO - transactions
2025-01-28 23:21:23,957 - services.DepositService - INFO - []
2025-01-28 23:21:23,957 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:21:53 MSK)" executed successfully
2025-01-28 23:21:48,272 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:21:48,272 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:21:48,272 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:21:53.695727+03:00 (in 5.422771 seconds)
2025-01-28 23:21:48,273 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:21:48 MSK], next run at: 2025-01-28 23:21:48 MSK)" (scheduled at 2025-01-28 23:21:48.271021+03:00)
2025-01-28 23:21:48,957 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:21:48,957 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:21:48,981 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:21:48,981 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:21:48,981 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:21:48,981 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:21:48,992 - services.BlockService - INFO - last completed block is bb3a7ee1-d385-449a-b02a-237f62dfd49e (BlockStatus.COMPLETED)
2025-01-28 23:21:49,956 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:21:49,956 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:21:48 MSK], next run at: 2025-01-28 23:21:48 MSK)" executed successfully
2025-01-28 23:21:49,956 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:21:49,956 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:21:53.695727+03:00 (in 3.738889 seconds)
2025-01-28 23:21:53,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:21:53,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:22:23.695727+03:00 (in 29.998612 seconds)
2025-01-28 23:21:53,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:22:23 MSK)" (scheduled at 2025-01-28 23:21:53.695727+03:00)
2025-01-28 23:21:53,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:21:53,713 - services.DepositService - INFO - wallet
2025-01-28 23:21:53,713 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:21:54,333 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:21:54,335 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:21:54,335 - services.DepositService - INFO - transactions
2025-01-28 23:21:54,335 - services.DepositService - INFO - []
2025-01-28 23:21:54,335 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:22:23 MSK)" executed successfully
2025-01-28 23:22:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:22:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:22:53.695727+03:00 (in 29.998641 seconds)
2025-01-28 23:22:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:22:53 MSK)" (scheduled at 2025-01-28 23:22:23.695727+03:00)
2025-01-28 23:22:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:22:23,709 - services.DepositService - INFO - wallet
2025-01-28 23:22:23,709 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:22:23,902 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:22:23,903 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:22:23,903 - services.DepositService - INFO - transactions
2025-01-28 23:22:23,903 - services.DepositService - INFO - []
2025-01-28 23:22:23,903 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:22:53 MSK)" executed successfully
2025-01-28 23:22:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:22:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:23:19.955703+03:00 (in 26.257048 seconds)
2025-01-28 23:22:53,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:23:23 MSK)" (scheduled at 2025-01-28 23:22:53.695727+03:00)
2025-01-28 23:22:53,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:22:53,711 - services.DepositService - INFO - wallet
2025-01-28 23:22:53,712 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:22:53,962 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:22:53,964 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:22:53,964 - services.DepositService - INFO - transactions
2025-01-28 23:22:53,964 - services.DepositService - INFO - []
2025-01-28 23:22:53,964 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:23:23 MSK)" executed successfully
2025-01-28 23:23:19,956 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:23:19,957 - apscheduler.scheduler - INFO - Removed job block_generation
2025-01-28 23:23:19,957 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:23:23.695727+03:00 (in 3.738215 seconds)
2025-01-28 23:23:19,957 - apscheduler.executors.default - INFO - Running job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:23:19 MSK], next run at: 2025-01-28 23:23:19 MSK)" (scheduled at 2025-01-28 23:23:19.955703+03:00)
2025-01-28 23:23:20,730 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:23:20,731 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:23:20,762 - services.math_services.AggregateBetsService - INFO - aggregated_quaternion
2025-01-28 23:23:20,762 - services.math_services.AggregateBetsService - INFO - (0, 0)
2025-01-28 23:23:20,762 - services.OrchestratorService - INFO - Aggregated bets: (0, 0)
2025-01-28 23:23:20,762 - services.OrchestratorService - INFO - Rewards: Rewards(total_reward_pool=0, user_rewards=[])
2025-01-28 23:23:20,775 - services.BlockService - INFO - last completed block is e18bf2d6-aa00-4233-bfda-1dc91a8d1eb8 (BlockStatus.COMPLETED)
2025-01-28 23:23:21,695 - apscheduler.scheduler - INFO - Added job "ChainService._generate_new_blocks" to job store "default"
2025-01-28 23:23:21,696 - apscheduler.executors.default - INFO - Job "ChainService._generate_new_blocks (trigger: date[2025-01-28 23:23:19 MSK], next run at: 2025-01-28 23:23:19 MSK)" executed successfully
2025-01-28 23:23:21,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:23:21,696 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:23:23.695727+03:00 (in 1.999154 seconds)
2025-01-28 23:23:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:23:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:23:53.695727+03:00 (in 29.998212 seconds)
2025-01-28 23:23:23,697 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:23:53 MSK)" (scheduled at 2025-01-28 23:23:23.695727+03:00)
2025-01-28 23:23:23,697 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:23:23,704 - services.DepositService - INFO - wallet
2025-01-28 23:23:23,705 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:23:23,957 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:23:23,958 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:23:23,959 - services.DepositService - INFO - transactions
2025-01-28 23:23:23,959 - services.DepositService - INFO - []
2025-01-28 23:23:23,959 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:23:53 MSK)" executed successfully
2025-01-28 23:23:53,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:23:53,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:24:23.695727+03:00 (in 29.997066 seconds)
2025-01-28 23:23:53,698 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:24:23 MSK)" (scheduled at 2025-01-28 23:23:53.695727+03:00)
2025-01-28 23:23:53,698 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:23:53,708 - services.DepositService - INFO - wallet
2025-01-28 23:23:53,708 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:23:53,896 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:23:53,897 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:23:53,897 - services.DepositService - INFO - transactions
2025-01-28 23:23:53,897 - services.DepositService - INFO - []
2025-01-28 23:23:53,898 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:24:23 MSK)" executed successfully
2025-01-28 23:24:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-01-28 23:24:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-01-28 23:24:51.695577+03:00 (in 27.996876 seconds)
2025-01-28 23:24:23,699 - apscheduler.executors.default - INFO - Running job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:24:53 MSK)" (scheduled at 2025-01-28 23:24:23.695727+03:00)
2025-01-28 23:24:23,699 - services.DepositService - INFO - check_users_transactions
2025-01-28 23:24:23,719 - services.DepositService - INFO - wallet
2025-01-28 23:24:23,719 - services.DepositService - INFO - AppWallet(id=UUID('46b83ad7-d3e2-4f52-b30e-ce2231464cd0'), created_at=datetime.datetime(2025, 1, 7, 17, 16, 48), updated_at=datetime.datetime(2025, 1, 7, 17, 16, 53), address='UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J', wallet_type=<WalletType.DEPOSIT: 'deposit'>, wallet_version=<AppWalletVersion.V5R1: 'v5r1'>, balance=0.29, private_key=None)
2025-01-28 23:24:23,957 - httpx - INFO - HTTP Request: GET https://tonapi.io/v2/blockchain/accounts/UQBVHXhBu2aWGNc0mkztPUSjKc4CWFsCVyuWqspZmLWvUw7J/transactions?after_lt=53121475000001 "HTTP/1.1 200 OK"
2025-01-28 23:24:23,959 - services.ton.client.api - INFO - response is <class 'list'>
2025-01-28 23:24:23,959 - services.DepositService - INFO - transactions
2025-01-28 23:24:23,959 - services.DepositService - INFO - []
2025-01-28 23:24:23,959 - apscheduler.executors.default - INFO - Job "DepositService.check_users_transactions (trigger: interval[0:00:30], next run at: 2025-01-28 23:24:53 MSK)" executed successfully
